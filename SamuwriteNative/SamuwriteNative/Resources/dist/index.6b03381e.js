!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},o=n.parcelRequirede7d;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},n.parcelRequirede7d=o),o.register("cmWpH",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("7xQK0",(function(n,r){e(n.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return i}),(function(e){return i=e})),e(n.exports,"createPortal",(function(){return a}),(function(e){return a=e})),e(n.exports,"findDOMNode",(function(){return s}),(function(e){return s=e})),e(n.exports,"flushSync",(function(){return l}),(function(e){return l=e})),e(n.exports,"hydrate",(function(){return u}),(function(e){return u=e})),e(n.exports,"render",(function(){return c}),(function(e){return c=e})),e(n.exports,"unmountComponentAtNode",(function(){return d}),(function(e){return d=e})),e(n.exports,"unstable_batchedUpdates",(function(){return h}),(function(e){return h=e})),e(n.exports,"unstable_createPortal",(function(){return f}),(function(e){return f=e})),e(n.exports,"unstable_renderSubtreeIntoContainer",(function(){return p}),(function(e){return p=e})),e(n.exports,"version",(function(){return g}),(function(e){return g=e}));var i,a,s,l,u,c,d,h,f,p,g,v=o("84NKZ"),m=o("6AbkI"),y=o("vdCOF"),b=o("h2Z4C");function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(_(227));var k=new Set,C={};function x(e,t){w(e,t),w(e+"Capture",t)}function w(e,t){for(C[e]=t,e=0;e<t.length;e++)k.add(t[e])}var S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D=Object.prototype.hasOwnProperty,I={},R={};function L(e,n,r,i){if(null==n||function(e,n,r,i){if(null!==r&&0===r.type)return!1;switch(void 0===n?"undefined":t(v)(n)){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,r,i))return!0;if(i)return!1;if(null!==r)switch(r.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function A(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){M[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];M[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){M[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){M[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){M[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){M[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){M[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){M[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){M[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var T=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}function P(e,t,n,r){var i=M.hasOwnProperty(t)?M[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(L(t,n,i,r)&&(n=null),r||null===i?function(e){return!!D.call(R,e)||!D.call(I,e)&&(E.test(e)?R[e]=!0:(I[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(T,N);M[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(T,N);M[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(T,N);M[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){M[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),M.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){M[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var O=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=60103,B=60106,z=60107,W=60108,H=60114,V=60109,j=60110,K=60112,U=60113,q=60120,Z=60115,G=60116,Q=60121,J=60128,Y=60129,X=60130,$=60131;if("function"==typeof Symbol&&Symbol.for){var ee=Symbol.for;F=ee("react.element"),B=ee("react.portal"),z=ee("react.fragment"),W=ee("react.strict_mode"),H=ee("react.profiler"),V=ee("react.provider"),j=ee("react.context"),K=ee("react.forward_ref"),U=ee("react.suspense"),q=ee("react.suspense_list"),Z=ee("react.memo"),G=ee("react.lazy"),Q=ee("react.block"),ee("react.scope"),J=ee("react.opaque.id"),Y=ee("react.debug_trace_mode"),X=ee("react.offscreen"),$=ee("react.legacy_hidden")}var te,ne="function"==typeof Symbol&&Symbol.iterator;function re(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ne&&e[ne]||e["@@iterator"])?e:null}function ie(e){if(void 0===te)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);te=t&&t[1]||""}return"\n"+te+e}var oe=!1;function ae(e,t){if(!e||oe)return"";oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{oe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ie(e):""}function se(e){switch(e.tag){case 5:return ie(e.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1);case 11:return e=ae(e.type.render,!1);case 22:return e=ae(e.type._render,!1);case 1:return e=ae(e.type,!0);default:return""}}function le(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case z:return"Fragment";case B:return"Portal";case H:return"Profiler";case W:return"StrictMode";case U:return"Suspense";case q:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case V:return(e._context.displayName||"Context")+".Provider";case K:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Z:return le(e.type);case Q:return le(e._render);case G:t=e._payload,e=e._init;try{return le(e(t))}catch(e){}}return null}function ue(e){switch(void 0===e?"undefined":t(v)(e)){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ce(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function de(e){e._valueTracker||(e._valueTracker=function(e){var t=ce(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function he(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ce(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function fe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function pe(e,t){var n=t.checked;return y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ge(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ue(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ve(e,t){null!=(t=t.checked)&&P(e,"checked",t,!1)}function me(e,t){ve(e,t);var n=ue(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?be(e,t.type,n):t.hasOwnProperty("defaultValue")&&be(e,t.type,ue(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ye(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function be(e,t,n){"number"===t&&fe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function _e(e,t){return e=y({children:void 0},t),(t=function(e){var t="";return m.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ke(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ue(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(_(91));return y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(_(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(_(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ue(n)}}function we(e,t){var n=ue(t.value),r=ue(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ee="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function Ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Le,Ae,Me=(Ae=function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Le=Le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ae(e,t)}))}:Ae);function Te(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ne={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pe=["Webkit","ms","Moz","O"];function Oe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Ne.hasOwnProperty(e)&&Ne[e]?(""+t).trim():t+"px"}function Fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Oe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ne).forEach((function(e){Pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ne[t]=Ne[e]}))}));var Be=y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ze(e,t){if(t){if(Be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(_(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(_(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(_(62))}}function We(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function He(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ve=null,je=null,Ke=null;function Ue(e){if(e=gi(e)){if("function"!=typeof Ve)throw Error(_(280));var t=e.stateNode;t&&(t=mi(t),Ve(e.stateNode,e.type,t))}}function qe(e){je?Ke?Ke.push(e):Ke=[e]:je=e}function Ze(){if(je){var e=je,t=Ke;if(Ke=je=null,Ue(e),t)for(e=0;e<t.length;e++)Ue(t[e])}}function Ge(e,t){return e(t)}function Qe(e,t,n,r,i){return e(t,n,r,i)}function Je(){}var Ye=Ge,Xe=!1,$e=!1;function et(){null===je&&null===Ke||(Je(),Ze())}function tt(e,n){var r=e.stateNode;if(null===r)return null;var i=mi(r);if(null===i)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(_(231,n,void 0===r?"undefined":t(v)(r)));return r}var nt=!1;if(S)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch(Ae){nt=!1}function it(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var ot=!1,at=null,st=!1,lt=null,ut={onError:function(e){ot=!0,at=e}};function ct(e,t,n,r,i,o,a,s,l){ot=!1,at=null,it.apply(ut,arguments)}function dt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ht(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ft(e){if(dt(e)!==e)throw Error(_(188))}function pt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=dt(e)))throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ft(i),e;if(o===r)return ft(i),t;o=o.sibling}throw Error(_(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(3!==n.tag)throw Error(_(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function gt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var vt,mt,yt,bt,_t=!1,kt=[],Ct=null,xt=null,wt=null,St=new Map,Et=new Map,Dt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Rt(t,n,r,i,o),null!==t&&(null!==(t=gi(t))&&mt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=pi(e.target);if(null!==t){var n=dt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ht(n)))return e.blockedOn=t,void bt(e.lanePriority,(function(){b.unstable_runWithPriority(e.priority,(function(){yt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Tt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=gn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&mt(t),e.blockedOn=n,!1;t.shift()}return!0}function Nt(e,t,n){Tt(e)&&n.delete(t)}function Pt(){for(_t=!1;0<kt.length;){var e=kt[0];if(null!==e.blockedOn){null!==(e=gi(e.blockedOn))&&vt(e);break}for(var t=e.targetContainers;0<t.length;){var n=gn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&kt.shift()}null!==Ct&&Tt(Ct)&&(Ct=null),null!==xt&&Tt(xt)&&(xt=null),null!==wt&&Tt(wt)&&(wt=null),St.forEach(Nt),Et.forEach(Nt)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,b.unstable_scheduleCallback(b.unstable_NormalPriority,Pt)))}function Ft(e){function t(t){return Ot(t,e)}if(0<kt.length){Ot(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ot(Ct,e),null!==xt&&Ot(xt,e),null!==wt&&Ot(wt,e),St.forEach(t),Et.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}function Bt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zt={animationend:Bt("Animation","AnimationEnd"),animationiteration:Bt("Animation","AnimationIteration"),animationstart:Bt("Animation","AnimationStart"),transitionend:Bt("Transition","TransitionEnd")},Wt={},Ht={};function Vt(e){if(Wt[e])return Wt[e];if(!zt[e])return e;var t,n=zt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ht)return Wt[e]=n[t];return e}S&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete zt.animationend.animation,delete zt.animationiteration.animation,delete zt.animationstart.animation),"TransitionEvent"in window||delete zt.transitionend.transition);var jt=Vt("animationend"),Kt=Vt("animationiteration"),Ut=Vt("animationstart"),qt=Vt("transitionend"),Zt=new Map,Gt=new Map,Qt=["abort","abort",jt,"animationEnd",Kt,"animationIteration",Ut,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qt,"transitionEnd","waiting","waiting"];function Jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Gt.set(r,t),Zt.set(r,i),x(i,[r])}}(0,b.unstable_now)();var Yt=8;function Xt(e){if(0!=(1&e))return Yt=15,1;if(0!=(2&e))return Yt=14,2;if(0!=(4&e))return Yt=13,4;var t=24&e;return 0!==t?(Yt=12,t):0!=(32&e)?(Yt=11,32):0!==(t=192&e)?(Yt=10,t):0!=(256&e)?(Yt=9,256):0!==(t=3584&e)?(Yt=8,t):0!=(4096&e)?(Yt=7,4096):0!==(t=4186112&e)?(Yt=6,t):0!==(t=62914560&e)?(Yt=5,t):67108864&e?(Yt=4,67108864):0!=(134217728&e)?(Yt=3,134217728):0!==(t=805306368&e)?(Yt=2,t):0!=(1073741824&e)?(Yt=1,1073741824):(Yt=8,e)}function $t(e,t){var n=e.pendingLanes;if(0===n)return Yt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Yt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Xt(l),i=Yt):0!==(s&=o)&&(r=Xt(s),i=Yt)}else 0!==(o=n&~a)?(r=Xt(o),i=Yt):0!==s&&(r=Xt(s),i=Yt);if(0===r)return 0;if(r=n&((0>(r=31-an(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Xt(t),i<=Yt)return t;Yt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-an(t)),r|=e[n],t&=~i;return r}function en(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tn(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=nn(24&~t))?tn(10,t):e;case 10:return 0===(e=nn(192&~t))?tn(8,t):e;case 8:return 0===(e=nn(3584&~t))&&(0===(e=nn(4186112&~t))&&(e=512)),e;case 2:return 0===(t=nn(805306368&~t))&&(t=268435456),t}throw Error(_(358,e))}function nn(e){return e&-e}function rn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function on(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-an(t)]=n}var an=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(sn(e)/ln|0)|0},sn=Math.log,ln=Math.LN2;var un=b.unstable_UserBlockingPriority,cn=b.unstable_runWithPriority,dn=!0;function hn(e,t,n,r){Xe||Je();var i=pn,o=Xe;Xe=!0;try{Qe(i,e,t,n,r)}finally{(Xe=o)||et()}}function fn(e,t,n,r){cn(un,pn.bind(null,e,t,n,r))}function pn(e,t,n,r){var i;if(dn)if((i=0==(4&t))&&0<kt.length&&-1<It.indexOf(e))e=Rt(null,e,t,n,r),kt.push(e);else{var o=gn(e,t,n,r);if(null===o)i&&Lt(e,r);else{if(i){if(-1<It.indexOf(e))return e=Rt(o,e,t,n,r),void kt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=At(Ct,e,t,n,r,i),!0;case"dragenter":return xt=At(xt,e,t,n,r,i),!0;case"mouseover":return wt=At(wt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,At(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Et.set(o,At(Et.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;Lt(e,r)}Zr(e,t,r,null,n)}}}function gn(e,t,n,r){var i=He(r);if(null!==(i=pi(i))){var o=dt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=ht(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Zr(e,t,r,i,n),null}var vn=null,mn=null,yn=null;function bn(){if(yn)return yn;var e,t,n=mn,r=n.length,i="value"in vn?vn.value:vn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return yn=i.slice(e,1<t?1-t:void 0)}function _n(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function kn(){return!0}function Cn(){return!1}function xn(e){function n(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?kn:Cn,this.isPropagationStopped=Cn,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==t(v)(e.returnValue)&&(e.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==t(v)(e.cancelBubble)&&(e.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var wn,Sn,En,Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},In=xn(Dn),Rn=y({},Dn,{view:0,detail:0}),Ln=xn(Rn),An=y({},Rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&"mousemove"===e.type?(wn=e.screenX-En.screenX,Sn=e.screenY-En.screenY):Sn=wn=0,En=e),wn)},movementY:function(e){return"movementY"in e?e.movementY:Sn}}),Mn=xn(An),Tn=xn(y({},An,{dataTransfer:0})),Nn=xn(y({},Rn,{relatedTarget:0})),Pn=xn(y({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0})),On=xn(y({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Fn=xn(y({},Dn,{data:0})),Bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Wn[e])&&!!t[e]}function Vn(){return Hn}var jn=xn(y({},Rn,{key:function(e){if(e.key){var t=Bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=_n(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?zn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vn,charCode:function(e){return"keypress"===e.type?_n(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?_n(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Kn=xn(y({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=xn(y({},Rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vn})),qn=xn(y({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Zn=xn(y({},An,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Gn=[9,13,27,32],Qn=S&&"CompositionEvent"in window,Jn=null;S&&"documentMode"in document&&(Jn=document.documentMode);var Yn=S&&"TextEvent"in window&&!Jn,Xn=S&&(!Qn||Jn&&8<Jn&&11>=Jn),$n=String.fromCharCode(32),er=!1;function tr(e,t){switch(e){case"keyup":return-1!==Gn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var rr=!1;var ir={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ir[e.type]:"textarea"===t}function ar(e,t,n,r){qe(r),0<(t=Qr(t,"onChange")).length&&(n=new In("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sr=null,lr=null;function ur(e){Hr(e,0)}function cr(e){if(he(vi(e)))return e}function dr(e,t){if("change"===e)return t}var hr=!1;if(S){var fr;if(S){var pr="oninput"in document;if(!pr){var gr=document.createElement("div");gr.setAttribute("oninput","return;"),pr="function"==typeof gr.oninput}fr=pr}else fr=!1;hr=fr&&(!document.documentMode||9<document.documentMode)}function vr(){sr&&(sr.detachEvent("onpropertychange",mr),lr=sr=null)}function mr(e){if("value"===e.propertyName&&cr(lr)){var t=[];if(ar(t,lr,e,He(e)),e=ur,Xe)e(t);else{Xe=!0;try{Ge(e,t)}finally{Xe=!1,et()}}}}function yr(e,t,n){"focusin"===e?(vr(),lr=n,(sr=t).attachEvent("onpropertychange",mr)):"focusout"===e&&vr()}function br(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return cr(lr)}function _r(e,t){if("click"===e)return cr(t)}function kr(e,t){if("input"===e||"change"===e)return cr(t)}var Cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},xr=Object.prototype.hasOwnProperty;function wr(e,t){if(Cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!xr.call(t,n[r])||!Cr(e[n[r]],t[n[r]]))return!1;return!0}function Sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Er(e,t){var n,r=Sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sr(r)}}function Dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ir(){for(var e=window,t=fe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=fe((e=t.contentWindow).document)}return t}function Rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Lr=S&&"documentMode"in document&&11>=document.documentMode,Ar=null,Mr=null,Tr=null,Nr=!1;function Pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Nr||null==Ar||Ar!==fe(r)||("selectionStart"in(r=Ar)&&Rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&wr(Tr,r)||(Tr=r,0<(r=Qr(Mr,"onSelect")).length&&(t=new In("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}Jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Jt(Qt,2);for(var Or="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Fr=0;Fr<Or.length;Fr++)Gt.set(Or[Fr],0);w("onMouseEnter",["mouseout","mouseover"]),w("onMouseLeave",["mouseout","mouseover"]),w("onPointerEnter",["pointerout","pointerover"]),w("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Wr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(ct.apply(this,arguments),ot){if(!ot)throw Error(_(198));var u=at;ot=!1,at=null,st||(st=!0,lt=u)}}(r,t,void 0,e),e.currentTarget=null}function Hr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Wr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Wr(i,s,u),o=l}}}if(st)throw e=lt,st=!1,lt=null,e}function Vr(e,t){var n=yi(t),r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}var jr="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){e[jr]||(e[jr]=!0,k.forEach((function(t){zr.has(t)||Ur(t,!1,e,null),Ur(t,!0,e,null)})))}function Ur(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&zr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=yi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),qr(o,e,i,t),a.add(s))}function qr(e,t,n,r){var i=Gt.get(t);switch(void 0===i?2:i){case 0:i=hn;break;case 1:i=fn;break;default:i=pn}n=i.bind(null,t,n,e),i=void 0,!nt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=pi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if($e)return e(t,n);$e=!0;try{Ye(e,t,n)}finally{$e=!1,et()}}((function(){var r=o,i=He(n),a=[];e:{var s=Zt.get(e);if(void 0!==s){var l=In,u=e;switch(e){case"keypress":if(0===_n(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":u="focus",l=Nn;break;case"focusout":u="blur",l=Nn;break;case"beforeblur":case"afterblur":l=Nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case jt:case Kt:case Ut:l=Pn;break;case qt:l=qn;break;case"scroll":l=Ln;break;case"wheel":l=Zn;break;case"copy":case"cut":case"paste":l=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Kn}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=tt(p,h))&&c.push(Gr(p,g,f)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!pi(u)&&!u[hi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?pi(u):null)&&(u!==(d=dt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=Mn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Kn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:vi(l),f=null==u?s:vi(u),(s=new c(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,pi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Jr(f))p++;for(f=0,g=h;g;g=Jr(g))f++;for(;0<p-f;)c=Jr(c),p--;for(;0<f-p;)h=Jr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Jr(c),h=Jr(h)}c=null}else c=null;null!==l&&Yr(a,s,l,c,!1),null!==u&&null!==d&&Yr(a,d,u,c,!0)}if("select"===(l=(s=r?vi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=dr;else if(or(s))if(hr)v=kr;else{v=br;var m=yr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=_r);switch(v&&(v=v(e,r))?ar(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&be(s,"number",s.value)),m=r?vi(r):window,e){case"focusin":(or(m)||"true"===m.contentEditable)&&(Ar=m,Mr=r,Tr=null);break;case"focusout":Tr=Mr=Ar=null;break;case"mousedown":Nr=!0;break;case"contextmenu":case"mouseup":case"dragend":Nr=!1,Pr(a,n,i);break;case"selectionchange":if(Lr)break;case"keydown":case"keyup":Pr(a,n,i)}var y;if(Qn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else rr?tr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Xn&&"ko"!==n.locale&&(rr||"onCompositionStart"!==b?"onCompositionEnd"===b&&rr&&(y=bn()):(mn="value"in(vn=i)?vn.value:vn.textContent,rr=!0)),0<(m=Qr(r,b)).length&&(b=new Fn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=nr(n))&&(b.data=y))),(y=Yn?function(e,t){switch(e){case"compositionend":return nr(t);case"keypress":return 32!==t.which?null:(er=!0,$n);case"textInput":return(e=t.data)===$n&&er?null:e;default:return null}}(e,n):function(e,t){if(rr)return"compositionend"===e||!Qn&&tr(e,t)?(e=bn(),yn=mn=vn=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new Fn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Hr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=tt(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=tt(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=tt(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=tt(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Xr(){}var $r=null,ei=null;function ti(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ni(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0;function oi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=0;var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,di="__reactProps$"+ui,hi="__reactContainer$"+ui,fi="__reactEvents$"+ui;function pi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[ci])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ci]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(_(33))}function mi(e){return e[di]||null}function yi(e){var t=e[fi];return void 0===t&&(t=e[fi]=new Set),t}var bi=[],_i=-1;function ki(e){return{current:e}}function Ci(e){0>_i||(e.current=bi[_i],bi[_i]=null,_i--)}function xi(e,t){_i++,bi[_i]=e.current,e.current=t}var wi={},Si=ki(wi),Ei=ki(!1),Di=wi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return wi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!=(e=e.childContextTypes)}function Li(){Ci(Ei),Ci(Si)}function Ai(e,t,n){if(Si.current!==wi)throw Error(_(168));xi(Si,t),xi(Ei,n)}function Mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(_(108,le(t)||"Unknown",i));return y({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wi,Di=Si.current,xi(Si,e),xi(Ei,Ei.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Mi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ei),Ci(Si),xi(Si,e)):Ci(Ei),xi(Ei,n)}var Pi=null,Oi=null,Fi=b.unstable_runWithPriority,Bi=b.unstable_scheduleCallback,zi=b.unstable_cancelCallback,Wi=b.unstable_shouldYield,Hi=b.unstable_requestPaint,Vi=b.unstable_now,ji=b.unstable_getCurrentPriorityLevel,Ki=b.unstable_ImmediatePriority,Ui=b.unstable_UserBlockingPriority,qi=b.unstable_NormalPriority,Zi=b.unstable_LowPriority,Gi=b.unstable_IdlePriority,Qi={},Ji=void 0!==Hi?Hi:function(){},Yi=null,Xi=null,$i=!1,eo=Vi(),to=1e4>eo?Vi:function(){return Vi()-eo};function no(){switch(ji()){case Ki:return 99;case Ui:return 98;case qi:return 97;case Zi:return 96;case Gi:return 95;default:throw Error(_(332))}}function ro(e){switch(e){case 99:return Ki;case 98:return Ui;case 97:return qi;case 96:return Zi;case 95:return Gi;default:throw Error(_(332))}}function io(e,t){return e=ro(e),Fi(e,t)}function oo(e,t,n){return e=ro(e),Bi(e,t,n)}function ao(){if(null!==Xi){var e=Xi;Xi=null,zi(e)}so()}function so(){if(!$i&&null!==Yi){$i=!0;var e=0;try{var t=Yi;io(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Yi=null}catch(t){throw null!==Yi&&(Yi=Yi.slice(e+1)),Bi(Ki,ao),t}finally{$i=!1}}}var lo=O.ReactCurrentBatchConfig;function uo(e,t){if(e&&e.defaultProps){for(var n in t=y({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var co=ki(null),ho=null,fo=null,po=null;function go(){po=fo=ho=null}function vo(e){var t=co.current;Ci(co),e.type._context._currentValue=t}function mo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function yo(e,t){ho=e,po=fo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Qa=!0),e.firstContext=null)}function bo(e,t){if(po!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(po=e,t=1073741823),t={context:e,observedBits:t,next:null},null===fo){if(null===ho)throw Error(_(308));fo=t,ho.dependencies={lanes:0,firstContext:t,responders:null}}else fo=fo.next=t;return e._currentValue}var _o=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function So(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Eo(e,t,n,r){var i=e.updateQueue;_o=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;if(null!==c){var d=(c=c.updateQueue).lastBaseUpdate;d!==a&&(null===d?c.firstBaseUpdate=u:d.next=u,c.lastBaseUpdate=l)}}if(null!==o){for(d=i.baseState,a=0,c=u=l=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,p=o;switch(s=t,h=n,p.tag){case 1:if("function"==typeof(f=p.payload)){d=f.call(h,d,s);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(s="function"==typeof(f=p.payload)?f.call(h,d,s):f))break e;d=y({},d,s);break e;case 2:_o=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,$s|=a,e.lanes=a,e.memoizedState=d}}function Do(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(_(191,i));i.call(r)}}}var Io=(new m.Component).refs;function Ro(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:y({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return!!(e=e._reactInternals)&&dt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wl(),i=Sl(e),o=xo(r,i);o.payload=t,null!=n&&(o.callback=n),wo(e,o),El(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wl(),i=Sl(e),o=xo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),wo(e,o),El(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wl(),r=Sl(e),i=xo(n,r);i.tag=2,null!=t&&(i.callback=t),wo(e,i),El(e,r,n)}};function Ao(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!wr(n,r)||!wr(i,o))}function Mo(e,t,n){var r=!1,i=wi,o=t.contextType;return"object"==typeof o&&null!==o?o=bo(o):(i=Ri(t)?Di:Si.current,o=(r=null!=(r=t.contextTypes))?Ii(e,i):wi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function To(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function No(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Io,ko(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=bo(o):(o=Ri(t)?Di:Si.current,i.context=Ii(e,o)),Eo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Ro(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Lo.enqueueReplaceState(i,i.state,null),Eo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Po=Array.isArray;function Oo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Io&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Fo(e,t){if("textarea"!==e.type)throw Error(_(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Bo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=iu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Oo(e,t,n),r.return=e,r):((r=ou(n.type,n.key,n.props,null,e.mode,r)).ref=Oo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=au(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=lu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case F:return(n=ou(t.type,t.key,t.props,null,e.mode,n)).ref=Oo(e,null,t),n.return=e,n;case B:return(t=uu(t,e.mode,n)).return=e,t}if(Po(t)||re(t))return(t=au(t,e.mode,n,null)).return=e,t;Fo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case F:return n.key===i?n.type===z?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case B:return n.key===i?u(e,t,n,r):null}if(Po(n)||re(n))return null!==i?null:c(e,t,n,r,null);Fo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case F:return e=e.get(null===r.key?n:r.key)||null,r.type===z?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case B:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Po(r)||re(r))return c(t,e=e.get(n)||null,r,i,null);Fo(t,r)}return null}return function(s,l,u,c){var p="object"==typeof u&&null!==u&&u.type===z&&null===u.key;p&&(u=u.props.children);var g="object"==typeof u&&null!==u;if(g)switch(u.$$typeof){case F:e:{for(g=u.key,p=l;null!==p;){if(p.key===g){switch(p.tag){case 7:if(u.type===z){n(s,p.sibling),(l=i(p,u.props.children)).return=s,s=l;break e}break;default:if(p.elementType===u.type){n(s,p.sibling),(l=i(p,u.props)).ref=Oo(s,p,u),l.return=s,s=l;break e}}n(s,p);break}t(s,p),p=p.sibling}u.type===z?((l=au(u.props.children,s.mode,c,u.key)).return=s,s=l):((c=ou(u.type,u.key,u.props,null,s.mode,c)).ref=Oo(s,l,u),c.return=s,s=c)}return a(s);case B:e:{for(p=u.key;null!==l;){if(l.key===p){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(s,l.sibling),(l=i(l,u.children||[])).return=s,s=l;break e}n(s,l);break}t(s,l),l=l.sibling}(l=uu(u,s.mode,c)).return=s,s=l}return a(s)}if("string"==typeof u||"number"==typeof u)return u=""+u,null!==l&&6===l.tag?(n(s,l.sibling),(l=i(l,u)).return=s,s=l):(n(s,l),(l=lu(u,s.mode,c)).return=s,s=l),a(s);if(Po(u))return function(i,a,s,l){for(var u=null,c=null,p=a,g=a=0,v=null;null!==p&&g<s.length;g++){p.index>g?(v=p,p=null):v=p.sibling;var m=h(i,p,s[g],l);if(null===m){null===p&&(p=v);break}e&&p&&null===m.alternate&&t(i,p),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m,p=v}if(g===s.length)return n(i,p),u;if(null===p){for(;g<s.length;g++)null!==(p=d(i,s[g],l))&&(a=o(p,a,g),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);g<s.length;g++)null!==(v=f(p,i,g,s[g],l))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v);return e&&p.forEach((function(e){return t(i,e)})),u}(s,l,u,c);if(re(u))return function(i,a,s,l){var u=re(s);if("function"!=typeof u)throw Error(_(150));if(null==(s=u.call(s)))throw Error(_(151));for(var c=u=null,p=a,g=a=0,v=null,m=s.next();null!==p&&!m.done;g++,m=s.next()){p.index>g?(v=p,p=null):v=p.sibling;var y=h(i,p,m.value,l);if(null===y){null===p&&(p=v);break}e&&p&&null===y.alternate&&t(i,p),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y,p=v}if(m.done)return n(i,p),u;if(null===p){for(;!m.done;g++,m=s.next())null!==(m=d(i,m.value,l))&&(a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return u}for(p=r(i,p);!m.done;g++,m=s.next())null!==(m=f(p,i,g,m.value,l))&&(e&&null!==m.alternate&&p.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&p.forEach((function(e){return t(i,e)})),u}(s,l,u,c);if(g&&Fo(s,u),void 0===u&&!p)switch(s.tag){case 1:case 22:case 0:case 11:case 15:throw Error(_(152,le(s.type)||"Component"))}return n(s,l)}}var zo=Bo(!0),Wo=Bo(!1),Ho={},Vo=ki(Ho),jo=ki(Ho),Ko=ki(Ho);function Uo(e){if(e===Ho)throw Error(_(174));return e}function qo(e,t){switch(xi(Ko,t),xi(jo,e),xi(Vo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Re(null,"");break;default:t=Re(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Vo),xi(Vo,t)}function Zo(){Ci(Vo),Ci(jo),Ci(Ko)}function Go(e){Uo(Ko.current);var t=Uo(Vo.current),n=Re(t,e.type);t!==n&&(xi(jo,e),xi(Vo,n))}function Qo(e){jo.current===e&&(Ci(Vo),Ci(jo))}var Jo=ki(0);function Yo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xo=null,$o=null,ea=!1;function ta(e,t){var n=nu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function na(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ra(e){if(ea){var t=$o;if(t){var n=t;if(!na(e,t)){if(!(t=ai(n.nextSibling))||!na(e,t))return e.flags=-1025&e.flags|2,ea=!1,void(Xo=e);ta(Xo,n)}Xo=e,$o=ai(t.firstChild)}else e.flags=-1025&e.flags|2,ea=!1,Xo=e}}function ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Xo=e}function oa(e){if(e!==Xo)return!1;if(!ea)return ia(e),ea=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ni(t,e.memoizedProps))for(t=$o;t;)ta(e,t),t=ai(t.nextSibling);if(ia(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){$o=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}$o=null}}else $o=Xo?ai(e.stateNode.nextSibling):null;return!0}function aa(){$o=Xo=null,ea=!1}var sa=[];function la(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var ua=O.ReactCurrentDispatcher,ca=O.ReactCurrentBatchConfig,da=0,ha=null,fa=null,pa=null,ga=!1,va=!1;function ma(){throw Error(_(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cr(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,i,o){if(da=o,ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=null===e||null===e.memoizedState?Ua:qa,e=n(r,i),va){o=0;do{if(va=!1,!(25>o))throw Error(_(301));o+=1,pa=fa=null,t.updateQueue=null,ua.current=Za,e=n(r,i)}while(va)}if(ua.current=Ka,t=null!==fa&&null!==fa.next,da=0,pa=fa=ha=null,ga=!1,t)throw Error(_(300));return e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===pa?ha.memoizedState=pa=e:pa=pa.next=e,pa}function ka(){if(null===fa){var e=ha.alternate;e=null!==e?e.memoizedState:null}else e=fa.next;var t=null===pa?ha.memoizedState:pa.next;if(null!==t)pa=t,fa=e;else{if(null===e)throw Error(_(310));e={memoizedState:(fa=e).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===pa?ha.memoizedState=pa=e:pa=pa.next=e}return pa}function Ca(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=ka(),n=t.queue;if(null===n)throw Error(_(311));n.lastRenderedReducer=e;var r=fa,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,l=i;do{var u=l.lane;if((da&u)===u)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(a=s=c,o=r):s=s.next=c,ha.lanes|=u,$s|=u}l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=a,Cr(r,t.memoizedState)||(Qa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function wa(e){var t=ka(),n=t.queue;if(null===n)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Cr(o,t.memoizedState)||(Qa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Sa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(da&e)===e)&&(t._workInProgressVersionPrimary=r,sa.push(t))),e)return n(t._source);throw sa.push(t),Error(_(350))}function Ea(e,t,n,r){var i=Us;if(null===i)throw Error(_(349));var o=t._getVersion,a=o(t._source),s=ua.current,l=s.useState((function(){return Sa(i,t,n)})),u=l[1],c=l[0];l=pa;var d=e.memoizedState,h=d.refs,f=h.getSnapshot,p=d.source;d=d.subscribe;var g=ha;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=u;var e=o(t._source);if(!Cr(a,e)){e=n(t._source),Cr(c,e)||(u(e),e=Sl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-an(s),d=1<<l;r[l]|=e,s&=~d}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=Sl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),Cr(f,n)&&Cr(p,t)&&Cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:c}).dispatch=u=ja.bind(null,ha,e),l.queue=e,l.baseQueue=null,c=Sa(i,t,n),l.memoizedState=l.baseState=c),c}function Da(e,t,n){return Ea(ka(),e,t,n)}function Ia(e){var t=_a();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e}).dispatch=ja.bind(null,ha,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ha.updateQueue)?(t={lastEffect:null},ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(e){return e={current:e},_a().memoizedState=e}function Aa(){return ka().memoizedState}function Ma(e,t,n,r){var i=_a();ha.flags|=e,i.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Ta(e,t,n,r){var i=ka();r=void 0===r?null:r;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==r&&ya(r,a.deps))return void Ra(t,n,o,r)}ha.flags|=e,i.memoizedState=Ra(1|t,n,o,r)}function Na(e,t){return Ma(516,4,e,t)}function Pa(e,t){return Ta(516,4,e,t)}function Oa(e,t){return Ta(4,2,e,t)}function Fa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!=n?n.concat([e]):null,Ta(4,2,Fa.bind(null,t,e),n)}function za(){}function Wa(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t){var n=no();io(98>n?98:n,(function(){e(!0)})),io(97<n?97:n,(function(){var n=ca.transition;ca.transition=1;try{e(!1),t()}finally{ca.transition=n}}))}function ja(e,t,n){var r=wl(),i=Sl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ha||null!==a&&a===ha)va=ga=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,Cr(l,s))return}catch(e){}El(e,i,r)}}var Ka={readContext:bo,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useOpaqueIdentifier:ma,unstable_isNewReconciler:!1},Ua={readContext:bo,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:bo,useEffect:Na,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4,2,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ja.bind(null,ha,e),[r.memoizedState,e]},useRef:La,useState:Ia,useDebugValue:za,useDeferredValue:function(e){var t=Ia(e),n=t[0],r=t[1];return Na((function(){var t=ca.transition;ca.transition=1;try{r(e)}finally{ca.transition=t}}),[e]),n},useTransition:function(){var e=Ia(!1),t=e[0];return La(e=Va.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=_a();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ea(r,e,t,n)},useOpaqueIdentifier:function(){if(ea){var e=!1,t={$$typeof:J,toString:r=function(){throw e||(e=!0,n("r:"+(li++).toString(36))),Error(_(355))},valueOf:r},n=Ia(t)[1];return 0==(2&ha.mode)&&(ha.flags|=516,Ra(5,(function(){n("r:"+(li++).toString(36))}),void 0,null)),t}var r;return Ia(t="r:"+(li++).toString(36)),t},unstable_isNewReconciler:!1},qa={readContext:bo,useCallback:Wa,useContext:bo,useEffect:Pa,useImperativeHandle:Ba,useLayoutEffect:Oa,useMemo:Ha,useReducer:xa,useRef:Aa,useState:function(){return xa(Ca)},useDebugValue:za,useDeferredValue:function(e){var t=xa(Ca),n=t[0],r=t[1];return Pa((function(){var t=ca.transition;ca.transition=1;try{r(e)}finally{ca.transition=t}}),[e]),n},useTransition:function(){var e=xa(Ca)[0];return[Aa().current,e]},useMutableSource:Da,useOpaqueIdentifier:function(){return xa(Ca)[0]},unstable_isNewReconciler:!1},Za={readContext:bo,useCallback:Wa,useContext:bo,useEffect:Pa,useImperativeHandle:Ba,useLayoutEffect:Oa,useMemo:Ha,useReducer:wa,useRef:Aa,useState:function(){return wa(Ca)},useDebugValue:za,useDeferredValue:function(e){var t=wa(Ca),n=t[0],r=t[1];return Pa((function(){var t=ca.transition;ca.transition=1;try{r(e)}finally{ca.transition=t}}),[e]),n},useTransition:function(){var e=wa(Ca)[0];return[Aa().current,e]},useMutableSource:Da,useOpaqueIdentifier:function(){return wa(Ca)[0]},unstable_isNewReconciler:!1},Ga=O.ReactCurrentOwner,Qa=!1;function Ja(e,t,n,r){t.child=null===e?Wo(t,null,n,r):zo(t,e.child,n,r)}function Ya(e,t,n,r,i){n=n.render;var o=t.ref;return yo(t,i),r=ba(e,t,n,r,o,i),null===e||Qa?(t.flags|=1,Ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ms(e,t,i))}function Xa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||ru(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ou(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,$a(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:wr)(i,r)&&e.ref===t.ref)?ms(e,t,o):(t.flags|=1,(e=iu(a,r)).ref=t.ref,e.return=t,t.child=e)}function $a(e,t,n,r,i,o){if(null!==e&&wr(e.memoizedProps,r)&&e.ref===t.ref){if(Qa=!1,0==(o&i))return t.lanes=e.lanes,ms(e,t,o);0!=(16384&e.flags)&&(Qa=!0)}return ns(e,t,n,r,o)}function es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Nl(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Nl(t,e),null;t.memoizedState={baseLanes:0},Nl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Nl(t,r);return Ja(e,t,i,n),t.child}function ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ns(e,t,n,r,i){var o=Ri(n)?Di:Si.current;return o=Ii(t,o),yo(t,i),n=ba(e,t,n,r,o,i),null===e||Qa?(t.flags|=1,Ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ms(e,t,i))}function rs(e,t,n,r,i){if(Ri(n)){var o=!0;Ti(t)}else o=!1;if(yo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mo(t,n,r),No(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=bo(u):u=Ii(t,u=Ri(n)?Di:Si.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&To(t,a,r,u),_o=!1;var h=t.memoizedState;a.state=h,Eo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ei.current||_o?("function"==typeof c&&(Ro(t,n,c,r),l=t.memoizedState),(s=_o||Ao(t,n,s,r,h,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,Co(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:uo(t.type,s),a.props=u,d=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=bo(l):l=Ii(t,l=Ri(n)?Di:Si.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&To(t,a,r,l),_o=!1,h=t.memoizedState,a.state=h,Eo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ei.current||_o?("function"==typeof f&&(Ro(t,n,f,r),p=t.memoizedState),(u=_o||Ao(t,n,u,r,h,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return is(e,t,n,r,o,i)}function is(e,t,n,r,i,o){ts(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&Ni(t,n,!1),ms(e,t,o);r=t.stateNode,Ga.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=zo(t,e.child,null,o),t.child=zo(t,null,s,o)):Ja(e,t,s,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function os(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),qo(e,t.containerInfo)}var as,ss,ls,us={dehydrated:null,retryLane:0};function cs(e,t,n){var r,i=t.pendingProps,o=Jo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),xi(Jo,1&o),null===e?(void 0!==i.fallback&&ra(t),e=i.children,o=i.fallback,a?(e=ds(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=us,e):"number"==typeof i.unstable_expectedLoadTime?(e=ds(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=us,t.lanes=33554432,e):((n=su({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=fs(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=us,i):(n=hs(e,t,i.children,n),t.memoizedState=null,n))}function ds(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=su(t,i,0,null),n=au(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function hs(e,t,n,r){var i=e.child;return e=i.sibling,n=iu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function fs(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=iu(a,s),null!==e?r=iu(e,r):(r=au(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ps(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),mo(e.return,t)}function gs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ja(e,t,r.children,n),0!=(2&(r=Jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ps(e,n);else if(19===e.tag)ps(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(Jo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Yo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),gs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Yo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}gs(t,!0,n,null,o,t.lastEffect);break;case"together":gs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ms(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),$s|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(_(153));if(null!==t.child){for(n=iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ys(e,t){if(!ea)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ri(t.type)&&Li(),null;case 3:return Zo(),Ci(Ei),Ci(Si),la(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(oa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Qo(t);var i=Uo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)ss(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(_(166));return null}if(e=Uo(Vo.current),oa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[di]=o,n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(e=0;e<Br.length;e++)Vr(Br[e],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":ge(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":xe(r,o),Vr("invalid",r)}for(var a in ze(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):C.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&Vr("scroll",r));switch(n){case"input":de(r),ye(r,o,!0);break;case"textarea":de(r),Se(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Xr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,e===Ee&&(e=Ie(n)),e===Ee?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ci]=t,e[di]=r,as(e,t),t.stateNode=e,a=We(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Br.length;i++)Vr(Br[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":ge(e,r),i=pe(e,r),Vr("invalid",e);break;case"option":i=_e(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=y({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":xe(e,r),i=Ce(e,r),Vr("invalid",e);break;default:i=r}ze(n,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?Fe(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&Me(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&Te(e,l):"number"==typeof l&&Te(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(C.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&P(e,o,l,a))}switch(n){case"input":de(e),ye(e,r,!1);break;case"textarea":de(e),Se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ue(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ke(e,!!r.multiple,o,!1):null!=r.defaultValue&&ke(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Xr)}ti(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(_(166));n=Uo(Ko.current),Uo(Vo.current),oa(t)?(r=t.stateNode,n=t.memoizedProps,r[ci]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r)}return null;case 13:return Ci(Jo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&oa(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Jo.current)?0===Js&&(Js=3):(0!==Js&&3!==Js||(Js=4),null===Us||0==(134217727&$s)&&0==(134217727&el)||Ll(Us,Zs))),(r||n)&&(t.flags|=4),null);case 4:return Zo(),null===e&&Kr(t.stateNode.containerInfo),null;case 10:return vo(t),null;case 17:return Ri(t.type)&&Li(),null;case 19:if(Ci(Jo),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)ys(r,!1);else{if(0!==Js||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=Yo(e))){for(t.flags|=64,ys(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(Jo,1&Jo.current|2),t.child}e=e.sibling}null!==r.tail&&to()>il&&(t.flags|=64,o=!0,ys(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=Yo(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ea)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*to()-r.renderingStartTime>il&&1073741824!==n&&(t.flags|=64,o=!0,ys(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=to(),n.sibling=null,t=Jo.current,xi(Jo,o?1&t|2:1&t),n):null;case 23:case 24:return Pl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(_(156,t.tag))}function _s(e){switch(e.tag){case 1:Ri(e.type)&&Li();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Zo(),Ci(Ei),Ci(Si),la(),0!=(64&(t=e.flags)))throw Error(_(285));return e.flags=-4097&t|64,e;case 5:return Qo(e),null;case 13:return Ci(Jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ci(Jo),null;case 4:return Zo(),null;case 10:return vo(e),null;case 23:case 24:return Pl(),null;default:return null}}function ks(e,t){try{var n="",r=t;do{n+=se(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function Cs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}as=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ss=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Uo(Vo.current);var o,a=null;switch(n){case"input":i=pe(e,i),r=pe(e,r),a=[];break;case"option":i=_e(e,i),r=_e(e,r),a=[];break;case"select":i=y({},i,{value:void 0}),r=y({},r,{value:void 0}),a=[];break;case"textarea":i=Ce(e,i),r=Ce(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(u in ze(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(C.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(C.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Vr("scroll",e),a||s===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===J?l.toString():(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var xs="function"==typeof WeakMap?WeakMap:Map;function ws(e,t,n){(n=xo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ll||(ll=!0,ul=r),Cs(0,t)},n}function Ss(e,t,n){(n=xo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===cl?cl=new Set([this]):cl.add(this),Cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Es="function"==typeof WeakSet?WeakSet:Set;function Ds(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Xl(e,t)}else t.current=null}function Is(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:uo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&oi(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(_(163))}function Rs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ql(n,e),Gl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:uo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Do(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Do(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ti(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(_(163))}function Ls(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Oe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function As(e,t){if(Oi&&"function"==typeof Oi.onCommitFiberUnmount)try{Oi.onCommitFiberUnmount(Pi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ql(t,n);else{r=t;try{i()}catch(e){Xl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(Ds(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Xl(t,e)}break;case 5:Ds(t);break;case 4:Fs(e,t)}}function Ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ts(e){return 5===e.tag||3===e.tag||4===e.tag}function Ns(e){e:{for(var t=e.return;null!==t;){if(Ts(t))break e;t=t.return}throw Error(_(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(_(161))}16&n.flags&&(Te(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ts(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ps(e,n,t):Os(e,n,t)}function Ps(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(Ps(e,t,n),e=e.sibling;null!==e;)Ps(e,t,n),e=e.sibling}function Os(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Os(e,t,n),e=e.sibling;null!==e;)Os(e,t,n),e=e.sibling}function Fs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(_(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,l=s;;)if(As(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break e;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(As(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[di]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ve(n,r),We(e,i),t=We(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?Fe(n,s):"dangerouslySetInnerHTML"===a?Me(n,s):"children"===a?Te(n,s):P(n,a,s,t)}switch(e){case"input":me(n,r);break;case"textarea":we(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ke(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ke(n,!!r.multiple,r.defaultValue,!0):ke(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(_(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ft(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(rl=to(),Ls(t.child,!0)),void zs(t);case 19:return void zs(t);case 17:return;case 23:case 24:return void Ls(t,null!==t.memoizedState)}throw Error(_(163))}function zs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Es),t.forEach((function(t){var r=eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ws(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Hs=Math.ceil,Vs=O.ReactCurrentDispatcher,js=O.ReactCurrentOwner,Ks=0,Us=null,qs=null,Zs=0,Gs=0,Qs=ki(0),Js=0,Ys=null,Xs=0,$s=0,el=0,tl=0,nl=null,rl=0,il=1/0;function ol(){il=to()+500}var al,sl=null,ll=!1,ul=null,cl=null,dl=!1,hl=null,fl=90,pl=[],gl=[],vl=null,ml=0,yl=null,bl=-1,_l=0,kl=0,Cl=null,xl=!1;function wl(){return 0!=(48&Ks)?to():-1!==bl?bl:bl=to()}function Sl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===no()?1:2;if(0===_l&&(_l=Xs),0!==lo.transition){0!==kl&&(kl=null!==nl?nl.pendingLanes:0),e=_l;var t=4186112&~kl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=no(),0!=(4&Ks)&&98===e?e=tn(12,_l):e=tn(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),_l),e}function El(e,t,n){if(50<ml)throw ml=0,yl=null,Error(_(185));if(null===(e=Dl(e,t)))return null;on(e,t,n),e===Us&&(el|=t,4===Js&&Ll(e,Zs));var r=no();1===t?0!=(8&Ks)&&0==(48&Ks)?Al(e):(Il(e,n),0===Ks&&(ol(),ao())):(0==(4&Ks)||98!==r&&99!==r||(null===vl?vl=new Set([e]):vl.add(e)),Il(e,n)),nl=e}function Dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Il(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-an(a),l=1<<s,u=o[s];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,Xt(l);var c=Yt;o[s]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);a&=~l}if(r=$t(e,e===Us?Zs:0),t=Yt,0===r)null!==n&&(n!==Qi&&zi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Qi&&zi(n)}15===t?(n=Al.bind(null,e),null===Yi?(Yi=[n],Xi=Bi(Ki,so)):Yi.push(n),n=Qi):14===t?n=oo(99,Al.bind(null,e)):n=oo(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(_(358,e))}}(t),Rl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Rl(e){if(bl=-1,kl=_l=0,0!=(48&Ks))throw Error(_(327));var t=e.callbackNode;if(Zl()&&e.callbackNode!==t)return null;var n=$t(e,e===Us?Zs:0);if(0===n)return null;var r=n,i=Ks;Ks|=16;var o=Bl();for(Us===e&&Zs===r||(ol(),Ol(e,r));;)try{Hl();break}catch(t){Fl(e,t)}if(go(),Vs.current=o,Ks=i,null!==qs?r=0:(Us=null,Zs=0,r=Js),0!=(Xs&el))Ol(e,0);else if(0!==r){if(2===r&&(Ks|=64,e.hydrate&&(e.hydrate=!1,oi(e.containerInfo)),0!==(n=en(e))&&(r=zl(e,n))),1===r)throw t=Ys,Ol(e,0),Ll(e,n),Il(e,to()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(_(345));case 2:Kl(e);break;case 3:if(Ll(e,n),(62914560&n)===n&&10<(r=rl+500-to())){if(0!==$t(e,0))break;if(((i=e.suspendedLanes)&n)!==n){wl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Kl.bind(null,e),r);break}Kl(e);break;case 4:if(Ll(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-an(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=to()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hs(n/1960))-n)){e.timeoutHandle=ri(Kl.bind(null,e),n);break}Kl(e);break;case 5:Kl(e);break;default:throw Error(_(329))}}return Il(e,to()),e.callbackNode===t?Rl.bind(null,e):null}function Ll(e,t){for(t&=~tl,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-an(t),r=1<<n;e[n]=-1,t&=~r}}function Al(e){if(0!=(48&Ks))throw Error(_(327));if(Zl(),e===Us&&0!=(e.expiredLanes&Zs)){var t=Zs,n=zl(e,t);0!=(Xs&el)&&(n=zl(e,t=$t(e,t)))}else n=zl(e,t=$t(e,0));if(0!==e.tag&&2===n&&(Ks|=64,e.hydrate&&(e.hydrate=!1,oi(e.containerInfo)),0!==(t=en(e))&&(n=zl(e,t))),1===n)throw n=Ys,Ol(e,0),Ll(e,t),Il(e,to()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kl(e),Il(e,to()),null}function Ml(e,t){var n=Ks;Ks|=1;try{return e(t)}finally{0===(Ks=n)&&(ol(),ao())}}function Tl(e,t){var n=Ks;Ks&=-2,Ks|=8;try{return e(t)}finally{0===(Ks=n)&&(ol(),ao())}}function Nl(e,t){xi(Qs,Gs),Gs|=t,Xs|=t}function Pl(){Gs=Qs.current,Ci(Qs)}function Ol(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==qs)for(n=qs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Li();break;case 3:Zo(),Ci(Ei),Ci(Si),la();break;case 5:Qo(r);break;case 4:Zo();break;case 13:case 19:Ci(Jo);break;case 10:vo(r);break;case 23:case 24:Pl()}n=n.return}Us=e,qs=iu(e.current,null),Zs=Gs=Xs=t,Js=0,Ys=null,tl=el=$s=0}function Fl(e,t){for(;;){var n=qs;try{if(go(),ua.current=Ka,ga){for(var r=ha.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(da=0,pa=fa=ha=null,va=!1,js.current=null,null===n||null===n.return){Js=1,Ys=t,qs=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Zs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Jo.current),h=a;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=h.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(f){var v=h.updateQueue;if(null===v){var m=new Set;m.add(u),h.updateQueue=m}else v.add(u);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=xo(-1,1);y.tag=2,wo(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new xs,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var _=$l.bind(null,o,u,s);u.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((le(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Js&&(Js=2),l=ks(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,So(h,ws(0,o,t));break e;case 1:o=l;var k=h.type,C=h.stateNode;if(0==(64&h.flags)&&("function"==typeof k.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===cl||!cl.has(C)))){h.flags|=4096,t&=-t,h.lanes|=t,So(h,Ss(h,o,t));break e}}h=h.return}while(null!==h)}jl(n)}catch(e){t=e,qs===n&&null!==n&&(qs=n=n.return);continue}break}}function Bl(){var e=Vs.current;return Vs.current=Ka,null===e?Ka:e}function zl(e,t){var n=Ks;Ks|=16;var r=Bl();for(Us===e&&Zs===t||Ol(e,t);;)try{Wl();break}catch(t){Fl(e,t)}if(go(),Ks=n,Vs.current=r,null!==qs)throw Error(_(261));return Us=null,Zs=0,Js}function Wl(){for(;null!==qs;)Vl(qs)}function Hl(){for(;null!==qs&&!Wi();)Vl(qs)}function Vl(e){var t=al(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,null===t?jl(e):qs=t,js.current=null}function jl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=bs(n,t,Gs)))return void(qs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Gs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=_s(t)))return n.flags&=2047,void(qs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(qs=t);qs=t=e}while(null!==t);0===Js&&(Js=5)}function Kl(e){var t=no();return io(99,Ul.bind(null,e,t)),null}function Ul(e,t){do{Zl()}while(null!==hl);if(0!=(48&Ks))throw Error(_(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var l=31-an(o),u=1<<l;i[l]=0,a[l]=-1,s[l]=-1,o&=~u}if(null!==vl&&0==(24&r)&&vl.has(e)&&vl.delete(e),e===Us&&(qs=Us=null,Zs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ks,Ks|=32,js.current=null,$r=dn,Rr(a=Ir())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(u=s.getSelection&&s.getSelection())&&0!==u.rangeCount){s=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{s.nodeType,l.nodeType}catch(e){s=null;break e}var c=0,d=-1,h=-1,f=0,p=0,g=a,v=null;t:for(;;){for(var m;g!==s||0!==o&&3!==g.nodeType||(d=c+o),g!==l||0!==u&&3!==g.nodeType||(h=c+u),3===g.nodeType&&(c+=g.nodeValue.length),null!==(m=g.firstChild);)v=g,g=m;for(;;){if(g===a)break t;if(v===s&&++f===o&&(d=c),v===l&&++p===u&&(h=c),null!==(m=g.nextSibling))break;v=(g=v).parentNode}g=m}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;ei={focusedElem:a,selectionRange:s},dn=!1,Cl=null,xl=!1,sl=r;do{try{ql()}catch(e){if(null===sl)throw Error(_(330));Xl(sl,e),sl=sl.nextEffect}}while(null!==sl);Cl=null,sl=r;do{try{for(a=e;null!==sl;){var y=sl.flags;if(16&y&&Te(sl.stateNode,""),128&y){var b=sl.alternate;if(null!==b){var k=b.ref;null!==k&&("function"==typeof k?k(null):k.current=null)}}switch(1038&y){case 2:Ns(sl),sl.flags&=-3;break;case 6:Ns(sl),sl.flags&=-3,Bs(sl.alternate,sl);break;case 1024:sl.flags&=-1025;break;case 1028:sl.flags&=-1025,Bs(sl.alternate,sl);break;case 4:Bs(sl.alternate,sl);break;case 8:Fs(a,s=sl);var C=s.alternate;Ms(s),null!==C&&Ms(C)}sl=sl.nextEffect}}catch(e){if(null===sl)throw Error(_(330));Xl(sl,e),sl=sl.nextEffect}}while(null!==sl);if(k=ei,b=Ir(),y=k.focusedElem,a=k.selectionRange,b!==y&&y&&y.ownerDocument&&Dr(y.ownerDocument.documentElement,y)){null!==a&&Rr(y)&&(b=a.start,void 0===(k=a.end)&&(k=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(k,y.value.length)):(k=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(k=k.getSelection(),s=y.textContent.length,C=Math.min(a.start,s),a=void 0===a.end?C:Math.min(a.end,s),!k.extend&&C>a&&(s=a,a=C,C=s),s=Er(y,C),o=Er(y,a),s&&o&&(1!==k.rangeCount||k.anchorNode!==s.node||k.anchorOffset!==s.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&((b=b.createRange()).setStart(s.node,s.offset),k.removeAllRanges(),C>a?(k.addRange(b),k.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),k.addRange(b))))),b=[];for(k=y;k=k.parentNode;)1===k.nodeType&&b.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(k=b[y]).element.scrollLeft=k.left,k.element.scrollTop=k.top}dn=!!$r,ei=$r=null,e.current=n,sl=r;do{try{for(y=e;null!==sl;){var x=sl.flags;if(36&x&&Rs(y,sl.alternate,sl),128&x){b=void 0;var w=sl.ref;if(null!==w){var S=sl.stateNode;switch(sl.tag){case 5:b=S;break;default:b=S}"function"==typeof w?w(b):w.current=b}}sl=sl.nextEffect}}catch(e){if(null===sl)throw Error(_(330));Xl(sl,e),sl=sl.nextEffect}}while(null!==sl);sl=null,Ji(),Ks=i}else e.current=n;if(dl)dl=!1,hl=e,fl=t;else for(sl=r;null!==sl;)t=sl.nextEffect,sl.nextEffect=null,8&sl.flags&&((x=sl).sibling=null,x.stateNode=null),sl=t;if(0===(r=e.pendingLanes)&&(cl=null),1===r?e===yl?ml++:(ml=0,yl=e):ml=0,n=n.stateNode,Oi&&"function"==typeof Oi.onCommitFiberRoot)try{Oi.onCommitFiberRoot(Pi,n,void 0,64==(64&n.current.flags))}catch(e){}if(Il(e,to()),ll)throw ll=!1,e=ul,ul=null,e;return 0!=(8&Ks)||ao(),null}function ql(){for(;null!==sl;){var e=sl.alternate;xl||null===Cl||(0!=(8&sl.flags)?gt(sl,Cl)&&(xl=!0):13===sl.tag&&Ws(e,sl)&&gt(sl,Cl)&&(xl=!0));var t=sl.flags;0!=(256&t)&&Is(e,sl),0==(512&t)||dl||(dl=!0,oo(97,(function(){return Zl(),null}))),sl=sl.nextEffect}}function Zl(){if(90!==fl){var e=97<fl?97:fl;return fl=90,io(e,Jl)}return!1}function Gl(e,t){pl.push(t,e),dl||(dl=!0,oo(97,(function(){return Zl(),null})))}function Ql(e,t){gl.push(t,e),dl||(dl=!0,oo(97,(function(){return Zl(),null})))}function Jl(){if(null===hl)return!1;var e=hl;if(hl=null,0!=(48&Ks))throw Error(_(331));var t=Ks;Ks|=32;var n=gl;gl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(_(330));Xl(o,e)}}for(n=pl,pl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(e){if(null===o)throw Error(_(330));Xl(o,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ks=t,ao(),!0}function Yl(e,t,n){wo(e,t=ws(0,t=ks(n,t),1)),t=wl(),null!==(e=Dl(e,1))&&(on(e,1,t),Il(e,t))}function Xl(e,t){if(3===e.tag)Yl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Yl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===cl||!cl.has(r))){var i=Ss(n,e=ks(t,e),1);if(wo(n,i),i=wl(),null!==(n=Dl(n,1)))on(n,1,i),Il(n,i);else if("function"==typeof r.componentDidCatch&&(null===cl||!cl.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function $l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=wl(),e.pingedLanes|=e.suspendedLanes&n,Us===e&&(Zs&n)===n&&(4===Js||3===Js&&(62914560&Zs)===Zs&&500>to()-rl?Ol(e,0):tl|=n),Il(e,t)}function eu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===no()?1:2:(0===_l&&(_l=Xs),0===(t=nn(62914560&~_l))&&(t=4194304))),n=wl(),null!==(e=Dl(e,t))&&(on(e,t,n),Il(e,n))}function tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nu(e,t,n,r){return new tu(e,t,n,r)}function ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function iu(e,t){var n=e.alternate;return null===n?((n=nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ou(e,n,r,i,o,a){var s=2;if(i=e,"function"==typeof e)ru(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case z:return au(r.children,o,a,n);case Y:s=8,o|=16;break;case W:s=8,o|=1;break;case H:return(e=nu(12,r,n,8|o)).elementType=H,e.type=H,e.lanes=a,e;case U:return(e=nu(13,r,n,o)).type=U,e.elementType=U,e.lanes=a,e;case q:return(e=nu(19,r,n,o)).elementType=q,e.lanes=a,e;case X:return su(r,o,a,n);case $:return(e=nu(24,r,n,o)).elementType=$,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case V:s=10;break e;case j:s=9;break e;case K:s=11;break e;case Z:s=14;break e;case G:s=16,i=null;break e;case Q:s=22;break e}throw Error(_(130,null==e?e:void 0===e?"undefined":t(v)(e),""))}return(n=nu(s,r,n,o)).elementType=e,n.type=i,n.lanes=a,n}function au(e,t,n,r){return(e=nu(7,e,r,t)).lanes=n,e}function su(e,t,n,r){return(e=nu(23,e,r,t)).elementType=X,e.lanes=n,e}function lu(e,t,n){return(e=nu(6,e,null,t)).lanes=n,e}function uu(e,t,n){return(t=nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=rn(0),this.expirationTimes=rn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.mutableSourceEagerHydrationData=null}function du(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:B,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function hu(e,t,n,r){var i=t.current,o=wl(),a=Sl(i);e:if(n){t:{if(dt(n=n._reactInternals)!==n||1!==n.tag)throw Error(_(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ri(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(_(171))}if(1===n.tag){var l=n.type;if(Ri(l)){n=Mi(n,l,s);break e}}n=s}else n=wi;return null===t.context?t.context=n:t.pendingContext=n,(t=xo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),wo(i,t),El(i,a,o),a}function fu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function pu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gu(e,t){pu(e,t),(e=e.alternate)&&pu(e,t)}function vu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new cu(e,t,null!=n&&!0===n.hydrate),t=nu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ko(t),e[hi]=n.current,Kr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function mu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function yu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=fu(a);s.call(e)}}hu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new vu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=fu(a);l.call(e)}}Tl((function(){hu(t,a,e,i)}))}return fu(a)}function bu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!mu(t))throw Error(_(200));return du(e,t,null,n)}al=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)Qa=!0;else{if(0==(n&r)){switch(Qa=!1,t.tag){case 3:os(t),aa();break;case 5:Go(t);break;case 1:Ri(t.type)&&Ti(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;xi(co,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?cs(e,t,n):(xi(Jo,1&Jo.current),null!==(t=ms(e,t,n))?t.sibling:null);xi(Jo,1&Jo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return vs(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(Jo,Jo.current),r)break;return null;case 23:case 24:return t.lanes=0,es(e,t,n)}return ms(e,t,n)}Qa=0!=(16384&e.flags)}else Qa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ii(t,Si.current),yo(t,n),i=ba(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)){var o=!0;Ti(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ko(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Ro(t,r,a,e),i.updater=Lo,t.stateNode=i,i._reactInternals=t,No(t,r,e,n),t=is(null,t,r,!0,o,n)}else t.tag=0,Ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===K)return 11;if(e===Z)return 14}return 2}(i),e=uo(i,e),o){case 0:t=ns(null,t,i,e,n);break e;case 1:t=rs(null,t,i,e,n);break e;case 11:t=Ya(null,t,i,e,n);break e;case 14:t=Xa(null,t,i,uo(i.type,e),r,n);break e}throw Error(_(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,ns(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 1:return r=t.type,i=t.pendingProps,rs(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 3:if(os(t),r=t.updateQueue,null===e||null===r)throw Error(_(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Co(e,t),Eo(t,r,null,n),(r=t.memoizedState.element)===i)aa(),t=ms(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&($o=ai(t.stateNode.containerInfo.firstChild),Xo=t,o=ea=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],sa.push(o);for(n=Wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ja(e,t,r,n),aa();t=t.child}return t;case 5:return Go(t),null===e&&ra(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=16),ts(e,t),Ja(e,t,a,n),t.child;case 6:return null===e&&ra(t),null;case 13:return cs(e,t,n);case 4:return qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=zo(t,null,r,n):Ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ya(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 7:return Ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(xi(co,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=Cr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!Ei.current){t=ms(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===s.tag&&((u=xo(-1,n&-n)).tag=2,wo(s,u)),s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),mo(s.return,n),l.lanes|=n;break}u=u.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,yo(t,n),r=r(i=bo(i,o.unstable_observedBits)),t.flags|=1,Ja(e,t,r,n),t.child;case 14:return o=uo(i=t.type,t.pendingProps),Xa(e,t,i,o=uo(i.type,o),r,n);case 15:return $a(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Ti(t)):e=!1,yo(t,n),Mo(t,r,i),No(t,r,i,n),is(null,t,r,!0,e,n);case 19:return vs(e,t,n);case 23:case 24:return es(e,t,n)}throw Error(_(156,t.tag))},vu.prototype.render=function(e){hu(e,this._internalRoot,null,null)},vu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;hu(null,e,null,(function(){t[hi]=null}))},vt=function(e){13===e.tag&&(El(e,4,wl()),gu(e,4))},mt=function(e){13===e.tag&&(El(e,67108864,wl()),gu(e,67108864))},yt=function(e){if(13===e.tag){var t=wl(),n=Sl(e);El(e,n,t),gu(e,n)}},bt=function(e,t){return t()},Ve=function(e,t,n){switch(t){case"input":if(me(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mi(r);if(!i)throw Error(_(90));he(r),me(r,i)}}}break;case"textarea":we(e,n);break;case"select":null!=(t=n.value)&&ke(e,!!n.multiple,t,!1)}},Ge=Ml,Qe=function(e,t,n,r,i){var o=Ks;Ks|=4;try{return io(98,e.bind(null,t,n,r,i))}finally{0===(Ks=o)&&(ol(),ao())}},Je=function(){0==(49&Ks)&&(function(){if(null!==vl){var e=vl;vl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Il(e,to())}))}ao()}(),Zl())},Ye=function(e,t){var n=Ks;Ks|=2;try{return e(t)}finally{0===(Ks=n)&&(ol(),ao())}};var _u={Events:[gi,vi,mi,qe,Ze,Zl,{current:!1}]},ku={findFiberByHostInstance:pi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Cu={bundleType:ku.bundleType,version:ku.version,rendererPackageName:ku.rendererPackageName,rendererConfig:ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=pt(e))?null:e.stateNode},findFiberByHostInstance:ku.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Pi=xu.inject(Cu),Oi=xu}catch(Ae){}}i=_u,a=bu,s=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(_(188));throw Error(_(268,Object.keys(e)))}return e=null===(e=pt(t))?null:e.stateNode},l=function(e,t){var n=Ks;if(0!=(48&n))return e(t);Ks|=1;try{if(e)return io(99,e.bind(null,t))}finally{Ks=n,ao()}},u=function(e,t,n){if(!mu(t))throw Error(_(200));return yu(null,e,t,!0,n)},c=function(e,t,n){if(!mu(t))throw Error(_(200));return yu(null,e,t,!1,n)},d=function(e){if(!mu(e))throw Error(_(40));return!!e._reactRootContainer&&(Tl((function(){yu(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},h=Ml,f=function(e,t){return bu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},p=function(e,t,n,r){if(!mu(n))throw Error(_(200));if(null==e||void 0===e._reactInternals)throw Error(_(38));return yu(e,t,n,!1,r)},g="17.0.2"})),o.register("h2Z4C",(function(e,t){"use strict";e.exports=o("ksJQo")})),o.register("ksJQo",(function(t,n){var r,i,o,a,s,l,u,c,d,h,f,p,g,v,m,y,b,_,k,C,x,w,S;if(e(t.exports,"unstable_now",(function(){return r}),(function(e){return r=e})),e(t.exports,"unstable_shouldYield",(function(){return i}),(function(e){return i=e})),e(t.exports,"unstable_forceFrameRate",(function(){return o}),(function(e){return o=e})),e(t.exports,"unstable_IdlePriority",(function(){return a}),(function(e){return a=e})),e(t.exports,"unstable_ImmediatePriority",(function(){return s}),(function(e){return s=e})),e(t.exports,"unstable_LowPriority",(function(){return l}),(function(e){return l=e})),e(t.exports,"unstable_NormalPriority",(function(){return u}),(function(e){return u=e})),e(t.exports,"unstable_Profiling",(function(){return c}),(function(e){return c=e})),e(t.exports,"unstable_UserBlockingPriority",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_cancelCallback",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_continueExecution",(function(){return f}),(function(e){return f=e})),e(t.exports,"unstable_getCurrentPriorityLevel",(function(){return p}),(function(e){return p=e})),e(t.exports,"unstable_getFirstCallbackNode",(function(){return g}),(function(e){return g=e})),e(t.exports,"unstable_next",(function(){return v}),(function(e){return v=e})),e(t.exports,"unstable_pauseExecution",(function(){return m}),(function(e){return m=e})),e(t.exports,"unstable_requestPaint",(function(){return y}),(function(e){return y=e})),e(t.exports,"unstable_runWithPriority",(function(){return b}),(function(e){return b=e})),e(t.exports,"unstable_scheduleCallback",(function(){return _}),(function(e){return _=e})),e(t.exports,"unstable_wrapCallback",(function(){return k}),(function(e){return k=e})),"object"==typeof performance&&"function"==typeof performance.now){var E=performance;r=function(){return E.now()}}else{var D=Date,I=D.now();r=function(){return D.now()-I}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var R=null,L=null,A=function(){if(null!==R)try{var e=r();R(!0,e),R=null}catch(e){throw setTimeout(A,0),e}};C=function(e){null!==R?setTimeout(C,0,e):(R=e,setTimeout(A,0))},x=function(e,t){L=setTimeout(e,t)},w=function(){clearTimeout(L)},i=function(){return!1},S=o=function(){}}else{var M=window.setTimeout,T=window.clearTimeout;if("undefined"!=typeof console){var N=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof N&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var P=!1,O=null,F=-1,B=5,z=0;i=function(){return r()>=z},S=function(){},o=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<e?Math.floor(1e3/e):5};var W=new MessageChannel,H=W.port2;W.port1.onmessage=function(){if(null!==O){var e=r();z=e+B;try{O(!0,e)?H.postMessage(null):(P=!1,O=null)}catch(e){throw H.postMessage(null),e}}else P=!1},C=function(e){O=e,P||(P=!0,H.postMessage(null))},x=function(e,t){F=M((function(){e(r())}),t)},w=function(){T(F),F=-1}}function V(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<U(i,t)))break e;e[r]=t,e[n]=i,n=r}}function j(e){return void 0===(e=e[0])?null:e}function K(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>U(a,n))void 0!==l&&0>U(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>U(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function U(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var q=[],Z=[],G=1,Q=null,J=3,Y=!1,X=!1,$=!1;function ee(e){for(var t=j(Z);null!==t;){if(null===t.callback)K(Z);else{if(!(t.startTime<=e))break;K(Z),t.sortIndex=t.expirationTime,V(q,t)}t=j(Z)}}function te(e){if($=!1,ee(e),!X)if(null!==j(q))X=!0,C(ne);else{var t=j(Z);null!==t&&x(te,t.startTime-e)}}function ne(e,t){X=!1,$&&($=!1,w()),Y=!0;var n=J;try{for(ee(t),Q=j(q);null!==Q&&(!(Q.expirationTime>t)||e&&!i());){var o=Q.callback;if("function"==typeof o){Q.callback=null,J=Q.priorityLevel;var a=o(Q.expirationTime<=t);t=r(),"function"==typeof a?Q.callback=a:Q===j(q)&&K(q),ee(t)}else K(q);Q=j(q)}if(null!==Q)var s=!0;else{var l=j(Z);null!==l&&x(te,l.startTime-t),s=!1}return s}finally{Q=null,J=n,Y=!1}}a=5,s=1,l=4,u=3,c=null,d=2,h=function(e){e.callback=null},f=function(){X||Y||(X=!0,C(ne))},p=function(){return J},g=function(){return j(q)},v=function(e){switch(J){case 1:case 2:case 3:var t=3;break;default:t=J}var n=J;J=t;try{return e()}finally{J=n}},m=function(){},y=S,b=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=J;J=e;try{return t()}finally{J=n}},_=function(e,t,n){var i=r();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?i+n:i:n=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:G++,callback:t,priorityLevel:e,startTime:n,expirationTime:o=n+o,sortIndex:-1},n>i?(e.sortIndex=n,V(Z,e),null===j(q)&&e===j(Z)&&($?w():$=!0,x(te,n-i))):(e.sortIndex=o,V(q,e),X||Y||(X=!0,C(ne))),e},k=function(e){var t=J;return function(){var n=J;J=t;try{return e.apply(this,arguments)}finally{J=n}}}})),o.register("lFaQN",(function(t,n){e(t.exports,"Emitter",(function(){return o("kqL91").Emitter})),e(t.exports,"languages",(function(){return o("kqL91").languages})),e(t.exports,"editor",(function(){return o("kqL91").editor})),e(t.exports,"MarkerSeverity",(function(){return o("kqL91").MarkerSeverity})),e(t.exports,"Range",(function(){return o("kqL91").Range})),e(t.exports,"Uri",(function(){return o("kqL91").Uri})),o("kqL91")})),o.register("slASf",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("eYbyR"))]).then((function(){return o("lepdy")}))})),o.register("kXklY",(function(e,t){"use strict";var n=o("BrBZ8");e.exports=n((function(e){return new Promise((function(t,n){var r=document.getElementsByTagName("link");if([].concat(r).some((function(t){return t.href===e&&t.rel.indexOf("stylesheet")>-1})))t();else{var i=document.createElement("link");i.rel="stylesheet",i.href=e,i.onerror=function(e){i.onerror=i.onload=null,i.remove(),n(e)},i.onload=function(){i.onerror=i.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(i)}}))}))})),o.register("BrBZ8",(function(e,t){"use strict";var n={},r={},i={};function o(e){switch(e){case"preload":return r;case"prefetch":return i;default:return n}}e.exports=function(e,t){return function(n){var r=o(t);return r[n]?r[n]:r[n]=e.apply(null,arguments).catch((function(e){throw delete r[n],e}))}}})),o.register("97l7Z",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var i={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),i[e]=t),t}})),o.register("2Uz99",(function(e,t){"use strict";var n=o("BrBZ8");e.exports=n((function(e){return new Promise((function(t,n){var r=document.getElementsByTagName("script");if([].concat(r).some((function(t){return t.src===e})))t();else{var i=document.createElement("link");i.href=e,i.rel="preload",i.as="script",document.head.appendChild(i);var o=document.createElement("script");o.async=!0,o.type="text/javascript",o.charset="utf-8",o.src=e,o.onerror=function(t){var r=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));o.onerror=o.onload=null,o.remove(),n(r)},o.onload=function(){o.onerror=o.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(o)}}))}))})),o.register("8jN5h",(function(t,n){e(t.exports,"Emitter",(function(){return o("kqL91").Emitter})),e(t.exports,"languages",(function(){return o("kqL91").languages})),e(t.exports,"editor",(function(){return o("kqL91").editor})),e(t.exports,"MarkerSeverity",(function(){return o("kqL91").MarkerSeverity})),e(t.exports,"Range",(function(){return o("kqL91").Range})),e(t.exports,"Uri",(function(){return o("kqL91").Uri})),o("kqL91")})),o.register("dBpLc",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("a8Dx0"))]).then((function(){return o("6I4wf")}))})),o.register("gH8Kc",(function(t,n){e(t.exports,"Emitter",(function(){return o("kqL91").Emitter})),e(t.exports,"languages",(function(){return o("kqL91").languages})),e(t.exports,"Range",(function(){return o("kqL91").Range})),e(t.exports,"Uri",(function(){return o("kqL91").Uri})),e(t.exports,"editor",(function(){return o("kqL91").editor})),o("kqL91")})),o.register("33vmx",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("iOco6"))]).then((function(){return o("fnkKV")}))})),o.register("7GtMn",(function(t,n){e(t.exports,"languages",(function(){return o("kqL91").languages})),o("kqL91")})),o.register("4jpGu",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("fEnBU")).then((function(){return o("bfn3R")}))})),o.register("dVm1b",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("agXnf")).then((function(){return o("cANIM")}))})),o.register("bD6kR",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("gieaP")).then((function(){return o("5fjDe")}))})),o.register("5T2uZ",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("4uSIS")).then((function(){return o("6TYKK")}))})),o.register("4C7IN",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("d0TKb")).then((function(){return o("4P2K6")}))})),o.register("5offh",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("8sqqz")).then((function(){return o("91RFZ")}))})),o.register("aXgjW",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bDKAk")).then((function(){return o("2b4NN")}))})),o.register("gk4Up",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("l6zXB")).then((function(){return o("6rXd2")}))})),o.register("aNVUX",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("kXSZs")).then((function(){return o("6eaxu")}))})),o.register("hLqfR",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("jNPZ1")).then((function(){return o("hGwEE")}))})),o.register("1I9sW",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("4NBGR")).then((function(){return o("dQsiw")}))})),o.register("a6Lab",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("f5url")).then((function(){return o("6UnfZ")}))})),o.register("7H2j3",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("6m3gi")).then((function(){return o("jQqzP")}))})),o.register("im8JW",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("81BUm")).then((function(){return o("46tpE")}))})),o.register("l0oIb",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("4P3NC")).then((function(){return o("7a2iU")}))})),o.register("jy9Qm",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("fGHyh")).then((function(){return o("62q6Y")}))})),o.register("01QE0",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("7oEOw")).then((function(){return o("i9T59")}))})),o.register("hWQjq",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("j1Nwc")).then((function(){return o("9eXmg")}))})),o.register("4qEsB",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("2NK4H")).then((function(){return o("63Hzv")}))})),o.register("aJdFK",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("jAG9I"))]).then((function(){return o("48sLy")}))})),o.register("cS80A",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("lxwTv")).then((function(){return o("3Gk34")}))})),o.register("9mi4f",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("dAM4F"))]).then((function(){return o("iys3o")}))})),o.register("j2jyV",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("3CCj7")).then((function(){return o("eTgaK")}))})),o.register("35oiF",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("1mWUZ")).then((function(){return o("asc3z")}))})),o.register("iRgT5",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("jKaNq")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("6eLDy"))]).then((function(){return o("hq2Ix")}))})),o.register("aJJyU",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("2JARJ")).then((function(){return o("fH7Yi")}))})),o.register("215TA",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("1eriZ")).then((function(){return o("8w99Z")}))})),o.register("GJtPq",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("5egZk")).then((function(){return o("jIlHk")}))})),o.register("kTgde",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bGfIv")).then((function(){return o("khhw5")}))})),o.register("eyuDh",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("ijRR4")).then((function(){return o("69MdY")}))})),o.register("8PjZA",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("gJmHM"))]).then((function(){return o("cvgFS")}))})),o.register("kDPl1",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("blqSY")).then((function(){return o("bu5W9")}))})),o.register("jit0l",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("ktr5U")).then((function(){return o("6cbC0")}))})),o.register("1KWvt",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("3FmcZ")).then((function(){return o("V5BoF")}))})),o.register("cEnIB",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("kRKoG")).then((function(){return o("3dYO6")}))})),o.register("eJ0SV",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("e409C")).then((function(){return o("jdGCN")}))})),o.register("jeKNw",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("Kmohy")).then((function(){return o("ll9Vo")}))})),o.register("fiQqe",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("djTaR")).then((function(){return o("fFqsI")}))})),o.register("50xRC",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("7T8G4")).then((function(){return o("e97Tx")}))})),o.register("7GEC9",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("hdq1q")).then((function(){return o("364mn")}))})),o.register("ivLoI",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("i5VXI")).then((function(){return o("g6HXX")}))})),o.register("cm0C8",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("2nBZa")).then((function(){return o("bDRrJ")}))})),o.register("g4D5Y",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("d16j1")).then((function(){return o("jPddK")}))})),o.register("6M2fB",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("jNHXw")).then((function(){return o("bJuPD")}))})),o.register("kqhVV",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("hobZE")).then((function(){return o("5IEm7")}))})),o.register("kJdRv",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("gNH1X")).then((function(){return o("3HvY7")}))})),o.register("c2LQZ",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("fVUpx"))]).then((function(){return o("br7hV")}))})),o.register("jgcUy",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("hOdwx")).then((function(){return o("2LpkD")}))})),o.register("kY0LG",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("dSj2c")).then((function(){return o("aTSzh")}))})),o.register("eSwOt",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("3GbuA"))]).then((function(){return o("lQX9q")}))})),o.register("3DK1s",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("kTfFQ")).then((function(){return o("jLBrn")}))})),o.register("7hXFa",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("2SuWw")).then((function(){return o("eg96Y")}))})),o.register("dnAtc",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("dHMXX")).then((function(){return o("74kAx")}))})),o.register("1LBzA",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("dRVQk")).then((function(){return o("atBx5")}))})),o.register("9EeUS",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("dIWWH")).then((function(){return o("lmheW")}))})),o.register("cNlPG",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("hRPDd")).then((function(){return o("3Mze9")}))})),o.register("i0eGW",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("8sQUa")).then((function(){return o("1iMyU")}))})),o.register("3yTez",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("fBvDQ")).then((function(){return o("dfBip")}))})),o.register("j0Pia",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("6WMmw")).then((function(){return o("7EI7J")}))})),o.register("aXJ85",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("kJ8b4")).then((function(){return o("gSGIW")}))})),o.register("dST3m",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("fGocR")).then((function(){return o("k21yZ")}))})),o.register("9QpUa",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("lJbhl")).then((function(){return o("9vv2z")}))})),o.register("9KpGQ",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("dZRUE")).then((function(){return o("eRLDR")}))})),o.register("j10ZB",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("1S8ek")).then((function(){return o("1qqSZ")}))})),o.register("aJUrU",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("euYfo")).then((function(){return o("8UIzd")}))})),o.register("cbc4S",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("KmIN2")).then((function(){return o("h2x4V")}))})),o.register("jCHtJ",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("7nFQ9")).then((function(){return o("cqOlz")}))})),o.register("d6sxW",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("5iTBy")).then((function(){return o("frpwT")}))})),o.register("gOAFy",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("1ePeT")).then((function(){return o("fTjFw")}))})),o.register("6Z9nb",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("jKaNq"))]).then((function(){return o("33EYJ")}))})),o.register("4n2w6",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("eZM1r")).then((function(){return o("iggMG")}))})),o.register("iiZSS",(function(e,t){e.exports=Promise.all([o("kXklY")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("bibKH")),o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("60tib"))]).then((function(){return o("erjUW")}))})),o.register("8g7sy",(function(e,t){e.exports=o("2Uz99")(o("97l7Z").getBundleURL("e9M5B")+o("cmWpH").resolve("lE20h")).then((function(){return o("cL8aa")}))})),o.register("jmA0c",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=e.exports.Vim=void 0;var n,r=(n=o("cuqRK"))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<Del>",type:"keyToKey",toKeys:"x",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"visual"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],s=a.length,l=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"global",shortName:"g"}],u=r.default.Pos,c=function(){function e(e,n){e.attached=!1,this==r.default.keyMap.vim&&r.default.rmClass(e.getWrapperElement(),"cm-fat-cursor"),n&&n.attach==t||function(e){e.setOption("disableInput",!1),e.off("cursorActivity",Ge),e.state.vim=null,e.leaveVimMode()}(e)}function t(e,n){this==r.default.keyMap.vim&&(e.attached=!0),n&&n.attach==t||function(e){e.setOption("disableInput",!0),e.setOption("showCursorWhenSelecting",!1),r.default.signal(e,"vim-mode-change",{mode:"normal"}),e.on("cursorActivity",Ge),N(e),e.enterVimMode()}(e)}function n(e,t){if(t){if(this[e])return this[e];var n=function(e){if("'"==e.charAt(0))return e.charAt(1);if("AltGraph"==e)return!1;var t=e.split(/-(?!$)/),n=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==n.length)return!1;for(var r=!1,i=0;i<t.length;i++){var a=t[i];a in o?t[i]=o[a]:r=!0,a in c&&(t[i]=c[a])}if(!r)return!1;C(n)&&(t[t.length-1]=n.toLowerCase());return"<"+t.join("-")+">"}(e);if(!n)return!1;var i=r.default.Vim.findKey(t,n);return"function"==typeof i&&r.default.signal(t,"vim-keypress",n),i}}r.default.defineOption("vimMode",!1,(function(e,t,n){t&&"vim"!=e.getOption("keyMap")?e.setOption("keyMap","vim"):!t&&n!=r.default.Init&&/^vim/.test(e.getOption("keyMap"))&&e.setOption("keyMap","default")}));var o={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},c={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"};var d=/[\d]/,h=[r.default.isWordChar,function(e){return e&&!r.default.isWordChar(e)&&!/\s/.test(e)}],f=[function(e){return/\S/.test(e)}];function p(e,t){for(var n=[],r=e;r<e+t;r++)n.push(String.fromCharCode(r));return n}var g=p(65,26),v=p(97,26),m=p(48,10),y=[].concat(g,v,m,["<",">"]),b=[].concat(g,v,m,["-",'"',".",":","/"]);function _(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function k(e){return/^[a-z]$/.test(e)}function C(e){return/^[A-Z]$/.test(e)}function x(e){return/^\s*$/.test(e)}function w(e){return-1!=".?!".indexOf(e)}function S(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}var E={};function D(e,t,n,r,i){if(void 0===t&&!i)throw Error("defaultValue is required unless callback is provided");if(n||(n="string"),E[e]={type:n,defaultValue:t,callback:i},r)for(var o=0;o<r.length;o++)E[r[o]]=E[e];t&&I(e,t)}function I(e,t,n,r){var i=E[e],o=(r=r||{}).scope;if(!i)return new Error("Unknown option: "+e);if("boolean"==i.type){if(t&&!0!==t)return new Error("Invalid argument: "+e+"="+t);!1!==t&&(t=!0)}i.callback?("local"!==o&&i.callback(t,void 0),"global"!==o&&n&&i.callback(t,n)):("local"!==o&&(i.value="boolean"==i.type?!!t:t),"global"!==o&&n&&(n.state.vim.options[e]={value:t}))}function R(e,t,n){var r=E[e],i=(n=n||{}).scope;if(!r)return new Error("Unknown option: "+e);if(r.callback){var o=t&&r.callback(void 0,t);return"global"!==i&&void 0!==o?o:"local"!==i?r.callback():void 0}return((o="global"!==i&&t&&t.state.vim.options[e])||"local"!==i&&r||{}).value}D("filetype",void 0,"string",["ft"],(function(e,t){if(void 0!==t){if(void 0===e)return"null"==(n=t.getOption("mode"))?"":n;var n=""==e?"null":e;t.setOption("mode",n)}}));var L,A,M=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function T(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=M()}function N(e){return e.state.vim||(e.state.vim={inputState:new F,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}function P(){var e,t,n,r,i;for(var o in L={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:(e=100,t=-1,n=0,r=0,i=new Array(e),{cachedCursor:void 0,add:function(o,a,s){var l=i[t%e];function u(n){var r=++t%e,a=i[r];a&&a.clear(),i[r]=o.setBookmark(n)}if(l){var c=l.find();c&&!$(c,a)&&u(a)}else u(a);u(s),n=t,(r=t-e+1)<0&&(r=0)},move:function(o,a){(t+=a)>n?t=n:t<r&&(t=r);var s=i[(e+t)%e];if(s&&!s.find()){var l,u=a>0?1:-1,c=o.getCursor();do{if((s=i[(e+(t+=u))%e])&&(l=s.find())&&!$(c,l))break}while(t<n&&t>r)}return s}}),macroModeState:new T,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new W({}),searchHistoryController:new H,exCommandHistoryController:new H},E){var a=E[o];a.value=a.defaultValue}}T.prototype={exitMacroRecordMode:function(){var e=L.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=L.registerController.getRegister(t);n&&(n.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog("(recording)["+t+"]",null,{bottom:!0})),this.isRecording=!0)}};var O={buildKeyMap:function(){},getRegisterController:function(){return L.registerController},resetVimGlobalState_:P,getVimGlobalState_:function(){return L},maybeInitVimState_:N,suppressErrorLogging:!1,InsertModeKey:Je,map:function(e,t,n){je.map(e,t,n)},unmap:function(e,t){je.unmap(e,t)},noremap:function(e,t,n){var r=this,i=function(i){var s=a[i];if(!(s.keys!=t||n&&s.context&&s.context!==n||"ex"===s.type.substr(0,2)||"key"===s.type.substr(0,3))){var u={};for(var c in s)u[c]=s[c];u.keys=e,n&&!u.context&&(u.context=n),r._mapCommand(u);var d=o(s.context);l=l.filter((function(e){return-1===d.indexOf(e)}))}};function o(e){return e?[e]:["normal","insert","visual"]}for(var l=o(n),u=a.length,c=u-s;c<u&&l.length;c++)i(c)},setOption:I,getOption:R,defineOption:D,defineEx:function(e,t,n){if(t){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;Ve[e]=n,je.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,n){var r=this.findKey(e,t,n);if("function"==typeof r)return r()},findKey:function(e,t,n){var i,o=N(e);function s(){var r=L.macroModeState;if(r.isRecording){if("q"==t)return r.exitMacroRecordMode(),B(e),!0;"mapping"!=n&&function(e,t){if(e.isPlaying)return;var n=e.latestRegister,r=L.registerController.getRegister(n);r&&r.pushText(t)}(r,t)}}function l(){if("<Esc>"==t)return B(e),o.visualMode?he(e):o.insertMode&&Ke(e),!0}return!1===(i=o.insertMode?function(){if(l())return!0;for(var n=o.inputState.keyBuffer=o.inputState.keyBuffer+t,r=1==t.length,i=V.matchCommand(n,a,o.inputState,"insert");n.length>1&&"full"!=i.type;){n=o.inputState.keyBuffer=n.slice(1);var s=V.matchCommand(n,a,o.inputState,"insert");"none"!=s.type&&(i=s)}if("none"==i.type)return B(e),!1;if("partial"==i.type)return A&&window.clearTimeout(A),A=window.setTimeout((function(){o.insertMode&&o.inputState.keyBuffer&&B(e)}),R("insertModeEscKeysTimeout")),!r;if(A&&window.clearTimeout(A),r){for(var u=e.listSelections(),c=0;c<u.length;c++){var d=u[c].head;e.replaceRange("",Q(d,0,-(n.length-1)),d,"+input")}L.macroModeState.lastInsertModeChanges.changes.pop()}return B(e),i.command}():function(){if(s()||l())return!0;var n=o.inputState.keyBuffer=o.inputState.keyBuffer+t;if(/^[1-9]\d*$/.test(n))return!0;if(!(r=/^(\d*)(.*)$/.exec(n)))return B(e),!1;var r,i=o.visualMode?"visual":"normal",u=V.matchCommand(r[2]||r[1],a,o.inputState,i);return"none"==u.type?(B(e),!1):"partial"==u.type||(o.inputState.keyBuffer="",(r=/^(\d*)(.*)$/.exec(n))[1]&&"0"!=r[1]&&o.inputState.pushRepeatDigit(r[1]),u.command)}())?o.insertMode||1!==t.length?void 0:function(){return!0}:!0===i?function(){return!0}:function(){return e.operation((function(){e.curOp.isVimOp=!0;try{"keyToKey"==i.type?function(n){for(var i;n;)i=/<\w+-.+?>|<\w+>|./.exec(n),t=i[0],n=n.substring(i.index+t.length),r.default.Vim.handleKey(e,t,"mapping")}(i.toKeys):V.processCommand(e,o,i)}catch(t){throw e.state.vim=void 0,N(e),r.default.Vim.suppressErrorLogging||console.log(t),t}return!0}))}},handleEx:function(e,t){je.processCommand(e,t)},defineMotion:function(e,t){j[e]=t},defineAction:function(e,t){q[e]=t},defineOperator:function(e,t){U[e]=t},mapCommand:function(e,t,n,r,i){var o={keys:e,type:t};for(var a in o[t]=n,o[t+"Args"]=r,i)o[a]=i[a];Ue(o)},_mapCommand:Ue,defineRegister:function(e,t){var n=L.registerController.registers;if(!e||1!=e.length)throw Error("Register name must be 1 character");if(n[e])throw Error("Register already defined "+e);n[e]=t,b.push(e)},exitVisualMode:he,exitInsertMode:Ke};function F(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function B(e,t){e.state.vim.inputState=new F,r.default.signal(e,"vim-command-done",t)}function z(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}function W(e){this.registers=e,this.unnamedRegister=e['"']=new z,e["."]=new z,e[":"]=new z,e["/"]=new z}function H(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}F.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},F.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},z.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(M(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},W.prototype={pushText:function(e,t,n,r,i){r&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var o=this.isValidRegister(e)?this.getRegister(e):null;if(o){C(e)?o.pushText(n,r):o.setText(n,r,i),this.unnamedRegister.setText(o.toString(),r)}else{switch(t){case"yank":this.registers[0]=new z(n,r,i);break;case"delete":case"change":-1==n.indexOf("\n")?this.registers["-"]=new z(n,r):(this.shiftNumericRegisters_(),this.registers[1]=new z(n,r))}this.unnamedRegister.setText(n,r,i)}},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new z),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&S(e,b)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},H.prototype={nextMatch:function(e,t){var n=this.historyBuffer,r=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var i=this.iterator+r;t?i>=0:i<n.length;i+=r)for(var o=n[i],a=0;a<=o.length;a++)if(this.initialPrefix==o.substring(0,a))return this.iterator=i,o;return i>=n.length?(this.iterator=n.length,this.initialPrefix):i<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var V={matchCommand:function(e,t,n,r){var i,o=function(e,t,n,r){for(var i,o=[],a=[],s=0;s<t.length;s++){var l=t[s];"insert"==n&&"insert"!=l.context||l.context&&l.context!=n||r.operator&&"action"==l.type||!(i=J(e,l.keys))||("partial"==i&&o.push(l),"full"==i&&a.push(l))}return{partial:o.length&&o,full:a.length&&a}}(e,t,r,n);if(!o.full&&!o.partial)return{type:"none"};if(!o.full&&o.partial)return{type:"partial"};for(var a=0;a<o.full.length;a++){var s=o.full[a];i||(i=s)}if("<character>"==i.keys.slice(-11)){var l=function(e){var t=/^.*(<[^>]+>)$/.exec(e),n=t?t[1]:e.slice(-1);if(n.length>1)switch(n){case"<CR>":n="\n";break;case"<Space>":n=" ";break;default:n=""}return n}(e);if(!l)return{type:"none"};n.selectedCharacter=l}return{type:"full",command:i}},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=G(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var r=t.inputState;if(r.operator){if(r.operator==n.operator)return r.motion="expandToLine",r.motionArgs={linewise:!0},void this.evalInput(e,t);B(e)}r.operator=n.operator,r.operatorArgs=G(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var r=t.visualMode,i=G(n.operatorMotionArgs);i&&r&&i.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),r||this.processMotion(e,t,n)},processAction:function(e,t,n){var r=t.inputState,i=r.getRepeat(),o=!!i,a=G(n.actionArgs)||{};r.selectedCharacter&&(a.selectedCharacter=r.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),a.repeat=i||1,a.repeatIsExplicit=o,a.registerName=r.registerName,B(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,r,n),q[n.action](e,a,t)},processSearch:function(e,t,n){if(e.getSearchCursor){var i=n.searchArgs.forward,o=n.searchArgs.wholeWordOnly;we(e).setReversed(!i);var a=i?"/":"?",s=we(e).getQuery(),l=e.getScrollInfo();switch(n.searchArgs.querySrc){case"prompt":var u=L.macroModeState;if(u.isPlaying)f(h=u.replaySearchQueries.shift(),!0,!1);else Te(e,{onClose:function(t){e.scrollTo(l.left,l.top),f(t,!0,!0);var n=L.macroModeState;n.isRecording&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,r=L.registerController.getRegister(n);r&&r.pushSearchQuery&&r.pushSearchQuery(t)}}(n,t)},prefix:a,desc:Me,onKeyUp:function(t,n,o){var a,s,u,c=r.default.keyName(t);"Up"==c||"Down"==c?(a="Up"==c,s=t.target?t.target.selectionEnd:0,o(n=L.searchHistoryController.nextMatch(n,a)||""),s&&t.target&&(t.target.selectionEnd=t.target.selectionStart=Math.min(s,t.target.value.length))):"Left"!=c&&"Right"!=c&&"Ctrl"!=c&&"Alt"!=c&&"Shift"!=c&&L.searchHistoryController.reset();try{u=Ne(e,n,!0,!0)}catch(e){}u?e.scrollIntoView(Oe(e,!i,u),30):(Fe(e),e.scrollTo(l.left,l.top))},onKeyDown:function(t,n,i){var o=r.default.keyName(t);"Esc"==o||"Ctrl-C"==o||"Ctrl-["==o||"Backspace"==o&&""==n?(L.searchHistoryController.pushInput(n),L.searchHistoryController.reset(),Ne(e,s),Fe(e),e.scrollTo(l.left,l.top),r.default.e_stop(t),B(e),i(),e.focus()):"Up"==o||"Down"==o?r.default.e_stop(t):"Ctrl-U"==o&&(r.default.e_stop(t),i(""))}});break;case"wordUnderCursor":var c=fe(e,!1,!0,!1,!0),d=!0;if(c||(c=fe(e,!1,!0,!1,!1),d=!1),!c)return;var h=e.getLine(c.start.line).substring(c.start.ch,c.end.ch);d&&o?h="\\b"+h+"\\b":h=h.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1"),L.jumpList.cachedCursor=e.getCursor(),e.setCursor(c.start),f(h,!0,!1)}}function f(r,i,o){L.searchHistoryController.pushInput(r),L.searchHistoryController.reset();try{Ne(e,r,i,o)}catch(t){return Ae(e,"Invalid regex: "+r),void B(e)}V.processMotion(e,t,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:n.searchArgs.toJumplist}})}},processEx:function(e,t,n){function i(t){L.exCommandHistoryController.pushInput(t),L.exCommandHistoryController.reset(),je.processCommand(e,t)}function o(t,n,i){var o,a,s=r.default.keyName(t);("Esc"==s||"Ctrl-C"==s||"Ctrl-["==s||"Backspace"==s&&""==n)&&(L.exCommandHistoryController.pushInput(n),L.exCommandHistoryController.reset(),r.default.e_stop(t),B(e),i(),e.focus()),"Up"==s||"Down"==s?(r.default.e_stop(t),o="Up"==s,a=t.target?t.target.selectionEnd:0,i(n=L.exCommandHistoryController.nextMatch(n,o)||""),a&&t.target&&(t.target.selectionEnd=t.target.selectionStart=Math.min(a,t.target.value.length))):"Ctrl-U"==s?(r.default.e_stop(t),i("")):"Left"!=s&&"Right"!=s&&"Ctrl"!=s&&"Alt"!=s&&"Shift"!=s&&L.exCommandHistoryController.reset()}"keyToEx"==n.type?je.processCommand(e,n.exArgs.input):t.visualMode?Te(e,{onClose:i,prefix:":",value:"'<,'>",onKeyDown:o,selectValueOnOpen:!1}):Te(e,{onClose:i,prefix:":",onKeyDown:o})},evalInput:function(e,t){var n,r,i,o=t.inputState,a=o.motion,s=o.motionArgs||{},l=o.operator,c=o.operatorArgs||{},d=o.registerName,h=t.sel,f=X(t.visualMode?Z(e,h.head):e.getCursor("head")),p=X(t.visualMode?Z(e,h.anchor):e.getCursor("anchor")),g=X(f),v=X(p);if(l&&this.recordLastEdit(t,o),(i=void 0!==o.repeatOverride?o.repeatOverride:o.getRepeat())>0&&s.explicitRepeat?s.repeatIsExplicit=!0:(s.noRepeat||!s.explicitRepeat&&0===i)&&(i=1,s.repeatIsExplicit=!1),o.selectedCharacter&&(s.selectedCharacter=c.selectedCharacter=o.selectedCharacter),s.repeat=i,B(e),a){var m=j[a](e,f,s,t);if(t.lastMotion=j[a],!m)return;if(s.toJumplist){var y=L.jumpList,b=y.cachedCursor;b?(pe(e,b,m),delete y.cachedCursor):pe(e,f,m)}m instanceof Array?(r=m[0],n=m[1]):n=m,n||(n=X(f)),t.visualMode?(t.visualBlock&&n.ch===1/0||(n=Z(e,n,t.visualBlock)),r&&(r=Z(e,r,!0)),r=r||v,h.anchor=r,h.head=n,ce(e),_e(e,t,"<",ee(r,n)?r:n),_e(e,t,">",ee(r,n)?n:r)):l||(n=Z(e,n),e.setCursor(n.line,n.ch))}if(l){if(c.lastSel){r=v;var _=c.lastSel,k=Math.abs(_.head.line-_.anchor.line),C=Math.abs(_.head.ch-_.anchor.ch);n=_.visualLine?u(v.line+k,v.ch):_.visualBlock?u(v.line+k,v.ch+C):_.head.line==_.anchor.line?u(v.line,v.ch+C):u(v.line+k,v.ch),t.visualMode=!0,t.visualLine=_.visualLine,t.visualBlock=_.visualBlock,h=t.sel={anchor:r,head:n},ce(e)}else t.visualMode&&(c.lastSel={anchor:X(h.anchor),head:X(h.head),visualBlock:t.visualBlock,visualLine:t.visualLine});var w,S,E,D,I;if(t.visualMode){if(w=te(h.head,h.anchor),S=ne(h.head,h.anchor),E=t.visualLine||c.linewise,I=de(e,{anchor:w,head:S},D=t.visualBlock?"block":E?"line":"char"),E){var R=I.ranges;if("block"==D)for(var A=0;A<R.length;A++)R[A].head.ch=ie(e,R[A].head.line);else"line"==D&&(R[0].head=u(R[0].head.line+1,0))}}else{if(w=X(r||v),ee(S=X(n||g),w)){var M=w;w=S,S=M}(E=s.linewise||c.linewise)?function(e,t,n){t.ch=0,n.ch=0,n.line++}(0,w,S):s.forward&&function(e,t,n){var r=e.getRange(t,n);if(/\n\s*$/.test(r)){var i=r.split("\n");i.pop();for(var o=i.pop();i.length>0&&o&&x(o);o=i.pop())n.line--,n.ch=0;o?(n.line--,n.ch=ie(e,n.line)):n.ch=0}}(e,w,S),I=de(e,{anchor:w,head:S},D="char",!s.inclusive||E)}e.setSelections(I.ranges,I.primary),t.lastMotion=null,c.repeat=i,c.registerName=d,c.linewise=E;var T=U[l](e,c,I.ranges,v,n);t.visualMode&&he(e,null!=T),T&&e.setCursor(T)}},recordLastEdit:function(e,t,n){var r=L.macroModeState;r.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,r.lastInsertModeChanges.changes=[],r.lastInsertModeChanges.expectCursorActivityForChange=!1)}},j={moveToTopLine:function(e,t,n){var r=ze(e).top+n.repeat-1;return u(r,e.findFirstNonWhiteSpaceCharacter(r))},moveToMiddleLine:function(e){var t=ze(e),n=Math.floor(.5*(t.top+t.bottom));return u(n,e.findFirstNonWhiteSpaceCharacter(n))},moveToBottomLine:function(e,t,n){var r=ze(e).bottom-n.repeat+1;return u(r,e.findFirstNonWhiteSpaceCharacter(r))},expandToLine:function(e,t,n){return u(t.line+n.repeat-1,1/0)},findNext:function(e,t,n){var r=we(e),i=r.getQuery();if(i){var o=!n.forward;return o=r.isReversed()?!o:o,Pe(e,i),Oe(e,o,i,n.repeat)}},goToMark:function(e,t,n,r){var i=We(e,r,n.selectedCharacter);return i?n.linewise?{line:i.line,ch:e.findFirstNonWhiteSpaceCharacter(i.line)}:i:null},moveToOtherHighlightedEnd:function(e,t,n,r){if(r.visualBlock&&n.sameLine){var i=r.sel;return[Z(e,u(i.anchor.line,i.head.ch)),Z(e,u(i.head.line,i.anchor.ch))]}return[r.sel.head,r.sel.anchor]},jumpToMark:function(e,t,n,r){for(var i=t,o=0;o<n.repeat;o++){var a=i;for(var s in r.marks)if(k(s)){var l=r.marks[s].find();if(!((n.forward?ee(l,a):ee(a,l))||n.linewise&&l.line==a.line)){var c=$(a,i),d=n.forward?re(a,l,i):re(i,l,a);(c||d)&&(i=l)}}}return n.linewise&&(i=u(i.line,e.findFirstNonWhiteSpaceCharacter(i.line))),i},moveByCharacters:function(e,t,n){var r=t,i=n.repeat,o=n.forward?r.ch+i:r.ch-i;return u(r.line,o)},moveByLines:function(e,t,n,r){var i=t,o=i.ch;switch(r.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:o=r.lastHPos;break;default:r.lastHPos=o}var a=n.repeat+(n.repeatOffset||0),s=n.forward?i.line+a:i.line-a,l=e.firstLine(),c=e.lastLine();return s<l&&i.line==l?this.moveToStartOfLine(e,t,n,r):s>c&&i.line==c?this.moveToEol(e,t,n,r):(n.toFirstChar&&(o=e.findFirstNonWhiteSpaceCharacter(s),r.lastHPos=o),r.lastHSPos=e.charCoords(u(s,o),"div").left,u(s,o))},moveByDisplayLines:function(e,t,n,r){var i=t;switch(r.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:r.lastHSPos=e.charCoords(i,"div").left}var o=n.repeat;if((s=e.findPosV(i,n.forward?o:-o,"line",r.lastHSPos)).hitSide)if(n.forward)var a={top:e.charCoords(s,"div").top+8,left:r.lastHSPos},s=e.coordsChar(a,"div");else{var l=e.charCoords(u(e.firstLine(),0),"div");l.left=r.lastHSPos,s=e.coordsChar(l,"div")}return r.lastHPos=s.ch,s},moveByPage:function(e,t,n){var r=t,i=n.repeat;return e.findPosV(r,n.forward?i:-i,"page")},moveByParagraph:function(e,t,n){var r=n.forward?1:-1;return Ce(e,t,n.repeat,r)},moveBySentence:function(e,t,n){var r=n.forward?1:-1;return function(e,t,n,r){function i(e,t){if(t.pos+t.dir<0||t.pos+t.dir>=t.line.length){if(t.ln+=t.dir,!_(e,t.ln))return t.line=null,t.ln=null,void(t.pos=null);t.line=e.getLine(t.ln),t.pos=t.dir>0?0:t.line.length-1}else t.pos+=t.dir}function o(e,t,n,r){var o=""===(u=e.getLine(t)),a={line:u,ln:t,pos:n,dir:r},s={ln:a.ln,pos:a.pos},l=""===a.line;for(i(e,a);null!==a.line;){if(s.ln=a.ln,s.pos=a.pos,""===a.line&&!l)return{ln:a.ln,pos:a.pos};if(o&&""!==a.line&&!x(a.line[a.pos]))return{ln:a.ln,pos:a.pos};!w(a.line[a.pos])||o||a.pos!==a.line.length-1&&!x(a.line[a.pos+1])||(o=!0),i(e,a)}var u=e.getLine(s.ln);s.pos=0;for(var c=u.length-1;c>=0;--c)if(!x(u[c])){s.pos=c;break}return s}function a(e,t,n,r){var o={line:l=e.getLine(t),ln:t,pos:n,dir:r},a={ln:o.ln,pos:null},s=""===o.line;for(i(e,o);null!==o.line;){if(""===o.line&&!s)return null!==a.pos?a:{ln:o.ln,pos:o.pos};if(w(o.line[o.pos])&&null!==a.pos&&(o.ln!==a.ln||o.pos+1!==a.pos))return a;""===o.line||x(o.line[o.pos])||(s=!1,a={ln:o.ln,pos:o.pos}),i(e,o)}var l=e.getLine(a.ln);a.pos=0;for(var u=0;u<l.length;++u)if(!x(l[u])){a.pos=u;break}return a}var s={ln:t.line,pos:t.ch};for(;n>0;)s=r<0?a(e,s.ln,s.pos,r):o(e,s.ln,s.pos,r),n--;return u(s.ln,s.pos)}(e,t,n.repeat,r)},moveByScroll:function(e,t,n,r){var i=e.getScrollInfo(),o=null,a=n.repeat;a||(a=Math.floor(i.clientHeight/(2*e.defaultTextHeight())));var s=e.charCoords(t,"local");if(n.repeat=a,!(o=j.moveByDisplayLines(e,t,n,r)))return null;var l=e.charCoords(o,"local");return e.scrollTo(null,i.top+l.top-s.top),o},moveByWords:function(e,t,n){return function(e,t,n,r,i,o){var a=X(t),s=[];(r&&!i||!r&&i)&&n++;for(var l=!(r&&i),c=0;c<n;c++){var d=ye(e,t,r,o,l);if(!d){var h=ie(e,e.lastLine());s.push(r?{line:e.lastLine(),from:h,to:h}:{line:0,from:0,to:0});break}s.push(d),t=u(d.line,r?d.to-1:d.from)}var f=s.length!=n,p=s[0],g=s.pop();return r&&!i?(f||p.from==a.ch&&p.line==a.line||(g=s.pop()),u(g.line,g.from)):r&&i?u(g.line,g.to-1):!r&&i?(f||p.to==a.ch&&p.line==a.line||(g=s.pop()),u(g.line,g.to)):u(g.line,g.from)}(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},moveTillCharacter:function(e,t,n){var r=be(e,n.repeat,n.forward,n.selectedCharacter),i=n.forward?-1:1;return ge(i,n),r?(r.ch+=i,r):null},moveToCharacter:function(e,t,n){var r=n.repeat;return ge(0,n),be(e,r,n.forward,n.selectedCharacter)||t},moveToSymbol:function(e,t,n){return function(e,t,n,r){var i=X(e.getCursor()),o=n?1:-1,a=n?e.lineCount():-1,s=i.ch,l=i.line,c=e.getLine(l),d={lineText:c,nextCh:c.charAt(s),lastCh:null,index:s,symb:r,reverseSymb:(n?{")":"(","}":"{"}:{"(":")","{":"}"})[r],forward:n,depth:0,curMoveThrough:!1},h=ve[r];if(!h)return i;var f=me[h].init,p=me[h].isComplete;f&&f(d);for(;l!==a&&t;){if(d.index+=o,d.nextCh=d.lineText.charAt(d.index),!d.nextCh){if(l+=o,d.lineText=e.getLine(l)||"",o>0)d.index=0;else{var g=d.lineText.length;d.index=g>0?g-1:0}d.nextCh=d.lineText.charAt(d.index)}p(d)&&(i.line=l,i.ch=d.index,t--)}return d.nextCh||d.curMoveThrough?u(l,d.index):i}(e,n.repeat,n.forward,n.selectedCharacter)||t},moveToColumn:function(e,t,n,r){var i=n.repeat;return r.lastHPos=i-1,r.lastHSPos=e.charCoords(t,"div").left,function(e,t){var n=e.getCursor().line;return Z(e,u(n,t-1))}(e,i)},moveToEol:function(e,t,n,r){var i=t;r.lastHPos=1/0;var o=u(i.line+n.repeat-1,1/0),a=e.clipPos(o);return a.ch--,r.lastHSPos=e.charCoords(a,"div").left,o},moveToFirstNonWhiteSpaceCharacter:function(e,t){var n=t;return u(n.line,e.findFirstNonWhiteSpaceCharacter(n.line))},moveToMatchedSymbol:function(e,t){var n=t,r=n.line,i=n.ch;return i<e.getLine(r).length?e.findMatchingBracket(u(r,i)).to:n},moveToStartOfLine:function(e,t){return u(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t,n){var r=n.forward?e.lastLine():e.firstLine();return n.repeatIsExplicit&&(r=n.repeat-e.getOption("firstLineNumber")),u(r,e.findFirstNonWhiteSpaceCharacter(r))},textObjectManipulation:function(e,t,n,r){var i=n.selectedCharacter;"b"==i?i="(":"B"==i&&(i="{");var o,a=!n.textObjectInner;if({"(":")",")":"(","{":"}","}":"{","[":"]","]":"["}[i])o=function(e,t,n,r){var i,o,a=t,s={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[n],l={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[n],c=e.getLine(a.line).charAt(a.ch)===l?1:0;if(i=e.scanForBracket(u(a.line,a.ch+c),-1,void 0,{bracketRegex:s}),o=e.scanForBracket(u(a.line,a.ch+c),1,void 0,{bracketRegex:s}),!i||!o)return{start:a,end:a};if(i=i.pos,o=o.pos,i.line==o.line&&i.ch>o.ch||i.line>o.line){var d=i;i=o,o=d}r?o.ch+=1:i.ch+=1;return{start:i,end:o}}(e,t,i,a);else if({"'":!0,'"':!0}[i])o=function(e,t,n,r){var i,o,a,s,l=X(t),c=e.getLine(l.line).split(""),d=c.indexOf(n);l.ch<d?l.ch=d:d<l.ch&&c[l.ch]==n&&(o=l.ch,--l.ch);if(c[l.ch]!=n||o)for(a=l.ch;a>-1&&!i;a--)c[a]==n&&(i=a+1);else i=l.ch+1;if(i&&!o)for(a=i,s=c.length;a<s&&!o;a++)c[a]==n&&(o=a);if(!i||!o)return{start:l,end:l};r&&(--i,++o);return{start:u(l.line,i),end:u(l.line,o)}}(e,t,i,a);else if("W"===i)o=fe(e,a,!0,!0);else if("w"===i)o=fe(e,a,!0,!1);else{if("p"!==i)return null;if(o=Ce(e,t,n.repeat,0,a),n.linewise=!0,r.visualMode)r.visualLine||(r.visualLine=!0);else{var s=r.inputState.operatorArgs;s&&(s.linewise=!0),o.end.line--}}return e.state.vim.visualMode?function(e,t,n){var r,i=e.state.vim.sel,o=i.head,a=i.anchor;ee(n,t)&&(r=n,n=t,t=r);ee(o,a)?(o=te(t,o),a=ne(a,n)):(a=te(t,a),-1==(o=Q(o=ne(o,n),0,-1)).ch&&o.line!=e.firstLine()&&(o=u(o.line-1,ie(e,o.line-1))));return[a,o]}(e,o.start,o.end):[o.start,o.end]},repeatLastCharacterSearch:function(e,t,n){var r=L.lastCharacterSearch,i=n.repeat,o=n.forward===r.forward,a=(r.increment?1:0)*(o?-1:1);e.moveH(-1*a,"char"),n.inclusive=!!o;var s=be(e,i,o,r.selectedCharacter);return s?(s.ch+=a,s):(e.moveH(a,"char"),t)}};function K(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n}var U={change:function(e,t,n){var i,o,a=e.state.vim;if(L.macroModeState.lastInsertModeChanges.inVisualBlock=a.visualBlock,a.visualMode){o=e.getSelection();var s=K("",n.length);e.replaceSelections(s),i=te(n[0].head,n[0].anchor)}else{var l=n[0].anchor,c=n[0].head;o=e.getRange(l,c);var d=a.lastEditInputState||{};if("moveByWords"==d.motion&&!x(o)){var h=/\s+$/.exec(o);h&&d.motionArgs&&d.motionArgs.forward&&(c=Q(c,0,-h[0].length),o=o.slice(0,-h[0].length))}var f=new u(l.line-1,Number.MAX_VALUE),p=e.firstLine()==e.lastLine();c.line>e.lastLine()&&t.linewise&&!p?e.replaceRange("",f,c):e.replaceRange("",l,c),t.linewise&&(p||(e.setCursor(f),r.default.commands.newlineAndIndent(e)),l.ch=Number.MAX_VALUE),i=l}L.registerController.pushText(t.registerName,"change",o,t.linewise,n.length>1),q.enterInsertMode(e,{head:i},e.state.vim)},delete:function(e,t,n){var r,i;e.pushUndoStop();var o=e.state.vim;if(o.visualBlock){i=e.getSelection();var a=K("",n.length);e.replaceSelections(a),r=n[0].anchor}else{var s=n[0].anchor,l=n[0].head;t.linewise&&l.line!=e.firstLine()&&s.line==e.lastLine()&&s.line==l.line-1&&(s.line==e.firstLine()?s.ch=0:s=u(s.line-1,ie(e,s.line-1))),i=e.getRange(s,l),e.replaceRange("",s,l),r=s,t.linewise&&(r=j.moveToFirstNonWhiteSpaceCharacter(e,s))}return L.registerController.pushText(t.registerName,"delete",i,t.linewise,o.visualBlock),Z(e,r,o.insertMode)},indent:function(e,t,n){var r=e.state.vim,i=n[0].anchor.line,o=r.visualBlock?n[n.length-1].anchor.line:n[0].head.line,a=r.visualMode?t.repeat:1;t.linewise&&o--,e.pushUndoStop();for(var s=i;s<=o;s++)for(var l=0;l<a;l++)e.indentLine(s,t.indentRight);return e.pushUndoStop(),j.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},indentAuto:function(e,t,n){return e.execCommand("indentAuto"),j.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},changeCase:function(e,t,n,r,i){for(var o=e.getSelections(),a=[],s=t.toLower,l=0;l<o.length;l++){var u=o[l],c="";if(!0===s)c=u.toLowerCase();else if(!1===s)c=u.toUpperCase();else for(var d=0;d<u.length;d++){var h=u.charAt(d);c+=C(h)?h.toLowerCase():h.toUpperCase()}a.push(c)}return e.replaceSelections(a),t.shouldMoveCursor?i:!e.state.vim.visualMode&&t.linewise&&n[0].anchor.line+1==n[0].head.line?j.moveToFirstNonWhiteSpaceCharacter(e,r):t.linewise?r:te(n[0].anchor,n[0].head)},yank:function(e,t,n,r){var i=e.state.vim,o=e.getSelection(),a=i.visualMode?te(i.sel.anchor,i.sel.head,n[0].head,n[0].anchor):r;return L.registerController.pushText(t.registerName,"yank",o,t.linewise,i.visualBlock),a}};var q={jumpListWalk:function(e,t,n){if(!n.visualMode){var r=t.repeat,i=t.forward,o=L.jumpList.move(e,i?r:-r),a=o?o.find():void 0;a=a||e.getCursor(),e.setCursor(a)}},scroll:function(e,t,n){if(!n.visualMode){var r=t.repeat||1,i=e.defaultTextHeight(),o=e.getScrollInfo().top,a=i*r,s=t.forward?o+a:o-a,l=X(e.getCursor()),u=e.charCoords(l,"local");if(t.forward)s>u.top?(l.line+=(s-u.top)/i,l.line=Math.ceil(l.line),e.setCursor(l),u=e.charCoords(l,"local"),e.scrollTo(null,u.top)):e.scrollTo(null,s);else{var c=s+e.getScrollInfo().clientHeight;c<u.bottom?(l.line-=(u.bottom-c)/i,l.line=Math.floor(l.line),e.setCursor(l),u=e.charCoords(l,"local"),e.scrollTo(null,u.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,s)}}},scrollToCursor:function(e,t){e.moveCurrentLineTo(t.position)},replayMacro:function(e,t,n){var r=t.selectedCharacter,i=t.repeat,o=L.macroModeState;for("@"==r&&(r=o.latestRegister);i--;)qe(e,n,o,r)},enterMacroRecordMode:function(e,t){var n=L.macroModeState,r=t.selectedCharacter;L.registerController.isValidRegister(r)&&n.enterMacroRecordMode(e,r)},toggleOverwrite:function(e){e.replaceMode?(e.toggleOverwrite(!1),e.setOption("keyMap","vim-insert"),r.default.signal(e,"vim-mode-change",{mode:"insert"})):(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),r.default.signal(e,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(e,t,n){if(!e.getOption("readOnly")){n.insertMode=!0,n.insertModeRepeat=t&&t.repeat||1,e.leaveVimMode();var i=t?t.insertAt:null,o=n.sel,a=t.head||e.getCursor("head"),s=e.listSelections().length;if("eol"==i)a=u(a.line,ie(e,a.line));else if("charAfter"==i)a=Q(a,0,1);else if("firstNonBlank"==i)a=j.moveToFirstNonWhiteSpaceCharacter(e,a);else if("startOfSelectedArea"==i)n.visualBlock?(a=u(Math.min(o.head.line,o.anchor.line),Math.min(o.head.ch,o.anchor.ch)),s=Math.abs(o.head.line-o.anchor.line)+1):a=o.head.line<o.anchor.line?o.head:u(o.anchor.line,0);else if("endOfSelectedArea"==i)n.visualBlock?(a=u(Math.min(o.head.line,o.anchor.line),Math.max(o.head.ch+1,o.anchor.ch)),s=Math.abs(o.head.line-o.anchor.line)+1):a=o.head.line>=o.anchor.line?Q(o.head,0,1):u(o.anchor.line,0);else if("inplace"==i&&n.visualMode)return;e.setOption("disableInput",!1),n.visualMode&&he(e),t&&t.replace?(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),r.default.signal(e,"vim-mode-change",{mode:"replace"})):(e.toggleOverwrite(!1),e.setOption("keyMap","vim-insert"),r.default.signal(e,"vim-mode-change",{mode:"insert"})),L.macroModeState.isPlaying||(e.on("change",Ze),r.default.on(e.getInputField(),"keydown",Ye)),le(e,a,s)}},toggleVisualMode:function(e,t,n){var i,o=t.repeat,a=e.getCursor();n.visualMode?n.visualLine^t.linewise||n.visualBlock^t.blockwise?(n.visualLine=!!t.linewise,n.visualBlock=!!t.blockwise,r.default.signal(e,"vim-mode-change",{mode:"visual",subMode:n.visualLine?"linewise":n.visualBlock?"blockwise":""}),ce(e)):he(e):(n.visualMode=!0,n.visualLine=!!t.linewise,n.visualBlock=!!t.blockwise,i=Z(e,u(a.line,a.ch+o-1),!0),n.sel={anchor:a,head:i},r.default.signal(e,"vim-mode-change",{mode:"visual",subMode:n.visualLine?"linewise":n.visualBlock?"blockwise":""}),ce(e),_e(e,n,"<",te(a,i)),_e(e,n,">",ne(a,i)))},reselectLastSelection:function(e,t,n){var i=n.lastSelection;if(n.visualMode&&ue(e,n),i){var o=i.anchorMark.find(),a=i.headMark.find();if(!o||!a)return;n.sel={anchor:o,head:a},n.visualMode=!0,n.visualLine=i.visualLine,n.visualBlock=i.visualBlock,ce(e),_e(e,n,"<",te(o,a)),_e(e,n,">",ne(o,a)),r.default.signal(e,"vim-mode-change",{mode:"visual",subMode:n.visualLine?"linewise":n.visualBlock?"blockwise":""})}},joinLines:function(e,t,n){var r,i;if(n.visualMode){if(r=e.getCursor("anchor"),ee(i=e.getCursor("head"),r)){var o=i;i=r,r=o}i.ch=ie(e,i.line)-1}else{var a=Math.max(t.repeat,2);r=e.getCursor(),i=Z(e,u(r.line+a-1,1/0))}for(var s=0,l=r.line;l<i.line;l++){s=ie(e,r.line);o=u(r.line+1,ie(e,r.line+1));var c=e.getRange(r,o);c=c.replace(/\n\s*/g," "),e.replaceRange(c,r,o)}var d=u(r.line,s);n.visualMode&&he(e,!1),e.setCursor(d)},newLineAndEnterInsertMode:function(e,t,n){n.insertMode=!0;var i=X(e.getCursor());i.line!==e.firstLine()||t.after?(i.line=t.after?i.line:i.line-1,i.ch=ie(e,i.line),e.setCursor(i),(r.default.commands.newlineAndIndentContinueComment||r.default.commands.newlineAndIndent)(e)):(e.replaceRange("\n",u(e.firstLine(),0)),e.setCursor(e.firstLine(),0));this.enterInsertMode(e,{repeat:t.repeat},n)},paste:function(e,t,n){var r=X(e.getCursor()),i=L.registerController.getRegister(t.registerName);if(f=i.toString()){if(t.matchIndent){var o=e.getOption("tabSize"),a=function(e){var t=e.split("\t").length-1,n=e.split(" ").length-1;return t*o+1*n},s=e.getLine(e.getCursor().line),l=a(s.match(/^\s*/)[0]),c=f.replace(/\n$/,""),d=f!==c,h=a(f.match(/^\s*/)[0]),f=c.replace(/^\s*/gm,(function(t){var n=l+(a(t)-h);if(n<0)return"";if(e.getOption("indentWithTabs")){var r=Math.floor(n/o);return Array(r+1).join("\t")}return Array(n+1).join(" ")}));f+=d?"\n":""}if(t.repeat>1)f=Array(t.repeat+1).join(f);var p,g,v=i.linewise,m=i.blockwise;if(v)n.visualMode?f=n.visualLine?f.slice(0,-1):"\n"+f.slice(0,f.length-1)+"\n":t.after?(f="\n"+f.slice(0,f.length-1),r.ch=ie(e,r.line)):r.ch=0;else{if(m){f=f.split("\n");for(var y=0;y<f.length;y++)f[y]=""==f[y]?" ":f[y]}r.ch+=t.after?1:0}if(n.visualMode){var b;n.lastPastedText=f;var _=function(e,t){var n=t.lastSelection,r=function(){var t=e.listSelections(),n=t[0],r=t[t.length-1];return[ee(n.anchor,n.head)?n.anchor:n.head,ee(r.anchor,r.head)?r.head:r.anchor]},i=function(){var t=e.getCursor(),r=e.getCursor(),i=n.visualBlock;if(i){var o=i.width,a=i.height;r=u(t.line+a,t.ch+o);for(var s=[],l=t.line;l<r.line;l++){var c={anchor:u(l,t.ch),head:u(l,r.ch)};s.push(c)}e.setSelections(s)}else{var d=n.anchorMark.find(),h=n.headMark.find(),f=h.line-d.line,p=h.ch-d.ch;r={line:r.line+f,ch:f?r.ch:p+r.ch},n.visualLine&&(t=u(t.line,0),r=u(r.line,ie(e,r.line))),e.setSelection(t,r)}return[t,r]};return t.visualMode?r():i()}(e,n),k=_[0],C=_[1],x=e.getSelection(),w=e.listSelections(),S=new Array(w.length).join("1").split("1");n.lastSelection&&(b=n.lastSelection.headMark.find()),L.registerController.unnamedRegister.setText(x),m?(e.replaceSelections(S),C=u(k.line+f.length-1,k.ch),e.setCursor(k),se(e,C),e.replaceSelections(f),p=k):n.visualBlock?(e.replaceSelections(S),e.setCursor(k),e.replaceRange(f,k,k),p=k):(e.replaceRange(f,k,C),p=e.posFromIndex(e.indexFromPos(k)+f.length-1)),b&&(n.lastSelection.headMark=e.setBookmark(b)),v&&(p.ch=0)}else if(m){e.setCursor(r);for(y=0;y<f.length;y++){var E=r.line+y;E>e.lastLine()&&e.replaceRange("\n",u(E,0)),ie(e,E)<r.ch&&ae(e,E,r.ch)}e.setCursor(r),se(e,u(r.line+f.length-1,r.ch)),e.replaceSelections(f),p=r}else e.replaceRange(f,r),v&&t.after?p=u(r.line+1,e.findFirstNonWhiteSpaceCharacter(r.line+1)):v&&!t.after?p=u(r.line,e.findFirstNonWhiteSpaceCharacter(r.line)):!v&&t.after?(g=e.indexFromPos(r),p=e.posFromIndex(g+f.length-1)):(g=e.indexFromPos(r),p=e.posFromIndex(g+f.length));n.visualMode&&he(e,!1),e.setCursor(p)}},undo:function(e,t){e.operation((function(){Y(e,r.default.commands.undo,t.repeat)(),e.setCursor(e.getCursor("anchor"))}))},redo:function(e,t){Y(e,r.default.commands.redo,t.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){_e(e,n,t.selectedCharacter,e.getCursor())},replace:function(e,t,n){var i,o,a=t.selectedCharacter,s=e.getCursor(),l=e.listSelections();if(n.visualMode)s=e.getCursor("start"),o=e.getCursor("end");else{var c=e.getLine(s.line);(i=s.ch+t.repeat)>c.length&&(i=c.length),o=u(s.line,i)}if("\n"==a)n.visualMode||e.replaceRange("",s,o),(r.default.commands.newlineAndIndentContinueComment||r.default.commands.newlineAndIndent)(e);else{var d=e.getRange(s,o);if(d=d.replace(/[^\n]/g,a),n.visualBlock){var h=new Array(e.getOption("tabSize")+1).join(" ");d=(d=e.getSelection()).replace(/\t/g,h).replace(/[^\n]/g,a).split("\n"),e.replaceSelections(d)}else e.replaceRange(d,s,o);n.visualMode?(s=ee(l[0].anchor,l[0].head)?l[0].anchor:l[0].head,e.setCursor(s),he(e,!1)):e.setCursor(Q(o,0,-1))}},incrementNumberToken:function(e,t){for(var n,r,i,o,a=e.getCursor(),s=e.getLine(a.line),l=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi;null!==(n=l.exec(s))&&(i=(r=n.index)+n[0].length,!(a.ch<i)););if((t.backtrack||!(i<=a.ch))&&n){var c=n[2]||n[4],d=n[3]||n[5],h=t.increase?1:-1,f={"0b":2,0:8,"":10,"0x":16}[c.toLowerCase()];o=(parseInt(n[1]+d,f)+h*t.repeat).toString(f);var p=c?new Array(d.length-o.length+1+n[1].length).join("0"):"";o="-"===o.charAt(0)?"-"+c+p+o.substr(1):c+p+o;var g=u(a.line,r),v=u(a.line,i);e.replaceRange(o,g,v),e.setCursor(u(a.line,r+o.length-1))}},repeatLastEdit:function(e,t,n){if(n.lastEditInputState){var r=t.repeat;r&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=r:r=n.lastEditInputState.repeatOverride||r,Xe(e,n,r,!1)}},indent:function(e,t){e.indentLine(e.getCursor().line,t.indentRight)},exitInsertMode:Ke};function Z(e,t,n){var r=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),i=ie(e,r)-1;i=n?i+1:i;var o=Math.min(Math.max(0,t.ch),i);return u(r,o)}function G(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Q(e,t,n){return"object"===i(t)&&(n=t.ch,t=t.line),u(e.line+t,e.ch+n)}function J(e,t){if("<character>"==t.slice(-11)){var n=t.length-11,r=e.slice(0,n),i=t.slice(0,n);return r==i&&e.length>n?"full":0==i.indexOf(r)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}function Y(e,t,n){return function(){for(var r=0;r<n;r++)t(e)}}function X(e){return u(e.line,e.ch)}function $(e,t){return e.ch==t.ch&&e.line==t.line}function ee(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function te(e,t){return arguments.length>2&&(t=te.apply(void 0,Array.prototype.slice.call(arguments,1))),ee(e,t)?e:t}function ne(e,t){return arguments.length>2&&(t=ne.apply(void 0,Array.prototype.slice.call(arguments,1))),ee(e,t)?t:e}function re(e,t,n){var r=ee(e,t),i=ee(t,n);return r&&i}function ie(e,t){return e.getLine(t).length}function oe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ae(e,t,n){var r=ie(e,t),i=new Array(n-r+1).join(" ");e.setCursor(u(t,r)),e.replaceRange(i,e.getCursor())}function se(e,t){var n=[],r=e.listSelections(),i=X(e.clipPos(t)),o=!$(t,i),a=function(e,t,n){for(var r=0;r<e.length;r++){var i="head"!=n&&$(e[r].anchor,t),o="anchor"!=n&&$(e[r].head,t);if(i||o)return r}return-1}(r,e.getCursor("head")),s=$(r[a].head,r[a].anchor),l=r.length-1,c=l-a>a?l:0,d=r[c].anchor,h=Math.min(d.line,i.line),f=Math.max(d.line,i.line),p=d.ch,g=i.ch,v=r[c].head.ch-p,m=g-p;v>0&&m<=0?(p++,o||g--):v<0&&m>=0?(p--,s||g++):v<0&&-1==m&&(p--,g++);for(var y=h;y<=f;y++){var b={anchor:new u(y,p),head:new u(y,g)};n.push(b)}return e.setSelections(n),t.ch=g,d.ch=p,d}function le(e,t,n){for(var r=[],i=0;i<n;i++){var o=Q(t,i,0);r.push({anchor:o,head:o})}e.setSelections(r,0)}function ue(e,t){var n=t.sel.anchor,r=t.sel.head;t.lastPastedText&&(r=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(n),headMark:e.setBookmark(r),anchor:X(n),head:X(r),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function ce(e,t,n){var r=e.state.vim,i=de(e,t=t||r.sel,n=n||r.visualLine?"line":r.visualBlock?"block":"char",r.visualMode&&"char"===n);e.setSelections(i.ranges,i.primary),Qe(e)}function de(e,t,n,r){var i=X(t.head),o=X(t.anchor);if("char"==n){var a=r||ee(t.head,t.anchor)?0:1,s=ee(t.head,t.anchor)?1:0;return i=Q(t.head,0,a),{ranges:[{anchor:o=Q(t.anchor,0,s),head:i}],primary:0}}if("line"==n){if(ee(t.head,t.anchor))i.ch=0,o.ch=ie(e,o.line);else{o.ch=0;var l=e.lastLine();i.line>l&&(i.line=l),i.ch=ie(e,i.line)}return{ranges:[{anchor:o,head:i}],primary:0}}if("block"==n){for(var c=Math.min(o.line,i.line),d=Math.min(o.ch,i.ch),h=Math.max(o.line,i.line),f=Math.max(o.ch,i.ch)+1,p=h-c+1,g=i.line==c?0:p-1,v=[],m=0;m<p;m++)v.push({anchor:u(c+m,d),head:u(c+m,f)});return{ranges:v,primary:g}}}function he(e,t){var n=e.state.vim;!1!==t&&e.setCursor(Z(e,n.sel.head)),ue(e,n),n.visualMode=!1,n.visualLine=!1,n.visualBlock=!1,r.default.signal(e,"vim-mode-change",{mode:"normal"}),n.fakeCursor&&n.fakeCursor.clear()}function fe(e,t,n,r,i){for(var o=function(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=te(t,e.getCursor("anchor"))),t}(e),a=e.getLine(o.line),s=o.ch,l=i?h[0]:f[0];!l(a.charAt(s));)if(++s>=a.length)return null;r?l=f[0]:(l=h[0])(a.charAt(s))||(l=h[1]);for(var c=s,d=s;l(a.charAt(c))&&c<a.length;)c++;for(;l(a.charAt(d))&&d>=0;)d--;if(d++,t){for(var p=c;/\s/.test(a.charAt(c))&&c<a.length;)c++;if(p==c){for(var g=d;/\s/.test(a.charAt(d-1))&&d>0;)d--;d||(d=g)}}return{start:u(o.line,d),end:u(o.line,c)}}function pe(e,t,n){$(t,n)||L.jumpList.add(e,t,n)}function ge(e,t){L.lastCharacterSearch.increment=e,L.lastCharacterSearch.forward=t.forward,L.lastCharacterSearch.selectedCharacter=t.selectedCharacter}var ve={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},me={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};function ye(e,t,n,r,i){var o=t.line,a=t.ch,s=e.getLine(o),l=n?1:-1,u=r?f:h;if(i&&""==s){if(o+=l,s=e.getLine(o),!_(e,o))return null;a=n?0:s.length}for(;;){if(i&&""==s)return{from:0,to:0,line:o};for(var c=l>0?s.length:-1,d=c,p=c;a!=c;){for(var g=!1,v=0;v<u.length&&!g;++v)if(u[v](s.charAt(a))){for(d=a;a!=c&&u[v](s.charAt(a));)a+=l;if(g=d!=(p=a),d==t.ch&&o==t.line&&p==d+l)continue;return{from:Math.min(d,p+1),to:Math.max(d,p),line:o}}g||(a+=l)}if(!_(e,o+=l))return null;s=e.getLine(o),a=l>0?0:s.length}}function be(e,t,n,r){for(var i,o=e.getCursor(),a=o.ch,s=0;s<t;s++){if(-1==(i=ke(a,e.getLine(o.line),r,n,!0)))return null;a=i}return u(e.getCursor().line,i)}function _e(e,t,n,r){S(n,y)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(r))}function ke(e,t,n,r,i){var o;return r?-1==(o=t.indexOf(n,e+1))||i||(o-=1):-1==(o=t.lastIndexOf(n,e-1))||i||(o+=1),o}function Ce(e,t,n,r,i){var o,a=t.line,s=e.firstLine(),l=e.lastLine(),c=a;function d(t){return!e.getLine(t)}function h(e,t,n){return n?d(e)!=d(e+t):!d(e)&&d(e+t)}if(r){for(;s<=c&&c<=l&&n>0;)h(c,r)&&n--,c+=r;return new u(c,0)}var f=e.state.vim;if(f.visualLine&&h(a,1,!0)){var p=f.sel.anchor;h(p.line,-1,!0)&&(i&&p.line==a||(a+=1))}var g=d(a);for(c=a;c<=l&&n;c++)h(c,1,!0)&&(i&&d(c)==g||n--);for(o=new u(c,0),c>l&&!g?g=!0:i=!1,c=a;c>s&&(i&&d(c)!=g&&c!=a||!h(c,-1,!0));c--);return{start:new u(c,0),end:o}}function xe(){}function we(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new xe)}function Se(e,t,n,r,i){e.openDialog?e.openDialog(t,r,{bottom:!0,value:i.value,onKeyDown:i.onKeyDown,onKeyUp:i.onKeyUp,selectValueOnOpen:!1}):r(prompt(n,""))}function Ee(e,t){var n=De(e,t)||[];if(!n.length)return[];var r=[];if(0===n[0]){for(var i=0;i<n.length;i++)"number"==typeof n[i]&&r.push(e.substring(n[i]+1,n[i+1]));return r}}function De(e,t){t||(t="/");for(var n=!1,r=[],i=0;i<e.length;i++){var o=e.charAt(i);n||o!=t||r.push(i),n=!n&&"\\"==o}return r}D("pcre",!0,"boolean"),xe.prototype={getQuery:function(){return L.query},setQuery:function(e){L.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return L.isReversed},setReversed:function(e){L.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};var Ie={"\\n":"\n","\\r":"\r","\\t":"\t"};var Re={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"};function Le(e,t,n){if(L.registerController.getRegister("/").setText(e),e instanceof RegExp)return e;var r,i,o=De(e,"/");o.length?(r=e.substring(0,o[0]),i=-1!=e.substring(o[0]).indexOf("i")):r=e;return r?(R("pcre")||(r=function(e){for(var t=!1,n=[],r=-1;r<e.length;r++){var i=e.charAt(r)||"",o=e.charAt(r+1)||"",a=o&&-1!="|(){".indexOf(o);t?("\\"===i&&a||n.push(i),t=!1):"\\"===i?(t=!0,o&&-1!="}".indexOf(o)&&(a=!0),a&&"\\"!==o||n.push(i)):(n.push(i),a&&"\\"!==o&&n.push("\\"))}return n.join("")}(r)),n&&(t=/^[^A-Z]*$/.test(r)),new RegExp(r,t||i?"i":void 0)):null}function Ae(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}var Me="(Javascript regexp)";function Te(e,t){var n,r,i,o=(t.prefix||"")+" "+(t.desc||"");Se(e,(n=t.prefix,r=t.desc,i='<span style="font-family: monospace; white-space: pre">'+(n||"")+'<input type="text"></span>',r&&(i+=' <span style="color: #888">'+r+"</span>"),i),o,t.onClose,t)}function Ne(e,t,n,r){if(t){var i=we(e),o=Le(t,!!n,!!r);if(o)return Pe(e,o),function(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}return!1}(o,i.getQuery())||i.setQuery(o),o}}function Pe(e,t){var n=we(e),r=n.getOverlay();r&&t==r.query||(r&&e.removeOverlay(r),r=function(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(!t||n.sol()){var r=n.match(e,!1);if(r)return 0==r[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+r[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););}else n.skipToEnd()},query:e}}(t),e.addOverlay(r),e.showMatchesOnScrollbar&&(n.getScrollbarAnnotate()&&n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(r))}function Oe(e,t,n,r){return void 0===r&&(r=1),e.operation((function(){for(var i=e.getCursor(),o=e.getSearchCursor(n,i),a=0;a<r;a++){var s=o.find(t);if(0==a&&s&&$(o.from(),i)&&(s=o.find(t)),!s&&!(o=e.getSearchCursor(n,t?u(e.lastLine()):u(e.firstLine(),0))).find(t))return}return o.from()}))}function Fe(e){var t=we(e);e.removeOverlay(we(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function Be(e,t,n){return"number"!=typeof e&&(e=e.line),t instanceof Array?S(e,t):n?e>=t&&e<=n:e==t}function ze(e){return e.getUserVisibleLines()}function We(e,t,n){if("'"==n){var r=e.doc.history.done,i=r[r.length-2];return i&&i.ranges&&i.ranges[0].head}if("."==n){if(0==e.doc.history.lastModTime)return;var o=e.doc.history.done.filter((function(e){if(void 0!==e.changes)return e}));return o.reverse(),o[0].changes[0].to}var a=t.marks[n];return a&&a.find()}var He=function(){this.buildCommandMap_()};He.prototype={processCommand:function(e,t,n){var r=this;e.operation((function(){e.curOp.isVimOp=!0,r._processCommand(e,t,n)}))},_processCommand:function(e,t,n){var i=e.state.vim,o=L.registerController.getRegister(":"),a=o.toString();i.visualMode&&he(e);var s=new r.default.StringStream(t);o.setText(t);var l,u,c=n||{};c.input=t;try{this.parseInput_(e,s,c)}catch(t){throw Ae(e,t),t}if(c.commandName){if(l=this.matchCommand_(c.commandName)){if(u=l.name,l.excludeFromCommandHistory&&o.setText(a),this.parseCommandArgs_(s,c,l),"exToKey"==l.type){for(var d=0;d<l.toKeys.length;d++)r.default.Vim.handleKey(e,l.toKeys[d],"mapping");return}if("exToEx"==l.type)return void this.processCommand(e,l.toInput)}}else void 0!==c.line&&(u="move");if(u)try{Ve[u](e,c),l&&l.possiblyAsync||!c.callback||c.callback()}catch(t){throw Ae(e,t),t}else Ae(e,'Not an editor command ":'+t+'"')},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var r=t.match(/^(\w+)/);return n.commandName=r?r[1]:t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return this.parseLineSpecOffset_(t,e.getCursor().line);case"$":return this.parseLineSpecOffset_(t,e.lastLine());case"'":var r=t.next(),i=We(e,e.state.vim,r);if(!i)throw new Error("Mark not set");return this.parseLineSpecOffset_(t,i.line);case"-":case"+":return t.backUp(1),this.parseLineSpecOffset_(t,e.getCursor().line);default:return void t.backUp(1)}},parseLineSpecOffset_:function(e,t){var n=e.match(/^([+-])?(\d+)/);if(n){var r=parseInt(n[2],10);"-"==n[1]?t-=r:t+=r}return t},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var r=n.argDelimiter||/\s+/,i=oe(t.argString).split(r);i.length&&i[0]&&(t.args=i)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var r=this.commandMap_[n];if(0===r.name.indexOf(e))return r}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<l.length;e++){var t=l[e],n=t.shortName||t.name;this.commandMap_[n]=t}},map:function(e,t,n){if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var r=e.substring(1);":"!=t&&":"==t.charAt(0)?this.commandMap_[r]={name:r,type:"exToEx",toInput:t.substring(1),user:!0}:this.commandMap_[r]={name:r,type:"exToKey",toKeys:t,user:!0}}else if(":"!=t&&":"==t.charAt(0)){var i={keys:e,type:"keyToEx",exArgs:{input:t.substring(1)}};n&&(i.context=n),a.unshift(i)}else{i={keys:e,type:"keyToKey",toKeys:t};n&&(i.context=n),a.unshift(i)}},unmap:function(e,t){if(":"!=e&&":"==e.charAt(0)){if(t)throw Error("Mode not supported for ex mappings");var n=e.substring(1);if(this.commandMap_[n]&&this.commandMap_[n].user)return void delete this.commandMap_[n]}else for(var r=e,i=0;i<a.length;i++)if(r==a[i].keys&&a[i].context===t)return void a.splice(i,1);throw Error("No such mapping.")}};var Ve={colorscheme:function(e,t){!t.args||t.args.length<1?Ae(e,e.getOption("theme")):e.setOption("theme",t.args[0])},map:function(e,t,n){var r=t.args;!r||r.length<2?e&&Ae(e,"Invalid mapping: "+t.input):je.map(r[0],r[1],n)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,n){var r=t.args;!r||r.length<1?e&&Ae(e,"No such mapping: "+t.input):je.unmap(r[0],n)},move:function(e,t){V.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args,r=t.setCfg||{};if(!n||n.length<1)e&&Ae(e,"Invalid mapping: "+t.input);else{var i=n[0].split("="),o=i[0],a=i[1],s=!1;if("?"==o.charAt(o.length-1)){if(a)throw Error("Trailing characters: "+t.argString);o=o.substring(0,o.length-1),s=!0}void 0===a&&"no"==o.substring(0,2)&&(o=o.substring(2),a=!1);var l=E[o]&&"boolean"==E[o].type;if(l&&null==a&&(a=!0),!l&&void 0===a||s){var u=R(o,e,r);u instanceof Error?Ae(e,u.message):Ae(e,!0===u||!1===u?" "+(u?"":"no")+o:"  "+o+"="+u)}else{var c=I(o,a,e,r);c instanceof Error&&Ae(e,c.message)}}},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var n=t.args,r=L.registerController.registers,i="----------Registers----------<br><br>";if(n){n=n.join("");for(var o=0;o<n.length;o++){if(a=n.charAt(o),L.registerController.isValidRegister(a))i+='"'+a+"    "+(r[a]||new z).toString()+"<br>"}}else for(var a in r){var s=r[a].toString();s.length&&(i+='"'+a+"    "+s+"<br>")}Ae(e,i)},sort:function(e,t){var n,i,o,a,s;var l=function(){if(t.argString){var e=new r.default.StringStream(t.argString);if(e.eat("!")&&(n=!0),e.eol())return;if(!e.eatSpace())return"Invalid arguments";var l=e.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!l&&!e.eol())return"Invalid arguments";if(l[1]){i=-1!=l[1].indexOf("i"),o=-1!=l[1].indexOf("u");var u=-1!=l[1].indexOf("d")||-1!=l[1].indexOf("n")&&1,c=-1!=l[1].indexOf("x")&&1,d=-1!=l[1].indexOf("o")&&1;if(u+c+d>1)return"Invalid arguments";a=(u?"decimal":c&&"hex")||d&&"octal"}l[2]&&(s=new RegExp(l[2].substr(1,l[2].length-2),i?"i":""))}}();if(l)Ae(e,l+": "+t.argString);else{var c=t.line||e.firstLine(),d=t.lineEnd||t.line||e.lastLine();if(c!=d){var h=u(c,0),f=u(d,ie(e,d)),p=e.getRange(h,f).split("\n"),g=s||("decimal"==a?/(-?)([\d]+)/:"hex"==a?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==a?/([0-7]+)/:null),v="decimal"==a?10:"hex"==a?16:"octal"==a?8:null,m=[],y=[];if(a||s)for(var b=0;b<p.length;b++){var _=s?p[b].match(s):null;_&&""!=_[0]?m.push(_):!s&&g.exec(p[b])?m.push(p[b]):y.push(p[b])}else y=p;if(m.sort(s?function(e,t){var r;return n&&(r=e,e=t,t=r),i&&(e[0]=e[0].toLowerCase(),t[0]=t[0].toLowerCase()),e[0]<t[0]?-1:1}:x),s)for(b=0;b<m.length;b++)m[b]=m[b].input;else a||y.sort(x);if(p=n?m.concat(y):y.concat(m),o){var k,C=p;p=[];for(b=0;b<C.length;b++)C[b]!=k&&p.push(C[b]),k=C[b]}e.replaceRange(p.join("\n"),h,f)}}function x(e,t){var r;n&&(r=e,e=t,t=r);i&&(e=e.toLowerCase(),t=t.toLowerCase());var o=a&&g.exec(e),s=a&&g.exec(t);return o?(o=parseInt((o[1]+o[2]).toLowerCase(),v))-(s=parseInt((s[1]+s[2]).toLowerCase(),v)):e<t?-1:1}},global:function(e,t){var n=t.argString;if(n){var r,i=void 0!==t.line?t.line:e.firstLine(),o=t.lineEnd||t.line||e.lastLine(),a=function(e){return Ee(e,"/")}(n),s=n;if(a.length&&(s=a[0],r=a.slice(1,a.length).join("/")),s)try{Ne(e,s,!0,!0)}catch(t){return void Ae(e,"Invalid regex: "+s)}for(var l=we(e).getQuery(),u=[],c="",d=i;d<=o;d++){l.test(e.getLine(d))&&(u.push(d+1),c+=e.getLine(d)+"<br>")}if(r){var h=0;!function t(){if(h<u.length){var n=u[h]+r;je.processCommand(e,n,{callback:t})}h++}()}else Ae(e,c)}else Ae(e,"Regular Expression missing from global")},substitute:function(e,t){if(!e.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var n,i,o,a,s=t.argString,l=s?Ee(s,s[0]):[],c="",h=!1,f=!1;if(l.length)n=l[0],c=l[1],n&&"$"===n[n.length-1]&&(n=n.slice(0,n.length-1)+"\\n",c=c?c+"\n":"\n"),void 0!==c&&(c=R("pcre")?function(e){for(var t=new r.default.StringStream(e),n=[];!t.eol();){for(;t.peek()&&"\\"!=t.peek();)n.push(t.next());var i=!1;for(var o in Re)if(t.match(o,!0)){i=!0,n.push(Re[o]);break}i||n.push(t.next())}return n.join("")}(c):function(e){for(var t,n=!1,r=[],i=-1;i<e.length;i++){var o=e.charAt(i)||"",a=e.charAt(i+1)||"";Ie[o+a]?(r.push(Ie[o+a]),i++):n?(r.push(o),n=!1):"\\"===o?(n=!0,t=a,d.test(t)||"$"===a?r.push("$"):"/"!==a&&"\\"!==a&&r.push("\\")):("$"===o&&r.push("$"),r.push(o),"/"===a&&r.push("\\"))}return r.join("")}(c),L.lastSubstituteReplacePart=c),i=l[2]?l[2].split(" "):[];else if(s&&s.length)return void Ae(e,"Substitutions should be of the form :s/pattern/replace/");if(i&&(o=i[0],a=parseInt(i[1]),o&&(-1!=o.indexOf("c")&&(h=!0,o.replace("c","")),-1!=o.indexOf("g")&&(f=!0,o.replace("g","")),n=n.replace(/\//g,"\\/")+"/"+o)),n)try{Ne(e,n,!0,!0)}catch(t){return void Ae(e,"Invalid regex: "+n)}if(void 0!==(c=c||L.lastSubstituteReplacePart)){var p=we(e).getQuery(),g=void 0!==t.line?t.line:e.getCursor().line,v=t.lineEnd||g;g==e.firstLine()&&v==e.lastLine()&&(v=1/0),a&&(v=(g=v)+a-1);var m=Z(e,u(g,0)),y=e.getSearchCursor(p,m);e.pushUndoStop(),function(e,t,n,i,o,a,s,l,u){e.state.vim.exMode=!0;var c=!1,d=a.from();function h(){e.operation(function(){for(;!c;)f(),p(!1);g()}.bind(this))}function f(){var t=e.getRange(a.from(),a.to()).replace(s,l);a.replace(t)}function p(t){for(;a.findNext()&&Be(a.from(),i,o);)if(n||!d||a.from().line!=d.line)return e.scrollIntoView(a.from(),30),t&&e.setSelection(a.from(),a.to()),d=a.from(),void(c=!1);c=!0}function g(t){if(t&&t(),e.focus(),d){e.setCursor(d);var n=e.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=d.ch}u&&u()}function v(t,n,i){switch(r.default.e_stop(t),r.default.keyName(t)){case"y":case"Y":f(),p();break;case"n":case"N":p();break;case"a":case"A":var o=u;u=void 0,e.operation(h),u=o;break;case"l":case"L":f();case"q":case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":g(i)}return c&&g(i),!0}if(p(!0),c)return void Ae(e,"No matches for "+s.source);if(!t)return h(),void(u&&u());Te(e,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:v})}(e,h,f,g,v,y,p,c,t.callback)}else Ae(e,"No previous substitute regular expression")},redo:r.default.commands.redo,undo:r.default.commands.undo,write:function(e){r.default.commands.save?r.default.commands.save(e):e.save&&e.save()},nohlsearch:function(e){Fe(e)},yank:function(e){var t=X(e.getCursor()).line,n=e.getLine(t);L.registerController.pushText("0","yank",n,!0,!0)},delmarks:function(e,t){if(t.argString&&oe(t.argString))for(var n=e.state.vim,i=new r.default.StringStream(oe(t.argString));!i.eol();){i.eatSpace();var o=i.pos;if(!i.match(/[a-zA-Z]/,!1))return void Ae(e,"Invalid argument: "+t.argString.substring(o));var a=i.next();if(i.match("-",!0)){if(!i.match(/[a-zA-Z]/,!1))return void Ae(e,"Invalid argument: "+t.argString.substring(o));var s=a,l=i.next();if(!(k(s)&&k(l)||C(s)&&C(l)))return void Ae(e,"Invalid argument: "+s+"-");var u=s.charCodeAt(0),c=l.charCodeAt(0);if(u>=c)return void Ae(e,"Invalid argument: "+t.argString.substring(o));for(var d=0;d<=c-u;d++){var h=String.fromCharCode(u+d);delete n.marks[h]}}else delete n.marks[a]}else Ae(e,"Argument required")}},je=new He;function Ke(e){var t=e.state.vim,n=L.macroModeState,i=L.registerController.getRegister("."),o=n.isPlaying,a=n.lastInsertModeChanges,s=[];if(!o){for(var l=a.inVisualBlock&&t.lastSelection?t.lastSelection.visualBlock.height:1,u=a.changes,c=(s=[],0);c<u.length;)s.push(u[c]),u[c]instanceof Je?c++:c+=l;a.changes=s,e.off("change",Ze),r.default.off(e.getInputField(),"keydown",Ye)}!o&&t.insertModeRepeat>1&&(Xe(e,t,t.insertModeRepeat-1,!0),t.lastEditInputState.repeatOverride=t.insertModeRepeat),delete t.insertModeRepeat,t.insertMode=!1,e.setCursor(e.getCursor().line,e.getCursor().ch-1),e.setOption("keyMap","vim"),e.setOption("disableInput",!0),e.toggleOverwrite(!1),i.setText(a.changes.join("")),r.default.signal(e,"vim-mode-change",{mode:"normal"}),n.isRecording&&function(e){if(e.isPlaying)return;var t=e.latestRegister,n=L.registerController.getRegister(t);n&&n.pushInsertModeChanges&&n.pushInsertModeChanges(e.lastInsertModeChanges)}(n),e.enterVimMode()}function Ue(e){a.unshift(e)}function qe(e,t,n,i){var o=L.registerController.getRegister(i);if(":"==i)return o.keyBuffer[0]&&je.processCommand(e,o.keyBuffer[0]),void(n.isPlaying=!1);var a=o.keyBuffer,s=0;n.isPlaying=!0,n.replaySearchQueries=o.searchQueries.slice(0);for(var l=0;l<a.length;l++)for(var u,c,d=a[l];d;)if(c=(u=/<\w+-.+?>|<\w+>|./.exec(d))[0],d=d.substring(u.index+c.length),r.default.Vim.handleKey(e,c,"macro"),t.insertMode){var h=o.insertModeChanges[s++].changes;L.macroModeState.lastInsertModeChanges.changes=h,$e(e,h,1),Ke(e)}n.isPlaying=!1}function Ze(e,t){var n=L.macroModeState,r=n.lastInsertModeChanges;if(!n.isPlaying)for(;t;){if(r.expectCursorActivityForChange=!0,"+input"==t.origin||"paste"==t.origin||void 0===t.origin){var i=t.text.join("\n");r.maybeReset&&(r.changes=[],r.maybeReset=!1),e.state.overwrite&&!/\n/.test(i)?r.changes.push([i]):r.changes.push(i)}t=t.next}}function Ge(e){var t=e.state.vim;if(t.insertMode){var n=L.macroModeState;if(n.isPlaying)return;var i=n.lastInsertModeChanges;i.expectCursorActivityForChange?i.expectCursorActivityForChange=!1:i.maybeReset=!0}else e.curOp.isVimOp||function(e,t){var n=e.getCursor("anchor"),i=e.getCursor("head");t.visualMode&&!e.somethingSelected()?he(e,!1):t.visualMode||t.insertMode||!e.somethingSelected()||(t.visualMode=!0,t.visualLine=!1,r.default.signal(e,"vim-mode-change",{mode:"visual"}));if(t.visualMode){var o=ee(i,n)?0:-1,a=ee(i,n)?-1:0;i=Q(i,0,o),n=Q(n,0,a),t.sel={anchor:n,head:i},_e(e,t,"<",te(i,n)),_e(e,t,">",ne(i,n))}else t.insertMode||(t.lastHPos=e.getCursor().ch)}(e,t);t.visualMode&&Qe(e)}function Qe(e){var t=e.state.vim,n=Z(e,X(t.sel.head)),r=Q(n,0,1);t.fakeCursor&&t.fakeCursor.clear(),t.fakeCursor=e.markText(n,r,{className:"cm-animate-fat-cursor"})}function Je(e){this.keyName=e}function Ye(e){var t=L.macroModeState.lastInsertModeChanges,n=r.default.keyName(e);n&&(-1==n.indexOf("Delete")&&-1==n.indexOf("Backspace")||r.default.lookupKey(n,"vim-insert",(function(){return t.maybeReset&&(t.changes=[],t.maybeReset=!1),t.changes.push(new Je(n)),!0})))}function Xe(e,t,n,r){var i=L.macroModeState;i.isPlaying=!0;var o=!!t.lastEditActionCommand,a=t.inputState;function s(){o?V.processAction(e,t,t.lastEditActionCommand):V.evalInput(e,t)}function l(n){if(i.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var r=i.lastInsertModeChanges;$e(e,r.changes,n)}}if(t.inputState=t.lastEditInputState,o&&t.lastEditActionCommand.interlaceInsertRepeat)for(var u=0;u<n;u++)s(),l(1);else r||s(),l(n);t.inputState=a,t.insertMode&&!r&&Ke(e),i.isPlaying=!1}function $e(e,t,n){function i(t){return"string"==typeof t?r.default.commands[t](e):t(e),!0}var o=e.getCursor("head"),a=L.macroModeState.lastInsertModeChanges.inVisualBlock;if(a){var s=e.state.vim.lastSelection,l=function(e,t){return{line:t.line-e.line,ch:t.line-e.line}}(s.anchor,s.head);le(e,o,l.line+1),n=e.listSelections().length,e.setCursor(o)}for(var u=0;u<n;u++){a&&e.setCursor(Q(o,u,0));for(var c=0;c<t.length;c++){var d=t[c];if(d instanceof Je)r.default.lookupKey(d.keyName,"vim-insert",i);else if("string"==typeof d){var h=e.getCursor();e.replaceRange(d,h,h)}else{var f=e.getCursor(),p=Q(f,0,d[0].length);e.replaceRange(d[0],f,p)}}}a&&e.setCursor(Q(o,0,1))}return r.default.keyMap.vim={attach:t,detach:e,call:n},D("insertModeEscKeysTimeout",200,"number"),r.default.keyMap["vim-insert"]={fallthrough:["default"],attach:t,detach:e,call:n},r.default.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:t,detach:e,call:n},P(),O};e.exports.Vim=c,r.default.Vim=c();var d=r.default;e.exports.default=d})),o.register("cuqRK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,o("jU8VS");var n=o("kqL91"),r=o("dDWQn");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var c=4,d={readOnly:65,cursorWidth:20,fontInfo:32},h=window.navigator,f=h.userAgent,p=h.platform,g=(!/Edge\/(\d+)/.exec(f)&&/AppleWebKit/.test(f)&&/Mobile\/\w+/.test(f)||/Mac/.test(p),/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/);function v(e,t){if(!(this instanceof v))return new v(e,t);this.line=e,this.ch=t}String.prototype.normalize?function(e){return e.normalize("NFD").toLowerCase()}:function(e){return e.toLowerCase()};var m=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};function y(e){return new v(e.lineNumber-1,e.column-1)}function b(e){return new n.Position(e.line+1,e.ch+1)}m.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){throw"not implemented"},indentation:function(){throw"not implemented"},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var _=function(){function e(t,n,r,i){s(this,e),this.cm=t,this.id=n,this.lineNumber=r+1,this.column=i+1,t.marks[this.id]=this}return u(e,[{key:"clear",value:function(){delete this.cm.marks[this.id]}},{key:"find",value:function(){return y(this)}}]),e}();function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!0,i=n.KeyCode[e.keyCode];e.key&&(i=e.key,r=!1);var o=i,a=t;switch(e.keyCode){case n.KeyCode.Shift:case n.KeyCode.Meta:case n.KeyCode.Alt:case n.KeyCode.Ctrl:return o;case n.KeyCode.Escape:a=!0,o="Esc"}return i.startsWith("KEY_")?o=i[i.length-1].toLowerCase():i.endsWith("Arrow")?(a=!0,o=i.substr(0,i.length-5)):i.startsWith("US_")&&(o=e.browserEvent.key),a||e.altKey||e.ctrlKey||e.metaKey?(e.altKey&&(o="Alt-".concat(o)),e.ctrlKey&&(o="Ctrl-".concat(o)),e.metaKey&&(o="Meta-".concat(o)),e.shiftKey&&(o="Shift-".concat(o))):o=e.key||e.browserEvent.key,1===o.length&&r&&(o="'".concat(o,"'")),o}var C=function(){function e(t){s(this,e),x.call(this),this.editor=t,this.state={},this.marks={},this.$uid=0,this.disposables=[],this.listeners={},this.curOp={},this.attached=!1,this.statusBar=null,this.addLocalListeners(),this.ctxInsert=this.editor.createContextKey("insertMode",!0)}return u(e,[{key:"attach",value:function(){e.keyMap.vim.attach(this)}},{key:"addLocalListeners",value:function(){this.disposables.push(this.editor.onDidChangeCursorPosition(this.handleCursorChange),this.editor.onDidChangeModelContent(this.handleChange),this.editor.onKeyDown(this.handleKeyDown))}},{key:"handleReplaceMode",value:function(e,t){var r=!1,i=e,o=this.editor.getPosition(),a=new n.Range(o.lineNumber,o.column,o.lineNumber,o.column+1);if(e.startsWith("'"))i=e[1];else if("Enter"===i)i="\n";else{if("Backspace"!==i)return;var s=this.replaceStack.pop();if(!s)return;r=!0,i=s,a=new n.Range(o.lineNumber,o.column,o.lineNumber,o.column-1)}t.preventDefault(),t.stopPropagation(),this.replaceStack||(this.replaceStack=[]),r||this.replaceStack.push(this.editor.getModel().getValueInRange(a)),this.editor.executeEdits("vim",[{text:i,range:a,forceMoveMarkers:!0}]),r&&this.editor.setPosition(a.getStartPosition())}},{key:"setOption",value:function(e,t){this.state[e]=t,"theme"===e&&n.editor.setTheme(t)}},{key:"getConfiguration",value:function(){var e=this.editor,t=d;return"function"==typeof e.getConfiguration?e.getConfiguration():("EditorOption"in n.editor&&(t=n.editor.EditorOption),{readOnly:e.getOption(t.readOnly),viewInfo:{cursorWidth:e.getOption(t.cursorWidth)},fontInfo:e.getOption(t.fontInfo)})}},{key:"getOption",value:function(e){return"readOnly"===e?this.getConfiguration().readOnly:"firstLineNumber"===e?this.firstLine()+1:"indentWithTabs"===e?!this.editor.getModel().getOptions().insertSpaces:"function"==typeof this.editor.getConfiguration?this.editor.getRawConfiguration()[e]:this.editor.getRawOptions()[e]}},{key:"dispatch",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this.listeners[e];i&&i.forEach((function(e){return e.apply(void 0,n)}))}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=this.listeners[e];n&&(this.listeners[e]=n.filter((function(e){return e!==t})))}},{key:"firstLine",value:function(){return 0}},{key:"lastLine",value:function(){return this.lineCount()-1}},{key:"lineCount",value:function(){return this.editor.getModel().getLineCount()}},{key:"defaultTextHeight",value:function(){return 1}},{key:"getLine",value:function(e){if(e<0)return"";var t=this.editor.getModel().getLineCount();return e+1>t&&(e=t-1),this.editor.getModel().getLineContent(e+1)}},{key:"getAnchorForSelection",value:function(e){return e.isEmpty()?e.getPosition():e.getDirection()===n.SelectionDirection.LTR?e.getStartPosition():e.getEndPosition()}},{key:"getHeadForSelection",value:function(e){return e.isEmpty()?e.getPosition():e.getDirection()===n.SelectionDirection.LTR?e.getEndPosition():e.getStartPosition()}},{key:"getCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return y(this.editor.getPosition());var t=this.editor.getSelection();return y(t.isEmpty()?t.getPosition():"anchor"===e?this.getAnchorForSelection(t):this.getHeadForSelection(t))}},{key:"getRange",value:function(e,t){var r=b(e),i=b(t);return this.editor.getModel().getValueInRange(n.Range.fromPositions(r,i))}},{key:"getSelection",value:function(){var e=[],t=this.editor;this.state.vim;return t.getSelections().map((function(n){e.push(t.getModel().getValueInRange(n))})),e.join("\n")}},{key:"replaceRange",value:function(e,t,r){var i=b(t),o=r?b(r):i;this.editor.executeEdits("vim",[{text:e,range:n.Range.fromPositions(i,o)}]),this.pushUndoStop()}},{key:"pushUndoStop",value:function(){this.editor.pushUndoStop()}},{key:"setCursor",value:function(e,t){var n=e;"object"!==a(e)&&((n={}).line=e,n.ch=t);var r=this.editor.getModel().validatePosition(b(n));this.editor.setPosition(b(n)),this.editor.revealPosition(r)}},{key:"somethingSelected",value:function(){return!this.editor.getSelection().isEmpty()}},{key:"operation",value:function(e,t){return e()}},{key:"listSelections",value:function(){var e=this,t=this.editor.getSelections();return!t.length||this.inVirtualSelectionMode?[{anchor:this.getCursor("anchor"),head:this.getCursor("head")}]:t.map((function(t){t.getPosition(),t.getStartPosition(),t.getEndPosition();return{anchor:e.clipPos(y(e.getAnchorForSelection(t))),head:e.clipPos(y(e.getHeadForSelection(t)))}}))}},{key:"focus",value:function(){this.editor.focus()}},{key:"setSelections",value:function(e,t){var r=!!this.editor.getSelections().length,i=e.map((function(e,t){var i=e.anchor,o=e.head;return r?n.Selection.fromPositions(b(i),b(o)):n.Selection.fromPositions(b(o),b(i))}));if(t&&i[t]&&i.push(i.splice(t,1)[0]),i.length){var o,a=i[0];o=a.getDirection()===n.SelectionDirection.LTR?a.getEndPosition():a.getStartPosition(),this.editor.setSelections(i),this.editor.revealPosition(o)}}},{key:"setSelection",value:function(e,t){var r=n.Range.fromPositions(b(e),b(t));this.editor.setSelection(r)}},{key:"getSelections",value:function(){var e=this.editor;return e.getSelections().map((function(t){return e.getModel().getValueInRange(t)}))}},{key:"replaceSelections",value:function(e){var t=this.editor;t.getSelections().forEach((function(n,r){t.executeEdits("vim",[{range:n,text:e[r],forceMoveMarkers:!1}])}))}},{key:"toggleOverwrite",value:function(e){e?(this.enterVimMode(),this.replaceMode=!0):(this.leaveVimMode(),this.replaceMode=!1,this.replaceStack=[])}},{key:"charCoords",value:function(e,t){return{top:e.line,left:e.ch}}},{key:"coordsChar",value:function(e,t){}},{key:"clipPos",value:function(e){return y(this.editor.getModel().validatePosition(b(e)))}},{key:"setBookmark",value:function(e,t){var n=new _(this,this.$uid++,e.line,e.ch);return t&&t.insertLeft||(n.$insertRight=!0),this.marks[n.id]=n,n}},{key:"getScrollInfo",value:function(){var e=this.editor,t=i(e.getVisibleRanges(),1)[0];return{left:0,top:t.startLineNumber-1,height:e.getModel().getLineCount(),clientHeight:t.endLineNumber-t.startLineNumber+1}}},{key:"triggerEditorAction",value:function(e){this.editor.trigger("vim",e)}},{key:"dispose",value:function(){this.dispatch("dispose"),this.removeOverlay(),e.keyMap.vim&&e.keyMap.vim.detach(this),this.disposables.forEach((function(e){return e.dispose()}))}},{key:"getInputField",value:function(){}},{key:"getWrapperElement",value:function(){}},{key:"enterVimMode",value:function(){this.ctxInsert.set(!1);var e=this.getConfiguration();this.initialCursorWidth=e.viewInfo.cursorWidth||0,this.editor.updateOptions({cursorWidth:e.fontInfo.typicalFullwidthCharacterWidth,cursorBlinking:"solid"})}},{key:"leaveVimMode",value:function(){this.ctxInsert.set(!0),this.editor.updateOptions({cursorWidth:this.initialCursorWidth||0,cursorBlinking:"blink"})}},{key:"virtualSelectionMode",value:function(){return this.inVirtualSelectionMode}},{key:"markText",value:function(){return{clear:function(){},find:function(){}}}},{key:"getUserVisibleLines",value:function(){var e=this.editor.getVisibleRanges();if(!e.length)return{top:0,bottom:0};var t={top:1/0,bottom:0};return e.reduce((function(e,t){return t.startLineNumber<e.top&&(e.top=t.startLineNumber),t.endLineNumber>e.bottom&&(e.bottom=t.endLineNumber),e}),t),t.top-=1,t.bottom-=1,t}},{key:"findPosV",value:function(e,t,n){var r=this.editor,i=t,o=n,a=b(e);if("page"===n){var s=r.getLayoutInfo().height,l=this.getConfiguration().fontInfo.lineHeight;i*=Math.floor(s/l),o="line"}return"line"===o&&(a.lineNumber+=i),y(a)}},{key:"findMatchingBracket",value:function(e){var t=b(e),n=this.editor.getModel().matchBracket(t);return n&&2===n.length?{to:y(n[1].getStartPosition())}:{to:null}}},{key:"findFirstNonWhiteSpaceCharacter",value:function(e){return this.editor.getModel().getLineFirstNonWhitespaceColumn(e+1)-1}},{key:"scrollTo",value:function(e,t){(e||t)&&(e||(t<0&&(t=this.editor.getPosition().lineNumber-t),this.editor.setScrollTop(this.editor.getTopForLineNumber(t+1))))}},{key:"moveCurrentLineTo",value:function(e){var t=this.editor,r=t.getPosition(),i=n.Range.fromPositions(r,r);switch(e){case"top":return void t.revealRangeAtTop(i);case"center":return void t.revealRangeInCenter(i);case"bottom":return void t._revealRange(i,c)}}},{key:"getSearchCursor",value:function(e,t,n){var r=!1,i=!1;e instanceof RegExp&&!e.global&&(r=!e.ignoreCase,e=e.source,i=!0),null==t.ch&&(t.ch=Number.MAX_VALUE);var o=b(t),a=this,s=this.editor,l=null,u=s.getModel(),c=u.findMatches(e,!1,i,r)||[];return{getMatches:function(){return c},findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},jumpTo:function(e){if(!c||!c.length)return!1;var t=c[e];return l=t.range,a.highlightRanges([l],"currentFindMatch"),a.highlightRanges(c.map((function(e){return e.range})).filter((function(e){return!e.equalsRange(l)}))),l},find:function(t){if(!c||!c.length)return!1;var n;if(t){var s=l?l.getStartPosition():o;if(!(n=u.findPreviousMatch(e,s,i,r))||!n.range.getStartPosition().isBeforeOrEqual(s))return!1}else{var d=l?u.getPositionAt(u.getOffsetAt(l.getStartPosition())+1):o;if(!(n=u.findNextMatch(e,d,i,r))||!d.isBeforeOrEqual(n.range.getStartPosition()))return!1}return l=n.range,a.highlightRanges([l],"currentFindMatch"),a.highlightRanges(c.map((function(e){return e.range})).filter((function(e){return!e.equalsRange(l)}))),l},from:function(){return l&&y(l.getStartPosition())},to:function(){return l&&y(l.getEndPosition())},replace:function(e){l&&(s.executeEdits("vim",[{range:l,text:e,forceMoveMarkers:!0}]),l.setEndPosition(s.getPosition()),s.setPosition(l.getStartPosition()))}}}},{key:"highlightRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"findMatch",r="decoration".concat(t);return this[r]=this.editor.deltaDecorations(this[r]||[],e.map((function(e){return{range:e,options:{stickiness:n.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:t,showIfCollapsed:!0}}}))),this[r]}},{key:"addOverlay",value:function(e,t,n){var r=e.query,i=!1,o=!1;r&&r instanceof RegExp&&!r.global&&(o=!0,i=!r.ignoreCase,r=r.source);var a=this.editor.getModel().findNextMatch(r,this.editor.getPosition(),o,i);a&&a.range&&this.highlightRanges([a.range])}},{key:"removeOverlay",value:function(){var e=this;["currentFindMatch","findMatch"].forEach((function(t){e.editor.deltaDecorations(e["decoration".concat(t)]||[],[])}))}},{key:"scrollIntoView",value:function(e){e&&this.editor.revealPosition(b(e))}},{key:"moveH",value:function(e,t){if("char"===t){var r=this.editor.getPosition();this.editor.setPosition(new n.Position(r.lineNumber,r.column+e))}}},{key:"scanForBracket",value:function(t,n,r,i){for(var o=i.bracketRegex,a=b(t),s=this.editor.getModel(),l=(-1===n?s.findPreviousMatch:s.findNextMatch).bind(s),u=[],c=0;;){if(c>10)return;var d=l(o.source,a,!0,!0,null,!0),h=d.matches[0];if(void 0===d)return;var f=e.matchingBrackets[h];if(f&&">"===f.charAt(1)==n>0)u.push(h);else{if(0===u.length)return{pos:y(d.range.getStartPosition())};u.pop()}a=s.getPositionAt(s.getOffsetAt(d.range.getStartPosition())+n),c+=1}}},{key:"indexFromPos",value:function(e){return this.editor.getModel().getOffsetAt(b(e))}},{key:"posFromIndex",value:function(e){return y(this.editor.getModel().getPositionAt(e))}},{key:"indentLine",value:function(e){var t,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.editor;t=o._getViewModel?o._getViewModel().cursorConfig:o._getCursors().context.config;var a=new n.Position(e+1,1),s=n.Selection.fromPositions(a,a);o.executeCommands("editor.action.".concat(i?"indent":"outdent","Lines"),r.TypeOperations[i?"indent":"outdent"](t,this.editor.getModel(),[s]))}},{key:"setStatusBar",value:function(e){this.statusBar=e}},{key:"openDialog",value:function(e,t,n){if(this.statusBar)return this.statusBar.setSec(e,t,n)}},{key:"openNotification",value:function(e){this.statusBar&&this.statusBar.showNotification(e)}}]),e}();C.Pos=v,C.signal=function(e,t,n){e.dispatch(t,n)},C.on=function(){},C.off=function(){},C.addClass=function(){},C.rmClass=function(){},C.defineOption=function(){},C.keyMap={default:function(e){return function(e){return!0}}},C.matchingBrackets={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"},C.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||g.test(e))},C.keyName=k,C.StringStream=m,C.e_stop=function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,C.e_preventDefault(e),!1},C.e_preventDefault=function(e){return e.preventDefault?(e.preventDefault(),e.browserEvent&&e.browserEvent.preventDefault()):e.returnValue=!1,!1},C.commands={redo:function(e){e.editor.getModel().redo()},undo:function(e){e.editor.getModel().undo()},newlineAndIndent:function(e){e.triggerEditorAction("editor.action.insertLineAfter")}},C.lookupKey=function e(t,n,r){"string"==typeof n&&(n=C.keyMap[n]);var i="function"==typeof n?n(t):n[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(n.fallthrough){if(!Array.isArray(n.fallthrough))return e(t,n.fallthrough,r);for(var o=0;o<n.fallthrough.length;o++){var a=e(t,n.fallthrough[o],r);if(a)return a}}},C.defineExtension=function(e,t){C.prototype[e]=t};var x=function(){var e=this;this.handleKeyDown=function(t){if(!(t.browserEvent.defaultPrevented&t.keyCode!==n.KeyCode.Escape)&&e.attached){var r=k(t);if(e.replaceMode&&e.handleReplaceMode(r,t),r&&C.keyMap.vim&&C.keyMap.vim.call){var i=C.keyMap.vim.call(r,e);if(i){t.preventDefault(),t.stopPropagation();try{i()}catch(e){console.error(e)}}}}},this.handleCursorChange=function(t){var r=t.position,i=(t.source,e.editor),o=i.getSelection();if(!e.ctxInsert.get()&&"mouse"===t.source&&o.isEmpty()){var a=i.getModel().getLineMaxColumn(r.lineNumber);if(t.position.column===a)return void i.setPosition(new n.Position(t.position.lineNumber,a-1))}e.dispatch("cursorActivity",e,t)},this.handleChange=function(t){var n={text:t.changes.reduce((function(e,t){return e.push(t.text),e}),[]),origin:"+input"},r=e.curOp=e.curOp||{};r.changeHandlers||(r.changeHandlers=e.listeners.change&&e.listeners.change.slice()),e.virtualSelectionMode()||(r.lastChange?r.lastChange.next=r.lastChange=n:r.lastChange=r.change=n,e.dispatch("change",e,n))}},w=C;e.exports.default=w})),o.register("jU8VS",(function(t,n){e(t.exports,"editor",(function(){return o("kqL91").editor})),e(t.exports,"Position",(function(){return o("kqL91").Position})),e(t.exports,"KeyCode",(function(){return o("kqL91").KeyCode})),e(t.exports,"Range",(function(){return o("kqL91").Range})),e(t.exports,"SelectionDirection",(function(){return o("kqL91").SelectionDirection})),e(t.exports,"Selection",(function(){return o("kqL91").Selection})),o("bBqhI"),o("f07Hm"),o("gcOW6"),o("1ljZP"),o("2tmaG"),o("hPHjN")})),o.register("f07Hm",(function(e,t){o("kqL91"),o("lFaQN");var n=o("kqL91"),r=function(){function e(e,t,r){this._onDidChange=new(0,n.Emitter),this._languageId=e,this.setOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setDiagnosticsOptions=function(e){this.setOptions(e)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),i={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},a={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},s=new r("css",i,a),l=new r("scss",i,a),u=new r("less",i,a);function c(){return o("slASf")}n.languages.css={cssDefaults:s,lessDefaults:u,scssDefaults:l},n.languages.onLanguage("less",(function(){c().then((function(e){return e.setupMode(u)}))})),n.languages.onLanguage("scss",(function(){c().then((function(e){return e.setupMode(l)}))})),n.languages.onLanguage("css",(function(){c().then((function(e){return e.setupMode(s)}))}))})),o.register("gcOW6",(function(e,t){o("kqL91"),o("8jN5h");var n=o("kqL91"),r=new(function(){function e(e,t,r){this._onDidChange=new(0,n.Emitter),this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}())("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});n.languages.json={jsonDefaults:r},n.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),n.languages.onLanguage("json",(function(){o("dBpLc").then((function(e){return e.setupMode(r)}))}))})),o.register("1ljZP",(function(e,t){o("kqL91"),o("gH8Kc");var n=o("kqL91"),r=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=function(){function e(e,t,r){this._onDidChange=new(0,n.Emitter),this._languageId=e,this.setOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function l(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===u,documentFormattingEdits:e===u,documentRangeFormattingEdits:e===u}}var u="html",c="handlebars",d="razor",h=y(u,s,l(u)),f=h.defaults,p=y(c,s,l(c)),g=p.defaults,v=y(d,s,l(d)),m=v.defaults;function y(e,t,u){var c=this;void 0===t&&(t=s),void 0===u&&(u=l(e));var d,h=new a(e,t,u),f=n.languages.onLanguage(e,(function(){return r(c,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,o("33vmx")];case 1:return d=e.sent().setupMode(h),[2]}}))}))}));return{defaults:h,dispose:function(){f.dispose(),null==d||d.dispose(),d=void 0}}}n.languages.html={htmlDefaults:f,razorDefaults:m,handlebarDefaults:g,htmlLanguageService:h,handlebarLanguageService:p,razorLanguageService:v,registerHTMLLanguageService:y}})),o.register("2tmaG",(function(e,t){o("kqL91"),o("jcTig"),o("ggOUd"),o("83yw9"),o("8JmRZ"),o("6Hlcl"),o("7lAUT"),o("7KsRD"),o("7VSBG"),o("c3n9X"),o("iZCbk"),o("e4Gws"),o("1nspE"),o("lRNCj"),o("aSrHl"),o("b2WIu"),o("9TnEB"),o("89sps"),o("9clT0"),o("2J0Vh"),o("bTitP"),o("dPTn0"),o("iEx53"),o("6PlTa"),o("cmWDE"),o("1Kp2R"),o("5bzic"),o("6A47U"),o("bgr3j"),o("jZlLZ"),o("5h1IG"),o("1EFnU"),o("ds7Js"),o("H5nD9"),o("8FmQA"),o("f5n7r"),o("g4opa"),o("1vySK"),o("cwmZt"),o("a40AO"),o("k82Aw"),o("4urI5"),o("1SxwH"),o("142fJ"),o("l0uqy"),o("jiSDD"),o("aapZi"),o("2IJ0R"),o("bYgYt"),o("8VQDm"),o("h9Nna"),o("kGjWw"),o("fLApf"),o("auYT7"),o("6rZ1R"),o("05bHj"),o("9RT7Z"),o("9SLJ9"),o("9w3Kd"),o("86hsO"),o("k7YM6"),o("3eWwR"),o("lzHd4"),o("4WXmN"),o("6mwUO"),o("7I6bW"),o("6YzGU"),o("jbDI5"),o("bLwqd"),o("cUocW"),o("kq0ib"),o("iJ0ak"),o("acRpR"),o("5uY7v")})),o.register("jcTig",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return o("4jpGu")}})})),o.register("l6PF6",(function(t,n){e(t.exports,"registerLanguage",(function(){return l})),o("7GtMn");var r=o("kqL91"),i={},a={},s=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,n){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=n}))}return e.getOrCreate=function(t){return a[t]||(a[t]=new e(t)),a[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,i[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();function l(e){var t=e.id;i[t]=e,r.languages.register(e);var n=s.getOrCreate(t);r.languages.setMonarchTokensProvider(t,n.whenLoaded().then((function(e){return e.language}))),r.languages.onLanguage(t,(function(){n.load().then((function(e){r.languages.setLanguageConfiguration(t,e.conf)}))}))}})),o.register("ggOUd",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return o("dVm1b")}})})),o.register("83yw9",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return o("bD6kR")}})})),o.register("8JmRZ",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return o("5T2uZ")}})})),o.register("6Hlcl",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return o("4C7IN")}})})),o.register("7lAUT",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return o("5offh")}})})),o.register("7KsRD",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return o("aXgjW")}})})),o.register("7VSBG",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return o("gk4Up")}})})),o.register("c3n9X",(function(e,t){var n=o("l6PF6");(0,n.registerLanguage)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return o("aNVUX")}}),(0,n.registerLanguage)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return o("aNVUX")}})})),o.register("iZCbk",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return o("hLqfR")}})})),o.register("e4Gws",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return o("1I9sW")}})})),o.register("1nspE",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return o("a6Lab")}})})),o.register("lRNCj",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return o("7H2j3")}})})),o.register("aSrHl",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return o("im8JW")}})})),o.register("b2WIu",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return o("l0oIb")}})})),o.register("9TnEB",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return o("jy9Qm")}})})),o.register("89sps",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return o("01QE0")}})})),o.register("9clT0",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return o("hWQjq")}})})),o.register("2J0Vh",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return o("4qEsB")}})})),o.register("bTitP",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return o("aJdFK")}})})),o.register("dPTn0",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return o("cS80A")}})})),o.register("iEx53",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return o("9mi4f")}})})),o.register("6PlTa",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return o("j2jyV")}})})),o.register("cmWDE",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return o("35oiF")}})})),o.register("1Kp2R",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return o("iRgT5")}})})),o.register("5bzic",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return o("aJJyU")}})})),o.register("6A47U",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return o("215TA")}})})),o.register("bgr3j",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return o("GJtPq")}})})),o.register("jZlLZ",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return o("kTgde")}})})),o.register("5h1IG",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return o("eyuDh")}})})),o.register("1EFnU",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return o("8PjZA")}})})),o.register("ds7Js",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return o("kDPl1")}})})),o.register("H5nD9",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return o("jit0l")}})})),o.register("8FmQA",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return o("1KWvt")}})})),o.register("f5n7r",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return o("cEnIB")}})})),o.register("g4opa",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return o("eJ0SV")}})})),o.register("1vySK",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return o("jeKNw")}})})),o.register("cwmZt",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return o("fiQqe")}})})),o.register("a40AO",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return o("50xRC")}})})),o.register("k82Aw",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return o("7GEC9")}})})),o.register("4urI5",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return o("ivLoI")}})})),o.register("1SxwH",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return o("cm0C8")}})})),o.register("142fJ",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return o("g4D5Y")}})})),o.register("l0uqy",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return o("6M2fB")}})})),o.register("jiSDD",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return o("kqhVV")}})})),o.register("aapZi",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return o("kJdRv")}})})),o.register("2IJ0R",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return o("c2LQZ")}})})),o.register("bYgYt",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return o("jgcUy")}})})),o.register("8VQDm",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return o("kY0LG")}})})),o.register("h9Nna",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return o("eSwOt")}})})),o.register("kGjWw",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return o("3DK1s")}})})),o.register("fLApf",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return o("7hXFa")}})})),o.register("auYT7",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return o("dnAtc")}})})),o.register("6rZ1R",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return o("1LBzA")}})})),o.register("05bHj",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return o("9EeUS")}})})),o.register("9RT7Z",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return o("cNlPG")}})})),o.register("9SLJ9",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return o("i0eGW")}})})),o.register("9w3Kd",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return o("3yTez")}})})),o.register("86hsO",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return o("j0Pia")}})})),o.register("k7YM6",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return o("aXJ85")}})})),o.register("3eWwR",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return o("dST3m")}})})),o.register("lzHd4",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return o("9QpUa")}})})),o.register("4WXmN",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return o("9KpGQ")}})})),o.register("6mwUO",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return o("j10ZB")}})})),o.register("7I6bW",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return o("aJUrU")}})})),o.register("6YzGU",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return o("cbc4S")}})})),o.register("jbDI5",(function(e,t){var n=o("l6PF6");(0,n.registerLanguage)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return o("jCHtJ")}}),(0,n.registerLanguage)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return o("jCHtJ")}})})),o.register("bLwqd",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return o("d6sxW")}})})),o.register("cUocW",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return o("gOAFy")}})})),o.register("kq0ib",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return o("6Z9nb")}})})),o.register("iJ0ak",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return o("4n2w6")}})})),o.register("acRpR",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return o("iiZSS")}})})),o.register("5uY7v",(function(e,t){(0,o("l6PF6").registerLanguage)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return o("8g7sy")}})})),o.register("hPHjN",(function(t,n){e(t.exports,"editor",(function(){return o("kqL91").editor})),e(t.exports,"Position",(function(){return o("kqL91").Position})),e(t.exports,"KeyCode",(function(){return o("kqL91").KeyCode})),e(t.exports,"Range",(function(){return o("kqL91").Range})),e(t.exports,"SelectionDirection",(function(){return o("kqL91").SelectionDirection})),e(t.exports,"Selection",(function(){return o("kqL91").Selection})),o("6ZQeM"),o("hFVut"),o("8Gjn6"),o("aFCUL"),o("i0yJg"),o("gpcRj"),o("bm8m7"),o("ajSEa"),o("bU4aF"),o("i5Srz"),o("kqL91")})),o.register("6ZQeM",(function(e,t){o("BcgjZ"),o("7XJ8X"),o("bqDsD"),o("cz0zp"),o("d0a6V"),o("gk0d5"),o("6Au3j"),o("78bR1"),o("kecza"),o("aRe6C"),o("3Vm83"),o("ksi5V"),o("9deRB"),o("1j1jG"),o("8dNbQ"),o("bQzKF"),o("4kj3Y"),o("epUF9"),o("4lAhC"),o("befBo"),o("7PBqN"),o("a4vVo"),o("1Lt9q"),o("cBNQz"),o("lbpZF"),o("147yA"),o("dnNxR"),o("7HYGS"),o("1SfM4"),o("fvKJN"),o("z4imX"),o("enpNV"),o("dbtWh"),o("4jwTd"),o("bATkW"),o("lU3VU"),o("9lVOh"),o("fTVGP"),o("861Ao"),o("d4bwV"),o("38Pzv"),o("ag6tF"),o("a374p"),o("bxAcV"),o("505pN"),o("jEpCt"),o("7bfxu")})),o.register("d0a6V",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("4GLgu"),u=o("kT6fp"),c=o("dKkCN"),d=o("7Zg88"),h=o("9cZTD"),f=o("aLDYa"),p=o("6x2MV"),g=o("2Y8KV"),v=o("3mtPc"),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},b=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},_=new(0,p.RawContextKey)("selectionAnchorSet",!1),k=function(){"use strict";function e(n,i){var o=this;t(r)(this,e),this.editor=n,this.selectionAnchorSetContextKey=_.bindTo(i),this.modelChangeListener=n.onDidChangeModel((function(){return o.selectionAnchorSetContextKey.reset()}))}return t(i)(e,[{key:"setSelectionAnchor",value:function(){if(this.editor.hasModel()){var e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(t,[{range:h.Selection.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new(0,g.MarkdownString)).appendText((0,c.localize)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,v.alert)((0,c.localize)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}},{key:"goToSelectionAnchor",value:function(){if(this.editor.hasModel()&&this.decorationId){var e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}},{key:"selectFromAnchorToCursor",value:function(){if(this.editor.hasModel()&&this.decorationId){var e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){var t=this.editor.getPosition();this.editor.setSelection(h.Selection.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}},{key:"cancelSelectionAnchor",value:function(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}},{key:"dispose",value:function(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();k.ID="editor.contrib.selectionAnchorController",k=m([y(1,p.IContextKeyService)],k);var C=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.setSelectionAnchor",label:(0,c.localize)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2080),weight:100}})}return t(i)(o,[{key:"run",value:function(e,n){return b(this,void 0,void 0,t(l).mark((function e(){return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.get(n).setSelectionAnchor();case 2:case"end":return e.stop()}}),e)})))}}]),o}(u.EditorAction),x=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.goToSelectionAnchor",label:(0,c.localize)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:_})}return t(i)(o,[{key:"run",value:function(e,n){return b(this,void 0,void 0,t(l).mark((function e(){return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.get(n).goToSelectionAnchor();case 2:case"end":return e.stop()}}),e)})))}}]),o}(u.EditorAction),w=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.selectFromAnchorToCursor",label:(0,c.localize)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:_,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2089),weight:100}})}return t(i)(o,[{key:"run",value:function(e,n){return b(this,void 0,void 0,t(l).mark((function e(){return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.get(n).selectFromAnchorToCursor();case 2:case"end":return e.stop()}}),e)})))}}]),o}(u.EditorAction),S=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.cancelSelectionAnchor",label:(0,c.localize)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:_,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}return t(i)(o,[{key:"run",value:function(e,n){return b(this,void 0,void 0,t(l).mark((function e(){return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.get(n).cancelSelectionAnchor();case 2:case"end":return e.stop()}}),e)})))}}]),o}(u.EditorAction);(0,u.registerEditorContribution)(k.ID,k),(0,u.registerEditorAction)(C),(0,u.registerEditorAction)(x),(0,u.registerEditorAction)(w),(0,u.registerEditorAction)(S)})),o.register("2Y8KV",(function(n,r){e(n.exports,"MarkdownString",(function(){return u})),e(n.exports,"isEmptyMarkdownString",(function(){return c})),e(n.exports,"removeMarkdownEscapes",(function(){return h})),e(n.exports,"parseHrefAndDimensions",(function(){return f}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("jozAz"),l=o("9yDnc"),u=function(){"use strict";function e(){var n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t(i)(this,e),this.value=o,"string"!=typeof this.value)throw(0,l.illegalArgument)("value");"boolean"==typeof a?(this.isTrusted=a,this.supportThemeIcons=!1):(this.isTrusted=null!==(n=a.isTrusted)&&void 0!==n?n:void 0,this.supportThemeIcons=null!==(r=a.supportThemeIcons)&&void 0!==r&&r)}return t(a)(e,[{key:"appendText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.value+=d(this.supportThemeIcons?(0,s.escapeIcons)(e):e).replace(/([ \t]+)/g,(function(e,t){return"&nbsp;".repeat(t.length)})).replace(/^>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}},{key:"appendMarkdown",value:function(e){return this.value+=e,this}},{key:"appendCodeblock",value:function(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}]),e}();function c(e){return function(e){if(e instanceof u)return!0;if(e&&"object"==typeof e)return!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons);return!1}(e)?!e.value:!Array.isArray(e)||e.every(c)}function d(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function h(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}function f(e){var t=[],n=e.split("|").map((function(e){return e.trim()}));e=n[0];var r=n[1];if(r){var i=/height=(\d+)/.exec(r),o=/width=(\d+)/.exec(r),a=i?i[1]:"",s=o?o[1]:"",l=isFinite(parseInt(s)),u=isFinite(parseInt(a));l&&t.push('width="'.concat(s,'"')),u&&t.push('height="'.concat(a,'"'))}return{href:e,dimensions:t}}})),o.register("gk0d5",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("56Cfp"),l=o("aV5UR"),u=o("dKkCN"),c=o("1xRRx"),d=o("glSIC"),h=o("kT6fp"),f=o("kaKvC"),p=o("Og1nm"),g=o("9cZTD"),v=o("7Zg88"),m=o("caczl"),y=o("3bY1c"),b=o("kxsLz"),_=o("eZPXr"),k=o("4qRit"),C=o("lvhYu"),x=(0,_.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},u.localize("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),w=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.jumpToBracket",label:u.localize("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:3160,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){var n=D.get(t);n&&n.jumpToBracket()}}]),o}(h.EditorAction),S=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.selectToBracket",label:u.localize("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}return t(i)(o,[{key:"run",value:function(e,t,n){var r=D.get(t);if(r){var i=!0;n&&!1===n.selectBrackets&&(i=!1),r.selectToBracket(i)}}}]),o}(h.EditorAction),E=function e(n,i,o){"use strict";t(r)(this,e),this.position=n,this.brackets=i,this.options=o},D=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(e){var i;return t(r)(this,o),(i=n.call(this))._editor=e,i._lastBracketsData=[],i._lastVersionId=0,i._decorations=[],i._updateBracketsSoon=i._register(new(0,c.RunOnceScheduler)((function(){return i._updateBrackets()}),50)),i._matchBrackets=i._editor.getOption(62),i._updateBracketsSoon.schedule(),i._register(e.onDidChangeCursorPosition((function(e){"never"!==i._matchBrackets&&i._updateBracketsSoon.schedule()}))),i._register(e.onDidChangeModelContent((function(e){i._updateBracketsSoon.schedule()}))),i._register(e.onDidChangeModel((function(e){i._lastBracketsData=[],i._decorations=[],i._updateBracketsSoon.schedule()}))),i._register(e.onDidChangeModelLanguageConfiguration((function(e){i._lastBracketsData=[],i._updateBracketsSoon.schedule()}))),i._register(e.onDidChangeConfiguration((function(e){e.hasChanged(62)&&(i._matchBrackets=i._editor.getOption(62),i._decorations=i._editor.deltaDecorations(i._decorations,[]),i._lastBracketsData=[],i._lastVersionId=0,i._updateBracketsSoon.schedule())}))),i}return t(i)(o,[{key:"jumpToBracket",value:function(){if(this._editor.hasModel()){var e=this._editor.getModel(),t=this._editor.getSelections().map((function(t){var n=t.getStartPosition(),r=e.matchBracket(n),i=null;if(r)r[0].containsPosition(n)?i=r[1].getStartPosition():r[1].containsPosition(n)&&(i=r[0].getStartPosition());else{var o=e.findEnclosingBrackets(n);if(o)i=o[0].getStartPosition();else{var a=e.findNextBracket(n);a&&a.range&&(i=a.range.getStartPosition())}}return i?new(0,g.Selection)(i.lineNumber,i.column,i.lineNumber,i.column):new(0,g.Selection)(n.lineNumber,n.column,n.lineNumber,n.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}}},{key:"selectToBracket",value:function(e){if(this._editor.hasModel()){var n=this._editor.getModel(),r=[];this._editor.getSelections().forEach((function(i){var o=i.getStartPosition(),a=n.matchBracket(o);if(!a&&!(a=n.findEnclosingBrackets(o))){var l=n.findNextBracket(o);l&&l.range&&(a=n.matchBracket(l.range.getStartPosition()))}var u=null,c=null;if(a){a.sort(p.Range.compareRangesUsingStarts);var d=t(s)(a,2),h=d[0],f=d[1];u=e?h.getStartPosition():h.getEndPosition(),c=e?f.getEndPosition():f.getStartPosition()}u&&c&&r.push(new(0,g.Selection)(u.lineNumber,u.column,c.lineNumber,c.column))})),r.length>0&&(this._editor.setSelections(r),this._editor.revealRange(r[0]))}}},{key:"_updateBrackets",value:function(){if("never"!==this._matchBrackets){this._recomputeBrackets();var e=[],t=0,n=!0,r=!1,i=void 0;try{for(var o,a=this._lastBracketsData[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.brackets;l&&(e[t++]={range:l[0],options:s.options},e[t++]={range:l[1],options:s.options})}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._decorations=this._editor.deltaDecorations(this._decorations,e)}}},{key:"_recomputeBrackets",value:function(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);var e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);var t=this._editor.getModel(),n=t.getVersionId(),r=[];this._lastVersionId===n&&(r=this._lastBracketsData);for(var i=[],a=0,s=0,l=e.length;s<l;s++){var u=e[s];u.isEmpty()&&(i[a++]=u.getStartPosition())}i.length>1&&i.sort(f.Position.compare);for(var c=[],d=0,h=0,p=r.length,g=0,v=i.length;g<v;g++){for(var m=i[g];h<p&&r[h].position.isBefore(m);)h++;if(h<p&&r[h].position.equals(m))c[d++]=r[h];else{var y=t.matchBracket(m),b=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;y||"always"!==this._matchBrackets||(y=t.findEnclosingBrackets(m,20),b=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),c[d++]=new E(m,y,b)}}this._lastBracketsData=c,this._lastVersionId=n}}],[{key:"get",value:function(e){return e.getContribution(o.ID)}}]),o}(d.Disposable);D.ID="editor.contrib.bracketMatchingController",D._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=y.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,k.themeColorFromId)(x),position:m.OverviewRulerLane.Center}}),D._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=y.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,h.registerEditorContribution)(D.ID,D),(0,h.registerEditorAction)(S),(0,h.registerEditorAction)(w),(0,k.registerThemingParticipant)((function(e,t){var n=e.getColor(b.editorBracketMatchBackground);n&&t.addRule(".monaco-editor .bracket-match { background-color: ".concat(n,"; }"));var r=e.getColor(b.editorBracketMatchBorder);r&&t.addRule(".monaco-editor .bracket-match { border: 1px solid ".concat(r,"; }"))})),C.MenuRegistry.appendMenuItem(C.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:u.localize({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})})),o.register("6Au3j",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("kT6fp"),c=o("7Zg88"),d=o("ic73J"),h=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this,i)).left=e,a}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){var n=[],r=t.getSelections(),i=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;n.push(new(0,d.MoveCaretCommand)(u,this.left))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}}]),o}(u.EditorAction),f=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:l.localize("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:c.EditorContextKeys.writable})}return i}(h),p=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,!1,{id:"editor.action.moveCarretRightAction",label:l.localize("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:c.EditorContextKeys.writable})}return i}(h);(0,u.registerEditorAction)(f),(0,u.registerEditorAction)(p)})),o.register("ic73J",(function(n,r){e(n.exports,"MoveCaretCommand",(function(){return u}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("Og1nm"),l=o("9cZTD"),u=function(){"use strict";function e(n,r){t(i)(this,e),this._selection=n,this._isMovingLeft=r}return t(a)(e,[{key:"getEditOperations",value:function(e,t){if(this._selection.startLineNumber===this._selection.endLineNumber&&!this._selection.isEmpty()){var n=this._selection.startLineNumber,r=this._selection.startColumn,i=this._selection.endColumn;if((!this._isMovingLeft||1!==r)&&(this._isMovingLeft||i!==e.getLineMaxColumn(n)))if(this._isMovingLeft){var o=new(0,s.Range)(n,r-1,n,r),a=e.getValueInRange(o);t.addEditOperation(o,null),t.addEditOperation(new(0,s.Range)(n,i,n,i),a)}else{var l=new(0,s.Range)(n,i,n,i+1),u=e.getValueInRange(l);t.addEditOperation(l,null),t.addEditOperation(new(0,s.Range)(n,r,n,r),u)}}}},{key:"computeCursorState",value:function(e,t){return this._isMovingLeft?new(0,l.Selection)(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new(0,l.Selection)(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}]),e}()})),o.register("78bR1",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("kT6fp"),c=o("iwJuG"),d=o("Og1nm"),h=o("7Zg88"),f=o("1yDgd"),p=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.transposeLetters",label:l.localize("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:h.EditorContextKeys.writable,kbOpts:{kbExpr:h.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){var n=t.getModel(),r=[],i=t.getSelections(),o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;if(h.isEmpty()){var p=h.startLineNumber,g=h.startColumn,v=n.getLineMaxColumn(p);if(1!==p||1!==g&&(2!==g||2!==v)){var m=g===v?h.getPosition():f.MoveOperations.rightPosition(n,h.getPosition().lineNumber,h.getPosition().column),y=f.MoveOperations.leftPosition(n,m),b=f.MoveOperations.leftPosition(n,y),_=n.getValueInRange(d.Range.fromPositions(b,y)),k=n.getValueInRange(d.Range.fromPositions(y,m)),C=d.Range.fromPositions(b,m);r.push(new(0,c.ReplaceCommand)(C,k+_))}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}r.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop())}}}]),o}(u.EditorAction);(0,u.registerEditorAction)(p)})),o.register("kecza",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("4GLgu"),u=o("dKkCN"),c=o("iHzs9"),d=o("4YgGD"),h=o("5x7vf"),f=o("kT6fp"),p=o("flIZY"),g=o("7Zg88"),v=o("lvhYu"),m=o("iO6iO"),y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},b="9_cutcopypaste",_=d.isNative||document.queryCommandSupported("cut"),k=d.isNative||document.queryCommandSupported("copy"),C=void 0!==navigator.clipboard&&!c.isFirefox||document.queryCommandSupported("paste");function x(e){return e.register(),e}var w=_?x(new(0,f.MultiCommand)({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:d.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"2_ccp",title:u.localize({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:v.MenuId.EditorContext,group:b,title:u.localize("actions.clipboard.cutLabel","Cut"),when:g.EditorContextKeys.writable,order:1},{menuId:v.MenuId.CommandPalette,group:"",title:u.localize("actions.clipboard.cutLabel","Cut"),order:1},{menuId:v.MenuId.SimpleEditorContext,group:b,title:u.localize("actions.clipboard.cutLabel","Cut"),when:g.EditorContextKeys.writable,order:1}]})):void 0,S=k?x(new(0,f.MultiCommand)({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:d.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"2_ccp",title:u.localize({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:v.MenuId.EditorContext,group:b,title:u.localize("actions.clipboard.copyLabel","Copy"),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:u.localize("actions.clipboard.copyLabel","Copy"),order:1},{menuId:v.MenuId.SimpleEditorContext,group:b,title:u.localize("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;v.MenuRegistry.appendMenuItem(v.MenuId.MenubarEditMenu,{submenu:v.MenuId.MenubarCopy,title:{value:u.localize("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,{submenu:v.MenuId.EditorContextCopy,title:{value:u.localize("copy as","Copy As"),original:"Copy As"},group:b,order:3});var E=C?x(new(0,f.MultiCommand)({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:d.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"2_ccp",title:u.localize({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:v.MenuId.EditorContext,group:b,title:u.localize("actions.clipboard.pasteLabel","Paste"),when:g.EditorContextKeys.writable,order:4},{menuId:v.MenuId.CommandPalette,group:"",title:u.localize("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:v.MenuId.SimpleEditorContext,group:b,title:u.localize("actions.clipboard.pasteLabel","Paste"),when:g.EditorContextKeys.writable,order:4}]})):void 0,D=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:u.localize("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.textInputFocus,primary:0,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){t.hasModel()&&(!t.getOption(30)&&t.getSelection().isEmpty()||(h.CopyOptions.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),h.CopyOptions.forceCopyWithSyntaxHighlighting=!1))}}]),o}(f.EditorAction);function I(e,t){e&&(e.addImplementation(1e4,"code-editor",(function(e,n){var r=e.get(p.ICodeEditorService).getFocusedCodeEditor();if(r&&r.hasTextFocus()){var i=r.getOption(30),o=r.getSelection();return o&&o.isEmpty()&&!i||document.execCommand(t),!0}return!1})),e.addImplementation(0,"generic-dom",(function(e,n){return document.execCommand(t),!0})))}I(w,"cut"),I(S,"copy"),E&&(E.addImplementation(1e4,"code-editor",(function(e,n){var r=e.get(p.ICodeEditorService),i=e.get(m.IClipboardService),o=r.getFocusedCodeEditor();return!(!o||!o.hasTextFocus())&&(!(!document.execCommand("paste")&&d.isWeb)||(y(void 0,void 0,void 0,t(l).mark((function e(){var n,r,a,s,u;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.readText();case 2:""!==(n=e.sent)&&(r=h.InMemoryClipboardMetadataManager.INSTANCE.get(n),a=!1,s=null,u=null,r&&(a=o.getOption(30)&&!!r.isFromEmptySelection,s=void 0!==r.multicursorText?r.multicursorText:null,u=r.mode),o.trigger("keyboard","paste",{text:n,pasteOnNewLine:a,multicursorText:s,mode:u}));case 4:case"end":return e.stop()}}),e)}))),!0))})),E.addImplementation(0,"generic-dom",(function(e,t){return document.execCommand("paste"),!0}))),k&&(0,f.registerEditorAction)(D)})),o.register("aRe6C",(function(e,t){var n=o("kT6fp"),r=o("kHxZL");(0,n.registerEditorContribution)(r.QuickFixController.ID,r.QuickFixController),(0,n.registerEditorAction)(r.QuickFixAction),(0,n.registerEditorAction)(r.RefactorAction),(0,n.registerEditorAction)(r.SourceAction),(0,n.registerEditorAction)(r.OrganizeImportsAction),(0,n.registerEditorAction)(r.AutoFixAction),(0,n.registerEditorAction)(r.FixAllAction),(0,n.registerEditorCommand)(new(0,r.CodeActionCommand))})),o.register("kHxZL",(function(n,r){e(n.exports,"QuickFixController",(function(){return F}),(function(e){return F=e})),e(n.exports,"QuickFixAction",(function(){return H}),(function(e){return H=e})),e(n.exports,"AutoFixAction",(function(){return Z}),(function(e){return Z=e})),e(n.exports,"CodeActionCommand",(function(){return V}),(function(e){return V=e})),e(n.exports,"RefactorAction",(function(){return j}),(function(e){return j=e})),e(n.exports,"SourceAction",(function(){return K}),(function(e){return K=e})),e(n.exports,"OrganizeImportsAction",(function(){return U}),(function(e){return U=e})),e(n.exports,"FixAllAction",(function(){return q}),(function(e){return q=e}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("hgtn2"),u=o("hFMTy"),c=o("aV5UR"),d=o("4GLgu"),h=o("7C9Vb"),f=o("gFBlP"),p=o("glSIC"),g=o("flPya"),v=o("kT6fp"),m=o("cNfsy"),y=o("7Zg88"),b=o("hdReq"),_=o("4RT7c"),k=o("5ph9j"),C=o("dKkCN"),x=o("1Ms2U"),w=o("6x2MV"),S=o("e1Jmh"),E=o("jSRBf"),D=o("ds0Oh"),I=o("5rgie"),R=o("9nCXB"),L=o("4l2BQ"),A=o("9PZJi"),M=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,r){t(n,r,e)}},N=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function P(e){return w.ContextKeyExpr.regex(L.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,g.escapeRegExpCharacters)(e.value)+"\\b"))}var O={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:C.localize("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:C.localize("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[C.localize("args.schema.apply.first","Always apply the first returned code action."),C.localize("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),C.localize("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:C.localize("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},F=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(e,o,s,l,u){var c;return t(a)(this,r),(c=n.call(this))._instantiationService=u,c._editor=e,c._model=c._register(new(0,L.CodeActionModel)(c._editor,o,s,l)),c._register(c._model.onDidChangeState((function(e){return c.update(e)}))),c._ui=new(0,f.Lazy)((function(){return c._register(new(0,_.CodeActionUi)(e,H.Id,Z.Id,{applyCodeAction:function(e,n){return N(t(i)(c),void 0,void 0,t(d).mark((function r(){return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._applyCodeAction(e);case 3:return t.prev=3,n&&this._trigger({type:2,filter:{}}),t.finish(3);case 6:case"end":return t.stop()}}),r,this,[[0,,3,6]])})))}},c._instantiationService))})),c}return t(s)(r,[{key:"update",value:function(e){this._ui.getValue().update(e)}},{key:"showCodeActions",value:function(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1})}},{key:"manualTriggerAtCurrentPosition",value:function(e,t,n){if(this._editor.hasModel()){k.MessageController.get(this._editor).closeMessage();var r=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:n,context:{notAvailableMessage:e,position:r}})}}},{key:"_trigger",value:function(e){return this._model.trigger(e)}},{key:"_applyCodeAction",value:function(e){return this._instantiationService.invokeFunction(B,e,this._editor)}}],[{key:"get",value:function(e){return e.getContribution(r.ID)}}]),r}(p.Disposable);function B(e,n,r){return N(this,void 0,void 0,t(d).mark((function i(){var o,a,s,l,c,f;return t(d).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=e.get(m.IBulkEditService),a=e.get(x.ICommandService),s=e.get(R.ITelemetryService),l=e.get(D.INotificationService),s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:n.action.title,codeActionKind:n.action.kind,codeActionIsPreferred:!!n.action.isPreferred}),i.next=7,n.resolve(h.CancellationToken.None);case 7:if(!n.action.edit){i.next=10;break}return i.next=10,o.apply(m.ResourceEdit.convert(n.action.edit),{editor:r,label:n.action.title});case 10:if(!n.action.command){i.next=21;break}return i.prev=11,i.next=15,(c=a).executeCommand.apply(c,[n.action.command.id].concat(t(u)(n.action.command.arguments||[])));case 15:i.next=21;break;case 17:i.prev=17,i.t0=i.catch(11),f=z(i.t0),l.error("string"==typeof f?f:C.localize("applyCodeActionFailed","An unknown error occurred while applying the code action"));case 21:case"end":return i.stop()}}),i,null,[[11,17]])})))}function z(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}function W(e,t,n,r){if(e.hasModel()){var i=F.get(e);i&&i.manualTriggerAtCurrentPosition(t,n,r)}}F.ID="editor.contrib.quickFixController",F=M([T(1,E.IMarkerService),T(2,w.IContextKeyService),T(3,I.IEditorProgressService),T(4,S.IInstantiationService)],F);var H=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(){return t(a)(this,r),n.call(this,{id:r.Id,label:C.localize("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:w.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:2132,weight:100}})}return t(s)(r,[{key:"run",value:function(e,t){return W(t,C.localize("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}]),r}(v.EditorAction);H.Id="editor.action.quickFix";var V=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(){return t(a)(this,r),n.call(this,{id:b.codeActionCommandId,precondition:w.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:O}]}})}return t(s)(r,[{key:"runEditorCommand",value:function(e,t,n){var r=A.CodeActionCommandArgs.fromUser(n,{kind:A.CodeActionKind.Empty,apply:"ifSingle"});return W(t,"string"==typeof(null==n?void 0:n.kind)?r.preferred?C.localize("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):C.localize("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):r.preferred?C.localize("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):C.localize("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}]),r}(v.EditorCommand),j=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(){return t(a)(this,r),n.call(this,{id:b.refactorCommandId,label:C.localize("refactor.label","Refactor..."),alias:"Refactor...",precondition:w.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:w.ContextKeyExpr.and(y.EditorContextKeys.writable,P(A.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:O}]}})}return t(s)(r,[{key:"run",value:function(e,t,n){var r=A.CodeActionCommandArgs.fromUser(n,{kind:A.CodeActionKind.Refactor,apply:"never"});return W(t,"string"==typeof(null==n?void 0:n.kind)?r.preferred?C.localize("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):C.localize("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):r.preferred?C.localize("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):C.localize("editor.action.refactor.noneMessage","No refactorings available"),{include:A.CodeActionKind.Refactor.contains(r.kind)?r.kind:A.CodeActionKind.None,onlyIncludePreferredActions:r.preferred},r.apply)}}]),r}(v.EditorAction),K=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(){return t(a)(this,r),n.call(this,{id:b.sourceActionCommandId,label:C.localize("source.label","Source Action..."),alias:"Source Action...",precondition:w.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:w.ContextKeyExpr.and(y.EditorContextKeys.writable,P(A.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:O}]}})}return t(s)(r,[{key:"run",value:function(e,t,n){var r=A.CodeActionCommandArgs.fromUser(n,{kind:A.CodeActionKind.Source,apply:"never"});return W(t,"string"==typeof(null==n?void 0:n.kind)?r.preferred?C.localize("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):C.localize("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):r.preferred?C.localize("editor.action.source.noneMessage.preferred","No preferred source actions available"):C.localize("editor.action.source.noneMessage","No source actions available"),{include:A.CodeActionKind.Source.contains(r.kind)?r.kind:A.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}]),r}(v.EditorAction),U=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(){return t(a)(this,r),n.call(this,{id:b.organizeImportsCommandId,label:C.localize("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:w.ContextKeyExpr.and(y.EditorContextKeys.writable,P(A.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:1581,weight:100}})}return t(s)(r,[{key:"run",value:function(e,t){return W(t,C.localize("editor.action.organize.noneMessage","No organize imports action available"),{include:A.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}]),r}(v.EditorAction),q=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(){return t(a)(this,r),n.call(this,{id:b.fixAllCommandId,label:C.localize("fixAll.label","Fix All"),alias:"Fix All",precondition:w.ContextKeyExpr.and(y.EditorContextKeys.writable,P(A.CodeActionKind.SourceFixAll))})}return t(s)(r,[{key:"run",value:function(e,t){return W(t,C.localize("fixAll.noneMessage","No fix all action available"),{include:A.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}]),r}(v.EditorAction),Z=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(){return t(a)(this,r),n.call(this,{id:r.Id,label:C.localize("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:w.ContextKeyExpr.and(y.EditorContextKeys.writable,P(A.CodeActionKind.QuickFix)),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}return t(s)(r,[{key:"run",value:function(e,t){return W(t,C.localize("editor.action.autoFix.noneMessage","No auto fixes available"),{include:A.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}]),r}(v.EditorAction);Z.Id="editor.action.autoFix"})),o.register("gFBlP",(function(n,r){e(n.exports,"Lazy",(function(){return s}));var i=o("fZTNQ"),a=o("j7KTJ"),s=function(){"use strict";function e(n){t(i)(this,e),this.executor=n,this._didRun=!1}return t(a)(e,[{key:"getValue",value:function(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}},{key:"rawValue",get:function(){return this._value}}]),e}()})),o.register("hdReq",(function(n,r){e(n.exports,"codeActionCommandId",(function(){return S}),(function(e){return S=e})),e(n.exports,"refactorCommandId",(function(){return E}),(function(e){return E=e})),e(n.exports,"sourceActionCommandId",(function(){return D}),(function(e){return D=e})),e(n.exports,"organizeImportsCommandId",(function(){return I}),(function(e){return I=e})),e(n.exports,"fixAllCommandId",(function(){return R}),(function(e){return R=e})),e(n.exports,"CodeActionItem",(function(){return L}),(function(e){return L=e})),e(n.exports,"getCodeActions",(function(){return T}),(function(e){return T=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("hFMTy"),u=o("aV5UR"),c=o("4GLgu"),d=o("ddsHh"),h=o("7C9Vb"),f=o("9yDnc"),p=o("glSIC"),g=o("bErzw"),v=o("jhpae"),m=o("Og1nm"),y=o("9cZTD"),b=o("aQzpN"),_=o("8nQ63"),k=o("9PZJi"),C=o("5rgie"),x=o("1Ms2U"),w=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},S="editor.action.codeAction",E="editor.action.refactor",D="editor.action.sourceAction",I="editor.action.organizeImports",R="editor.action.fixAll",L=function(){"use strict";function e(n,r){t(i)(this,e),this.action=n,this.provider=r}return t(a)(e,[{key:"resolve",value:function(e){var n;return w(this,void 0,void 0,t(c).mark((function r(){var i;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(n=this.provider)||void 0===n?void 0:n.resolveCodeAction)||this.action.edit){t.next=12;break}return t.prev=2,t.next=5,this.provider.resolveCodeAction(this.action,e);case 5:i=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),(0,f.onUnexpectedExternalError)(t.t0);case 11:i&&(this.action.edit=i.edit);case 12:return t.abrupt("return",this);case 13:case"end":return t.stop()}}),r,this,[[2,8]])})))}}]),e}(),A=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(e,o,a){var s;return t(i)(this,r),(s=n.call(this)).documentation=o,s._register(a),s.allActions=t(l)(e).sort(r.codeActionsComparator),s.validActions=s.allActions.filter((function(e){return!e.action.disabled})),s}return t(a)(r,[{key:"hasAutoFix",get:function(){return this.validActions.some((function(e){var t=e.action;return!!t.kind&&k.CodeActionKind.QuickFix.contains(new(0,k.CodeActionKind)(t.kind))&&!!t.isPreferred}))}}],[{key:"codeActionsComparator",value:function(e,t){var n=e.action,r=t.action;return n.isPreferred&&!r.isPreferred?-1:!n.isPreferred&&r.isPreferred?1:(0,d.isNonEmptyArray)(n.diagnostics)?(0,d.isNonEmptyArray)(r.diagnostics)?n.diagnostics[0].message.localeCompare(r.diagnostics[0].message):-1:(0,d.isNonEmptyArray)(r.diagnostics)?1:0}}]),r}(p.Disposable),M={actions:[],documentation:void 0};function T(e,n,r,i,o){var a,s=this,l=r.filter||{},u={only:null===(a=l.include)||void 0===a?void 0:a.value,trigger:r.type},h=new(0,v.TextModelCancellationTokenSource)(e,o),g=function(e,t){return b.CodeActionProviderRegistry.all(e).filter((function(e){return!e.providedCodeActionKinds||e.providedCodeActionKinds.some((function(e){return(0,k.mayIncludeActionsOfKind)(t,new(0,k.CodeActionKind)(e))}))}))}(e,l),m=new(0,p.DisposableStore),y=g.map((function(r){return w(s,void 0,void 0,t(c).mark((function o(){var a,s,d;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i.report(r),t.next=4,r.provideCodeActions(e,n,u,h.token);case 4:if((a=t.sent)&&m.add(a),!h.token.isCancellationRequested){t.next=8;break}return t.abrupt("return",M);case 8:return s=((null==a?void 0:a.actions)||[]).filter((function(e){return e&&(0,k.filtersAction)(l,e)})),d=N(r,s,l.include),t.abrupt("return",{actions:s.map((function(e){return new L(e,r)})),documentation:d});case 13:if(t.prev=13,t.t0=t.catch(0),!(0,f.isPromiseCanceledError)(t.t0)){t.next=17;break}throw t.t0;case 17:return(0,f.onUnexpectedExternalError)(t.t0),t.abrupt("return",M);case 19:case"end":return t.stop()}}),o,null,[[0,13]])})))})),_=b.CodeActionProviderRegistry.onDidChange((function(){var t=b.CodeActionProviderRegistry.all(e);(0,d.equals)(t,g)||h.cancel()}));return Promise.all(y).then((function(e){var t=(0,d.flatten)(e.map((function(e){return e.actions}))),n=(0,d.coalesce)(e.map((function(e){return e.documentation})));return new A(t,n,m)})).finally((function(){_.dispose(),h.dispose()}))}function N(e,t,n){if(e.documentation){var r=e.documentation.map((function(e){return{kind:new(0,k.CodeActionKind)(e.kind),command:e.command}}));if(n){var i,o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c.kind.contains(n)&&(i?i.kind.contains(c.kind)&&(i=c):i=c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}if(i)return null==i?void 0:i.command}var d=!0,h=!1,f=void 0;try{for(var p,g=t[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v=p.value;if(v.kind){var m=!0,y=!1,b=void 0;try{for(var _,C=r[Symbol.iterator]();!(m=(_=C.next()).done);m=!0){var x=_.value;if(x.kind.contains(new(0,k.CodeActionKind)(v.kind)))return x.command}}catch(e){y=!0,b=e}finally{try{m||null==C.return||C.return()}finally{if(y)throw b}}}}}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}}}x.CommandsRegistry.registerCommand("_executeCodeActionProvider",(function(e,n,r,i,o){return w(this,void 0,void 0,t(c).mark((function a(){var s,l,u,d,p,v,b;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n instanceof g.URI){t.next=2;break}throw(0,f.illegalArgument)();case 2:if(s=e.get(_.IModelService).getModel(n)){t.next=5;break}throw(0,f.illegalArgument)();case 5:if(l=y.Selection.isISelection(r)?y.Selection.liftSelection(r):m.Range.isIRange(r)?s.validateRange(r):void 0){t.next=8;break}throw(0,f.illegalArgument)();case 8:return u="string"==typeof i?new(0,k.CodeActionKind)(i):void 0,t.next=11,T(s,l,{type:1,filter:{includeSourceActions:!0,include:u}},C.Progress.None,h.CancellationToken.None);case 11:for(d=t.sent,p=[],v=Math.min(d.validActions.length,"number"==typeof o?o:0),b=0;b<v;b++)p.push(d.validActions[b].resolve(h.CancellationToken.None));return t.prev=15,t.next=18,Promise.all(p);case 18:return t.abrupt("return",d.validActions.map((function(e){return e.action})));case 19:return t.prev=19,setTimeout((function(){return d.dispose()}),100),t.finish(19);case 22:case"end":return t.stop()}}),a,null,[[15,,19,22]])})))}))})),o.register("9PZJi",(function(n,r){e(n.exports,"CodeActionKind",(function(){return s})),e(n.exports,"mayIncludeActionsOfKind",(function(){return l})),e(n.exports,"filtersAction",(function(){return u})),e(n.exports,"CodeActionCommandArgs",(function(){return d}));var i=o("fZTNQ"),a=o("j7KTJ"),s=function(){"use strict";function e(n){t(i)(this,e),this.value=n}return t(a)(e,[{key:"equals",value:function(e){return this.value===e.value}},{key:"contains",value:function(t){return this.equals(t)||""===this.value||t.value.startsWith(this.value+e.sep)}},{key:"intersects",value:function(e){return this.contains(e)||e.contains(this)}},{key:"append",value:function(t){return new e(this.value+e.sep+t)}}]),e}();function l(e,t){return!(e.include&&!e.include.intersects(t))&&((!e.excludes||!e.excludes.some((function(n){return c(t,n,e.include)})))&&!(!e.includeSourceActions&&s.Source.contains(t)))}function u(e,t){var n=t.kind?new s(t.kind):void 0;return!!(!e.include||n&&e.include.contains(n))&&(!(e.excludes&&n&&e.excludes.some((function(t){return c(n,t,e.include)})))&&(!(!e.includeSourceActions&&n&&s.Source.contains(n))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}function c(e,t,n){return!!t.contains(e)&&(!n||!t.contains(n))}s.sep=".",s.None=new s("@@none@@"),s.Empty=new s(""),s.QuickFix=new s("quickfix"),s.Refactor=new s("refactor"),s.Source=new s("source"),s.SourceOrganizeImports=s.Source.append("organizeImports"),s.SourceFixAll=s.Source.append("fixAll");var d=function(){"use strict";function e(n,r,o){t(i)(this,e),this.kind=n,this.apply=r,this.preferred=o}return t(a)(e,null,[{key:"fromUser",value:function(t,n){return t&&"object"==typeof t?new e(e.getKindFromUser(t,n.kind),e.getApplyFromUser(t,n.apply),e.getPreferredUser(t)):new e(n.kind,n.apply,!1)}},{key:"getApplyFromUser",value:function(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}},{key:"getKindFromUser",value:function(e,t){return"string"==typeof e.kind?new s(e.kind):t}},{key:"getPreferredUser",value:function(e){return"boolean"==typeof e.preferred&&e.preferred}}]),e}()})),o.register("4RT7c",(function(n,r){e(n.exports,"CodeActionUi",(function(){return E}),(function(e){return E=e}));var i,a=o("bETlW"),s=o("fZTNQ"),l=o("j7KTJ"),u=o("k0Xaj"),c=o("5464t"),d=o("hgtn2"),h=o("aV5UR"),f=o("4GLgu"),p=o("9yDnc"),g=o("gFBlP"),v=o("glSIC"),m=o("5ph9j"),y=o("e1Jmh"),b=o("9aRqq"),_=o("lsREq"),k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,r){t(n,r,e)}},x=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},w=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},S=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},E=function(e){"use strict";t(d)(r,e);var n=t(h)(r);function r(e,o,l,u,c){var d;return t(s)(this,r),(d=n.call(this))._editor=e,d.delegate=u,d._activeCodeActions=d._register(new(0,v.MutableDisposable)),i.set(t(a)(d),!1),d._codeActionWidget=new(0,g.Lazy)((function(){return d._register(c.createInstance(b.CodeActionMenu,d._editor,{onSelectCodeAction:function(e){return x(t(a)(d),void 0,void 0,t(f).mark((function n(){return t(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.delegate.applyCodeAction(e,!0);case 1:case"end":return t.stop()}}),n,this)})))}}))})),d._lightBulbWidget=new(0,g.Lazy)((function(){var e=d._register(c.createInstance(_.LightBulbWidget,d._editor,o,l));return d._register(e.onClick((function(e){return d.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1})}))),e})),d}return t(l)(r,[{key:"dispose",value:function(){w(this,i,!0,"f"),t(u)(t(c)(r.prototype),"dispose",this).call(this)}},{key:"update",value:function(e){var n,r,o;return x(this,void 0,void 0,t(f).mark((function a(){var s,l,u,c;return t(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===e.type){t.next=3;break}return null===(n=this._lightBulbWidget.rawValue)||void 0===n||n.hide(),t.abrupt("return");case 3:return t.prev=4,t.next=7,e.actions;case 7:s=t.sent,t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(4),(0,p.onUnexpectedError)(t.t0),t.abrupt("return");case 14:if(!S(this,i,"f")){t.next=16;break}return t.abrupt("return");case 16:if(this._lightBulbWidget.getValue().update(s,e.trigger,e.position),1!==e.trigger.type){t.next=45;break}if(!(null===(r=e.trigger.filter)||void 0===r?void 0:r.include)){t.next=34;break}if(!(l=this.tryGetValidActionToApply(e.trigger,s))){t.next=28;break}return t.prev=21,t.next=24,this.delegate.applyCodeAction(l,!1);case 24:return t.prev=24,s.dispose(),t.finish(24);case 27:return t.abrupt("return");case 28:if(!e.trigger.context){t.next=34;break}if(!(u=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,s))||!u.action.disabled){t.next=34;break}return m.MessageController.get(this._editor).showMessage(u.action.disabled,e.trigger.context.position),s.dispose(),t.abrupt("return");case 34:if(c=!!(null===(o=e.trigger.filter)||void 0===o?void 0:o.include),!e.trigger.context){t.next=41;break}if(s.allActions.length&&(c||s.validActions.length)){t.next=41;break}return m.MessageController.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=s,s.dispose(),t.abrupt("return");case 41:this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(e.trigger,s,e.position,{includeDisabledActions:c}),t.next=46;break;case 45:this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s;case 46:case"end":return t.stop()}}),a,this,[[4,10],[21,,24,27]])})))}},{key:"getInvalidActionThatWouldHaveBeenApplied",value:function(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((function(e){return e.action.disabled})):void 0}},{key:"tryGetValidActionToApply",value:function(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}},{key:"showCodeActionList",value:function(e,n,r,i){return x(this,void 0,void 0,t(f).mark((function o(){return t(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._codeActionWidget.getValue().show(e,n,r,i);case 1:case"end":return t.stop()}}),o,this)})))}}]),r}(v.Disposable);i=new WeakMap,E=k([C(4,y.IInstantiationService)],E)})),o.register("5ph9j",(function(n,r){e(n.exports,"MessageController",(function(){return b}),(function(e){return b=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("dKkCN"),l=o("1xRRx"),u=o("glSIC"),c=o("3mtPc"),d=o("Og1nm"),h=o("kT6fp"),f=o("6x2MV"),p=o("4qRit"),g=o("eZPXr"),v=o("eqXyA"),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},b=function(){"use strict";function e(n,r){var o=this;t(i)(this,e),this._messageWidget=new(0,u.MutableDisposable),this._messageListeners=new(0,u.DisposableStore),this._editor=n,this._visible=e.MESSAGE_VISIBLE.bindTo(r),this._editorListener=this._editor.onDidAttemptReadOnlyEdit((function(){return o._onDidAttemptReadOnlyEdit()}))}return t(a)(e,[{key:"dispose",value:function(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}},{key:"showMessage",value:function(e,t){var n,r=this;(0,c.alert)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new k(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((function(){return r.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((function(){return r.closeMessage()}))),this._messageListeners.add(this._editor.onDidDispose((function(){return r.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeModel((function(){return r.closeMessage()}))),this._messageListeners.add(new(0,l.TimeoutTimer)((function(){return r.closeMessage()}),3e3)),this._messageListeners.add(this._editor.onMouseMove((function(e){e.target.position&&(n?n.containsPosition(e.target.position)||r.closeMessage():n=new(0,d.Range)(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))}},{key:"closeMessage",value:function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(k.fadeOut(this._messageWidget.value))}},{key:"_onDidAttemptReadOnlyEdit",value:function(){this._editor.hasModel()&&this.showMessage(s.localize("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();b.ID="editor.contrib.messageController",b.MESSAGE_VISIBLE=new(0,f.RawContextKey)("messageVisible",!1,s.localize("messageVisible","Whether the editor is currently showing an inline message")),b=m([y(1,f.IContextKeyService)],b);var _=h.EditorCommand.bindToContribution(b.get);(0,h.registerEditorCommand)(new _({id:"leaveEditorMessage",precondition:b.MESSAGE_VISIBLE,handler:function(e){return e.closeMessage()},kbOpts:{weight:130,primary:9}}));var k=function(){"use strict";function e(n,r,o){var a=r.lineNumber,s=r.column;t(i)(this,e),this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=n,this._editor.revealLinesInCenterIfOutsideViewport(a,a,0),this._position={lineNumber:a,column:s-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var l=document.createElement("div");l.classList.add("anchor","top"),this._domNode.appendChild(l);var u=document.createElement("div");u.classList.add("message"),u.textContent=o,this._domNode.appendChild(u);var c=document.createElement("div");c.classList.add("anchor","below"),this._domNode.appendChild(c),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return t(a)(e,[{key:"dispose",value:function(){this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"messageoverlay"}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{position:this._position,preference:[1,2]}}},{key:"afterRender",value:function(e){this._domNode.classList.toggle("below",2===e)}}],[{key:"fadeOut",value:function(e){var t,n=function(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}}}]),e}();(0,h.registerEditorContribution)(b.ID,b),(0,p.registerThemingParticipant)((function(e,t){var n=e.getColor(g.inputValidationInfoBorder);if(n){var r=e.type===v.ColorScheme.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ".concat(n,"; }")),t.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ".concat(n,"; }")),t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: ".concat(r,"px solid ").concat(n,"; }"))}var i=e.getColor(g.inputValidationInfoBackground);i&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: ".concat(i,"; }"));var o=e.getColor(g.inputValidationInfoForeground);o&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: ".concat(o,"; }"))}))})),o.register("9aRqq",(function(n,r){e(n.exports,"CodeActionMenu",(function(){return E}),(function(e){return E=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("hFMTy"),u=o("aV5UR"),c=o("4GLgu"),d=o("i3Iko"),h=o("gO8TU"),f=o("9yDnc"),p=o("gFBlP"),g=o("glSIC"),v=o("kaKvC"),m=o("aQzpN"),y=o("hdReq"),b=o("9PZJi"),_=o("yGu5B"),k=o("hwMdw"),C=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},x=function(e,t){return function(n,r){t(n,r,e)}},w=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},S=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(e,o){var a;return t(i)(this,r),(a=n.call(this,e.command?e.command.id:e.title,e.title.replace(/\r\n|\r|\n/g," "),void 0,!e.disabled,o)).action=e,a}return r}(h.Action);var E=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(e,o,a,s){var l;return t(i)(this,r),(l=n.call(this))._editor=e,l._delegate=o,l._contextMenuService=a,l._visible=!1,l._showingActions=l._register(new(0,g.MutableDisposable)),l._keybindingResolver=new D({getKeybindings:function(){return s.getKeybindings()}}),l}return t(a)(r,[{key:"isVisible",get:function(){return this._visible}},{key:"show",value:function(e,n,r,i){return w(this,void 0,void 0,t(c).mark((function o(){var a,s,l,u,d,h;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this,(s=i.includeDisabledActions?n.allActions:n.validActions).length){t.next=5;break}return this._visible=!1,t.abrupt("return");case 5:if(this._editor.getDomNode()){t.next=8;break}throw this._visible=!1,(0,f.canceled)();case 8:this._visible=!0,this._showingActions.value=n,l=this.getMenuActions(e,s,n.documentation),u=v.Position.isIPosition(r)?this._toCoords(r):r||{x:0,y:0},d=this._keybindingResolver.getResolver(),h=this._editor.getOption(113),this._contextMenuService.showContextMenu({domForShadowRoot:h?this._editor.getDomNode():void 0,getAnchor:function(){return u},getActions:function(){return l},onHide:function(){a._visible=!1,a._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:function(e){return e instanceof S?d(e.action):void 0}});case 15:case"end":return t.stop()}}),o,this)})))}},{key:"getMenuActions",value:function(e,n,r){var i,o,a,s=this,u=function(e){return new S(e.action,(function(){return s._delegate.onSelectCodeAction(e)}))},c=n.map(u),d=t(l)(r),f=this._editor.getModel();if(f&&c.length){var p,g=!0,v=!1,b=void 0;try{for(var _,k=m.CodeActionProviderRegistry.all(f)[Symbol.iterator]();!(g=(_=k.next()).done);g=!0){var C=_.value;C._getAdditionalMenuItems&&(p=d).push.apply(p,t(l)(C._getAdditionalMenuItems({trigger:e.type,only:null===(a=null===(o=e.filter)||void 0===o?void 0:o.include)||void 0===a?void 0:a.value},n.map((function(e){return e.action})))))}}catch(e){v=!0,b=e}finally{try{g||null==k.return||k.return()}finally{if(v)throw b}}}return d.length&&(i=c).push.apply(i,[new(0,h.Separator)].concat(t(l)(d.map((function(e){return u(new(0,y.CodeActionItem)({title:e.title,command:e},void 0))}))))),c}},{key:"_toCoords",value:function(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();var t=this._editor.getScrolledVisiblePosition(e),n=(0,d.getDomNodePagePosition)(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}}}]),r}(g.Disposable);E=C([x(2,_.IContextMenuService),x(3,k.IKeybindingService)],E);var D=function(){"use strict";function e(n){t(i)(this,e),this._keybindingProvider=n}return t(a)(e,[{key:"getResolver",value:function(){var t=this,n=new(0,p.Lazy)((function(){return t._keybindingProvider.getKeybindings().filter((function(t){return e.codeActionCommands.indexOf(t.command)>=0})).filter((function(e){return e.resolvedKeybinding})).map((function(e){var t=e.commandArgs;return e.command===y.organizeImportsCommandId?t={kind:b.CodeActionKind.SourceOrganizeImports.value}:e.command===y.fixAllCommandId&&(t={kind:b.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},b.CodeActionCommandArgs.fromUser(t,{kind:b.CodeActionKind.None,apply:"never"}))}))}));return function(e){if(e.kind){var r=t.bestKeybindingForCodeAction(e,n.getValue());return null==r?void 0:r.resolvedKeybinding}}}},{key:"bestKeybindingForCodeAction",value:function(e,t){if(e.kind){var n=new(0,b.CodeActionKind)(e.kind);return t.filter((function(e){return e.kind.contains(n)})).filter((function(t){return!t.preferred||e.isPreferred})).reduceRight((function(e,t){return e?e.kind.contains(t.kind)?t:e:t}),void 0)}}}]),e}();D.codeActionCommands=[y.refactorCommandId,y.codeActionCommandId,y.sourceActionCommandId,y.organizeImportsCommandId,y.fixAllCommandId]})),o.register("lsREq",(function(n,r){e(n.exports,"LightBulbWidget",(function(){return D}),(function(e){return D=e}));var i,a=o("bETlW"),s=o("fZTNQ"),l=o("j7KTJ"),u=o("k0Xaj"),c=o("5464t"),d=o("hgtn2"),h=o("hFMTy"),f=o("aV5UR"),p=o("i3Iko"),g=o("6EYP0"),v=o("4YObi"),m=o("glSIC"),y=o("3bY1c"),b=o("dKkCN"),_=o("hwMdw"),k=o("4qRit"),C=o("eZPXr"),x=o("dr7kw"),w=o("9k9F9"),S=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,r){t(n,r,e)}};!function(e){e.Hidden={type:0};e.Showing=function e(n,r,i,o){"use strict";t(s)(this,e),this.actions=n,this.trigger=r,this.editorPosition=i,this.widgetPosition=o,this.type=1}}(i||(i={}));var D=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(e,o,l,u){var c;return t(s)(this,r),(c=n.call(this))._editor=e,c._quickFixActionId=o,c._preferredFixActionId=l,c._keybindingService=u,c._onClick=c._register(new(0,v.Emitter)),c.onClick=c._onClick.event,c._state=i.Hidden,c._domNode=document.createElement("div"),c._domNode.className=w.Codicon.lightBulb.classNames,c._editor.addContentWidget(t(a)(c)),c._register(c._editor.onDidChangeModelContent((function(e){var t=c._editor.getModel();(1!==c.state.type||!t||c.state.editorPosition.lineNumber>=t.getLineCount())&&c.hide()}))),x.Gesture.ignoreTarget(c._domNode),c._register(p.addStandardDisposableGenericMouseDownListner(c._domNode,(function(e){if(1===c.state.type){c._editor.focus(),e.preventDefault();var t=p.getDomNodePagePosition(c._domNode),n=t.top,r=t.height,i=c._editor.getOption(57),o=Math.floor(i/3);null!==c.state.widgetPosition.position&&c.state.widgetPosition.position.lineNumber<c.state.editorPosition.lineNumber&&(o+=i),c._onClick.fire({x:e.posx,y:n+r+o,actions:c.state.actions,trigger:c.state.trigger})}}))),c._register(p.addDisposableListener(c._domNode,"mouseenter",(function(e){if(1==(1&e.buttons)){c.hide();var t=new(0,g.GlobalMouseMoveMonitor);t.startMonitoring(e.target,e.buttons,g.standardMouseMoveMerger,(function(){}),(function(){t.dispose()}))}}))),c._register(c._editor.onDidChangeConfiguration((function(e){e.hasChanged(55)&&!c._editor.getOption(55).enabled&&c.hide()}))),c._updateLightBulbTitleAndIcon(),c._register(c._keybindingService.onDidUpdateKeybindings(c._updateLightBulbTitleAndIcon,t(a)(c))),c}return t(l)(r,[{key:"dispose",value:function(){t(u)(t(c)(r.prototype),"dispose",this).call(this),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"LightBulbWidget"}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return 1===this._state.type?this._state.widgetPosition:null}},{key:"update",value:function(e,t,n){var o=this;if(e.validActions.length<=0)return this.hide();var a=this._editor.getOptions();if(!a.get(55).enabled)return this.hide();var s=this._editor.getModel();if(!s)return this.hide();var l=s.validatePosition(n),u=l.lineNumber,c=l.column,d=s.getOptions().tabSize,h=a.get(41),f=s.getLineContent(u),p=y.TextModel.computeIndentLevel(f,d),g=function(e){return e>2&&o._editor.getTopForLineNumber(e)===o._editor.getTopForLineNumber(e-1)},v=u;if(!(h.spaceWidth*p>22))if(u>1&&!g(u-1))v-=1;else if(g(u+1)){if(c*h.spaceWidth<22)return this.hide()}else v+=1;this.state=new i.Showing(e,t,n,{position:{lineNumber:v,column:1},preference:r._posPref}),this._editor.layoutContentWidget(this)}},{key:"hide",value:function(){this.state=i.Hidden,this._editor.layoutContentWidget(this)}},{key:"state",get:function(){return this._state},set:function(e){this._state=e,this._updateLightBulbTitleAndIcon()}},{key:"_updateLightBulbTitleAndIcon",value:function(){var e,n;if(1===this.state.type&&this.state.actions.hasAutoFix){var r,i;(r=this._domNode.classList).remove.apply(r,t(h)(w.Codicon.lightBulb.classNamesArray)),(i=this._domNode.classList).add.apply(i,t(h)(w.Codicon.lightbulbAutofix.classNamesArray));var o=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(o)return void(this.title=b.localize("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",o.getLabel()))}(e=this._domNode.classList).remove.apply(e,t(h)(w.Codicon.lightbulbAutofix.classNamesArray)),(n=this._domNode.classList).add.apply(n,t(h)(w.Codicon.lightBulb.classNamesArray));var a=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=a?b.localize("quickFixWithKb","Show Fixes ({0})",a.getLabel()):b.localize("quickFix","Show Fixes")}},{key:"title",set:function(e){this._domNode.title=e}}]),r}(m.Disposable);D._posPref=[0],D=S([E(3,_.IKeybindingService)],D),(0,k.registerThemingParticipant)((function(e,t){var n,r=null===(n=e.getColor(C.editorBackground))||void 0===n?void 0:n.transparent(.7),i=e.getColor(C.editorLightBulbForeground);i&&t.addRule("\n\t\t.monaco-editor .contentWidgets ".concat(w.Codicon.lightBulb.cssSelector," {\n\t\t\tcolor: ").concat(i,";\n\t\t\tbackground-color: ").concat(r,";\n\t\t}"));var o=e.getColor(C.editorLightBulbAutoFixForeground);o&&t.addRule("\n\t\t.monaco-editor .contentWidgets ".concat(w.Codicon.lightbulbAutofix.cssSelector," {\n\t\t\tcolor: ").concat(o,";\n\t\t\tbackground-color: ").concat(r,";\n\t\t}"))}))})),o.register("4l2BQ",(function(n,r){e(n.exports,"SUPPORTED_CODE_ACTIONS",(function(){return D}),(function(e){return D=e})),e(n.exports,"CodeActionModel",(function(){return L}),(function(e){return L=e}));var i,a,s=o("bETlW"),l=o("fZTNQ"),u=o("j7KTJ"),c=o("k0Xaj"),d=o("5464t"),h=o("hgtn2"),f=o("hFMTy"),p=o("aV5UR"),g=o("1xRRx"),v=o("9yDnc"),m=o("4YObi"),y=o("glSIC"),b=o("5Z1yh"),_=o("Og1nm"),k=o("aQzpN"),C=o("6x2MV"),x=o("5rgie"),w=o("hdReq"),S=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},E=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},D=new(0,C.RawContextKey)("supportedCodeAction",""),I=function(e){"use strict";t(h)(r,e);var n=t(p)(r);function r(e,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:250;return t(l)(this,r),(a=n.call(this))._editor=e,a._markerService=i,a._signalChange=o,a._delay=s,a._autoTriggerTimer=a._register(new(0,g.TimeoutTimer)),a._register(a._markerService.onMarkerChanged((function(e){return a._onMarkerChanges(e)}))),a._register(a._editor.onDidChangeCursorPosition((function(){return a._onCursorChange()}))),a}return t(u)(r,[{key:"trigger",value:function(e){var t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}},{key:"_onMarkerChanges",value:function(e){var t=this,n=this._editor.getModel();n&&e.some((function(e){return(0,b.isEqual)(e,n.uri)}))&&this._autoTriggerTimer.cancelAndSet((function(){t.trigger({type:2})}),this._delay)}},{key:"_onCursorChange",value:function(){var e=this;this._autoTriggerTimer.cancelAndSet((function(){e.trigger({type:2})}),this._delay)}},{key:"_getRangeOfMarker",value:function(e){var t=this._editor.getModel();if(t){var n=!0,r=!1,i=void 0;try{for(var o,a=this._markerService.read({resource:t.uri})[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=t.validateRange(s);if(_.Range.intersectRanges(l,e))return _.Range.lift(l)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},{key:"_getRangeOfSelectionUnlessWhitespaceEnclosed",value:function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&2===e.type){var r=n.getPosition(),i=r.lineNumber,o=r.column,a=t.getLineContent(i);if(0===a.length)return;if(1===o){if(/\s/.test(a[0]))return}else if(o===t.getLineMaxColumn(i)){if(/\s/.test(a[a.length-1]))return}else if(/\s/.test(a[o-2])&&/\s/.test(a[o-1]))return}return n}}},{key:"_createEventAndSignalChange",value:function(e,t){var n=this._editor.getModel();if(t&&n){var r=this._getRangeOfMarker(t),i=r?r.getStartPosition():t.getStartPosition(),o={trigger:e,selection:t,position:i};return this._signalChange(o),o}this._signalChange(void 0)}}]),r}(y.Disposable);!function(e){e.Empty={type:0};var n=function(){"use strict";function e(n,r,i,o){t(l)(this,e),this.trigger=n,this.rangeOrSelection=r,this.position=i,this._cancellablePromise=o,this.type=1,this.actions=o.catch((function(e){if((0,v.isPromiseCanceledError)(e))return R;throw e}))}return t(u)(e,[{key:"cancel",value:function(){this._cancellablePromise.cancel()}}]),e}();e.Triggered=n}(a||(a={}));var R={allActions:[],validActions:[],dispose:function(){},documentation:[],hasAutoFix:!1},L=function(e){"use strict";t(h)(r,e);var n=t(p)(r);function r(e,o,u,c){var d;return t(l)(this,r),(d=n.call(this))._editor=e,d._markerService=o,d._progressService=c,d._codeActionOracle=d._register(new(0,y.MutableDisposable)),d._state=a.Empty,d._onDidChangeState=d._register(new(0,m.Emitter)),d.onDidChangeState=d._onDidChangeState.event,i.set(t(s)(d),!1),d._supportedCodeActions=D.bindTo(u),d._register(d._editor.onDidChangeModel((function(){return d._update()}))),d._register(d._editor.onDidChangeModelLanguage((function(){return d._update()}))),d._register(k.CodeActionProviderRegistry.onDidChange((function(){return d._update()}))),d._update(),d}return t(u)(r,[{key:"dispose",value:function(){S(this,i,"f")||(E(this,i,!0,"f"),t(c)(t(d)(r.prototype),"dispose",this).call(this),this.setState(a.Empty,!0))}},{key:"_update",value:function(){if(!S(this,i,"f")){this._codeActionOracle.value=void 0,this.setState(a.Empty);var e=this._editor.getModel();if(e&&k.CodeActionProviderRegistry.has(e)&&!this._editor.getOption(79)){var n,r=this,o=[],s=!0,l=!1,u=void 0;try{for(var c,d=k.CodeActionProviderRegistry.all(e)[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;Array.isArray(h.providedCodeActionKinds)&&(n=o).push.apply(n,t(f)(h.providedCodeActionKinds))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}this._supportedCodeActions.set(o.join(" ")),this._codeActionOracle.value=new I(this._editor,this._markerService,(function(t){var n;if(t){var i=(0,g.createCancelablePromise)((function(n){return(0,w.getCodeActions)(e,t.selection,t.trigger,x.Progress.None,n)}));1===t.trigger.type&&(null===(n=r._progressService)||void 0===n||n.showWhile(i,250)),r.setState(new a.Triggered(t.trigger,t.selection,t.position,i))}else r.setState(a.Empty)}),void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}}},{key:"trigger",value:function(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}},{key:"setState",value:function(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||S(this,i,"f")||this._onDidChangeState.fire(e))}}]),r}(y.Disposable);i=new WeakMap})),o.register("3Vm83",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("hFMTy"),l=o("aV5UR"),u=o("4GLgu"),c=o("1xRRx"),d=o("9yDnc"),h=o("glSIC"),f=o("jhpae"),p=o("kT6fp"),g=o("aQzpN"),v=o("i96WG"),m=o("3xM51"),y=o("1Ms2U"),b=o("ds0Oh"),_=o("dfmZ3"),k=o("i3Iko"),C=o("6RAX7"),x=o("kghYv"),w=o("dKkCN"),S=o("7Zg88"),E=o("1b7cd"),D=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){return function(n,r){t(n,r,e)}},R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},L=function(){"use strict";function e(n,i,o,a){var s=this;t(r)(this,e),this._editor=n,this._commandService=i,this._notificationService=o,this._codeLensCache=a,this._disposables=new(0,h.DisposableStore),this._localToDispose=new(0,h.DisposableStore),this._lenses=[],this._getCodeLensModelDelays=new(0,E.LanguageFeatureRequestDelays)(g.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new(0,h.DisposableStore),this._resolveCodeLensesDelays=new(0,E.LanguageFeatureRequestDelays)(g.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new(0,c.RunOnceScheduler)((function(){return s._resolveCodeLensesInViewport()}),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel((function(){return s._onModelChange()}))),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){return s._onModelChange()}))),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){(e.hasChanged(41)||e.hasChanged(14)||e.hasChanged(13))&&s._updateLensStyle(),e.hasChanged(12)&&s._onModelChange()}))),this._disposables.add(g.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,C.hash)(this._editor.getId()).toString(16),this._styleElement=k.createStyleSheet(k.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}return t(i)(e,[{key:"dispose",value:function(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}},{key:"_getLayoutInfo",value:function(){var e,t=this._editor.getOption(14);return!t||t<5?(t=.9*this._editor.getOption(43)|0,e=this._editor.getOption(57)):e=t*Math.max(1.3,this._editor.getOption(57)/this._editor.getOption(43))|0,{codeLensHeight:e,fontSize:t}}},{key:"_updateLensStyle",value:function(){var e=this,t=this._getLayoutInfo(),n=t.codeLensHeight,r=t.fontSize,i=this._editor.getOption(13),o=this._editor.getOption(41),a="--codelens-font-family".concat(this._styleClassName),s="--codelens-font-features".concat(this._styleClassName),l="\n\t\t.monaco-editor .codelens-decoration.".concat(this._styleClassName," { line-height: ").concat(n,"px; font-size: ").concat(r,"px; padding-right: ").concat(Math.round(.5*r),"px; font-feature-settings: var(").concat(s,") }\n\t\t.monaco-editor .codelens-decoration.").concat(this._styleClassName," span.codicon { line-height: ").concat(n,"px; font-size: ").concat(r,"px; }\n\t\t");i&&(l+=".monaco-editor .codelens-decoration.".concat(this._styleClassName," { font-family: var(").concat(a,")}")),this._styleElement.textContent=l,this._editor.getContainerDomNode().style.setProperty(a,null!=i?i:"inherit"),this._editor.getContainerDomNode().style.setProperty(s,o.fontFeatureSettings),this._editor.changeViewZones((function(t){var r=!0,i=!1,o=void 0;try{for(var a,s=e._lenses[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.updateHeight(n,t)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}))}},{key:"_localDispose",value:function(){var e,t,n;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(n=this._currentCodeLensModel)||void 0===n||n.dispose()}},{key:"_onModelChange",value:function(){var e=this;this._localDispose();var n=this._editor.getModel();if(n&&this._editor.getOption(12)){var r=this._codeLensCache.get(n);if(r&&this._renderCodeLensSymbols(r),g.CodeLensProviderRegistry.has(n)){var i=!0,o=!1,a=void 0;try{for(var l,u=g.CodeLensProviderRegistry.all(n)[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var p=l.value;if("function"==typeof p.onDidChange){var y=p.onDidChange((function(){return b.schedule()}));this._localToDispose.add(y)}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var b=new(0,c.RunOnceScheduler)((function(){var t,r=e,i=Date.now();null===(t=e._getCodeLensModelPromise)||void 0===t||t.cancel(),e._getCodeLensModelPromise=(0,c.createCancelablePromise)((function(e){return(0,v.getCodeLensModel)(n,e)})),e._getCodeLensModelPromise.then((function(e){r._currentCodeLensModel&&r._oldCodeLensModels.add(r._currentCodeLensModel),r._currentCodeLensModel=e,r._codeLensCache.put(n,e);var t=r._getCodeLensModelDelays.update(n,Date.now()-i);b.delay=t,r._renderCodeLensSymbols(e),r._resolveCodeLensesInViewport()}),d.onUnexpectedError)}),this._getCodeLensModelDelays.get(n));this._localToDispose.add(b),this._localToDispose.add((0,h.toDisposable)((function(){return e._resolveCodeLensesScheduler.cancel()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((function(){var t=e;e._editor.changeDecorations((function(e){var n=t;t._editor.changeViewZones((function(t){var r=n,i=[],o=-1;n._lenses.forEach((function(e){e.isValid()&&o!==e.getLineNumber()?(e.update(t),o=e.getLineNumber()):i.push(e)}));var a=new(0,m.CodeLensHelper);i.forEach((function(e){e.dispose(a,t),r._lenses.splice(r._lenses.indexOf(e),1)})),a.commit(e)}))})),b.schedule()}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((function(){b.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((function(t){t.scrollTopChanged&&e._lenses.length>0&&e._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((function(){e._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add((0,h.toDisposable)((function(){if(e._editor.getModel()){var t=e,n=f.StableEditorScrollState.capture(e._editor);e._editor.changeDecorations((function(e){var n=t;t._editor.changeViewZones((function(t){n._disposeAllLenses(e,t)}))})),n.restore(e._editor)}else e._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((function(n){if(9===n.target.type){var r=n.target.element;"SPAN"===(null==r?void 0:r.tagName)&&(r=r.parentElement);var i=!0,o=!1,a=void 0;if("A"===(null==r?void 0:r.tagName))try{for(var l,u=e._lenses[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value.getCommand(r);if(c){var d,h=e;(d=e._commandService).executeCommand.apply(d,[c.id].concat(t(s)(c.arguments||[]))).catch((function(e){return h._notificationService.error(e)}));break}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}}))),b.schedule()}else{var _=this;r&&this._localToDispose.add((0,c.disposableTimeout)((function(){var e=_._codeLensCache.get(n);r===e&&(_._codeLensCache.delete(n),_._onModelChange())}),3e4))}}}},{key:"_disposeAllLenses",value:function(e,t){var n=new(0,m.CodeLensHelper),r=!0,i=!1,o=void 0;try{for(var a,s=this._lenses[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.dispose(n,t)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}e&&n.commit(e),this._lenses.length=0}},{key:"_renderCodeLensSymbols",value:function(e){var t=this;if(this._editor.hasModel()){var n,r=this._editor.getModel().getLineCount(),i=[],o=!0,a=!1,s=void 0;try{for(var l,u=e.lenses[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=c.symbol.range.startLineNumber;d<1||d>r||(n&&n[n.length-1].symbol.range.startLineNumber===d?n.push(c):(n=[c],i.push(n)))}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var h=f.StableEditorScrollState.capture(this._editor),p=this._getLayoutInfo();this._editor.changeDecorations((function(e){var n=t;t._editor.changeViewZones((function(t){for(var r=new(0,m.CodeLensHelper),o=0,a=0;a<i.length&&o<n._lenses.length;){var s=i[a][0].symbol.range.startLineNumber,l=n._lenses[o].getLineNumber();if(l<s)n._lenses[o].dispose(r,t),n._lenses.splice(o,1);else if(l===s)n._lenses[o].updateCodeLensSymbols(i[a],r),a++,o++;else{var u=n;n._lenses.splice(o,0,new(0,m.CodeLensWidget)(i[a],n._editor,n._styleClassName,r,t,p.codeLensHeight,(function(){return u._resolveCodeLensesInViewportSoon()}))),o++,a++}}for(;o<n._lenses.length;)n._lenses[o].dispose(r,t),n._lenses.splice(o,1);for(;a<i.length;){var c=n;n._lenses.push(new(0,m.CodeLensWidget)(i[a],n._editor,n._styleClassName,r,t,p.codeLensHeight,(function(){return c._resolveCodeLensesInViewportSoon()}))),a++}r.commit(e)}))})),h.restore(this._editor)}}},{key:"_resolveCodeLensesInViewportSoon",value:function(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}},{key:"_resolveCodeLensesInViewport",value:function(){var e,t=this;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;var n=this._editor.getModel();if(n){var r=[],i=[];if(this._lenses.forEach((function(e){var t=e.computeIfNecessary(n);t&&(r.push(t),i.push(e))})),0!==r.length){var o=Date.now(),a=(0,c.createCancelablePromise)((function(e){var t=r.map((function(t,r){var o=new Array(t.length),a=t.map((function(t,r){return t.symbol.command||"function"!=typeof t.provider.resolveCodeLens?(o[r]=t.symbol,Promise.resolve(void 0)):Promise.resolve(t.provider.resolveCodeLens(n,t.symbol,e)).then((function(e){o[r]=e}),d.onUnexpectedExternalError)}));return Promise.all(a).then((function(){e.isCancellationRequested||i[r].isDisposed()||i[r].updateCommands(o)}))}));return Promise.all(t)}));this._resolveCodeLensesPromise=a,this._resolveCodeLensesPromise.then((function(){var e=t._resolveCodeLensesDelays.update(n,Date.now()-o);t._resolveCodeLensesScheduler.delay=e,t._currentCodeLensModel&&t._codeLensCache.put(n,t._currentCodeLensModel),t._oldCodeLensModels.clear(),a===t._resolveCodeLensesPromise&&(t._resolveCodeLensesPromise=void 0)}),(function(e){(0,d.onUnexpectedError)(e),a===t._resolveCodeLensesPromise&&(t._resolveCodeLensesPromise=void 0)}))}}}},{key:"getLenses",value:function(){return this._lenses}}]),e}();L.ID="css.editor.codeLens",L=D([I(1,y.ICommandService),I(2,b.INotificationService),I(3,_.ICodeLensCache)],L),(0,p.registerEditorContribution)(L.ID,L),(0,p.registerEditorAction)(function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"codelens.showLensesInCurrentLine",precondition:S.EditorContextKeys.hasCodeLensProvider,label:(0,w.localize)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}return t(i)(o,[{key:"run",value:function(e,n){return R(this,void 0,void 0,t(u).mark((function r(){var i,o,a,l,c,d,h,f,p,g,v,m,_,k,C,w,S,E,D,I,R;return t(u).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.hasModel()){r.next=2;break}return r.abrupt("return");case 2:i=e.get(x.IQuickInputService),o=e.get(y.ICommandService),a=e.get(b.INotificationService),l=n.getSelection().positionLineNumber,c=n.getContribution(L.ID),d=[],h=!0,f=!1,p=void 0,r.prev=9,g=c.getLenses()[Symbol.iterator]();case 11:if(h=(v=g.next()).done){r.next=34;break}if(m=v.value,_=!0,k=!1,C=void 0,m.getLineNumber()!==l){r.next=31;break}for(r.prev=15,w=m.getItems()[Symbol.iterator]();!(_=(S=w.next()).done);_=!0)E=S.value,(D=E.symbol.command)&&d.push({label:D.title,command:D});r.next=23;break;case 19:r.prev=19,r.t0=r.catch(15),k=!0,C=r.t0;case 23:r.prev=23,r.prev=24,_||null==w.return||w.return();case 26:if(r.prev=26,!k){r.next=29;break}throw C;case 29:return r.finish(26);case 30:return r.finish(23);case 31:h=!0,r.next=11;break;case 34:r.next=40;break;case 36:r.prev=36,r.t1=r.catch(9),f=!0,p=r.t1;case 40:r.prev=40,r.prev=41,h||null==g.return||g.return();case 43:if(r.prev=43,!f){r.next=46;break}throw p;case 46:return r.finish(43);case 47:return r.finish(40);case 48:if(0!==d.length){r.next=50;break}return r.abrupt("return");case 50:return r.next=52,i.pick(d,{canPickMany:!1});case 52:if(I=r.sent){r.next=55;break}return r.abrupt("return");case 55:return r.prev=55,r.next=59,(R=o).executeCommand.apply(R,[I.command.id].concat(t(s)(I.command.arguments||[])));case 59:r.next=64;break;case 61:r.prev=61,r.t2=r.catch(55),a.error(r.t2);case 64:case"end":return r.stop()}}),r,null,[[9,36,40,48],[15,19,23,31],[24,,26,30],[41,,43,47],[55,61]])})))}}]),o}(p.EditorAction))})),o.register("i96WG",(function(n,r){e(n.exports,"CodeLensModel",(function(){return y}),(function(e){return y=e})),e(n.exports,"getCodeLensModel",(function(){return b}),(function(e){return b=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("4GLgu"),u=o("7C9Vb"),c=o("9yDnc"),d=o("bErzw"),h=o("aQzpN"),f=o("8nQ63"),p=o("glSIC"),g=o("1Ms2U"),v=o("2lfWM"),m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},y=function(){"use strict";function e(){t(i)(this,e),this.lenses=[],this._disposables=new(0,p.DisposableStore)}return t(a)(e,[{key:"dispose",value:function(){this._disposables.dispose()}},{key:"add",value:function(e,t){this._disposables.add(e);var n=!0,r=!1,i=void 0;try{for(var o,a=e.lenses[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.lenses.push({symbol:s,provider:t})}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}]),e}();function b(e,n){return m(this,void 0,void 0,t(l).mark((function r(){var i,o,a,s,u;return t(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=this,o=h.CodeLensProviderRegistry.ordered(e),a=new Map,s=new y,u=o.map((function(r,o){return m(i,void 0,void 0,t(l).mark((function i(){var u;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.set(r,o),t.prev=1,t.next=4,Promise.resolve(r.provideCodeLenses(e,n));case 4:(u=t.sent)&&s.add(u,r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),(0,c.onUnexpectedExternalError)(t.t0);case 11:case"end":return t.stop()}}),i,null,[[1,8]])})))})),r.next=7,Promise.all(u);case 7:return s.lenses=s.lenses.sort((function(e,t){return e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:a.get(e.provider)<a.get(t.provider)?-1:a.get(e.provider)>a.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0})),r.abrupt("return",s);case 9:case"end":return r.stop()}}),r,this)})))}g.CommandsRegistry.registerCommand("_executeCodeLensProvider",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t(s)(r,2),a=o[0],l=o[1];(0,v.assertType)(d.URI.isUri(a)),(0,v.assertType)("number"==typeof l||!l);var h=e.get(f.IModelService).getModel(a);if(!h)throw(0,c.illegalArgument)();var g=[],m=new(0,p.DisposableStore);return b(h,u.CancellationToken.None).then((function(e){m.add(e);var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=function(e,n){var r=n.value;null==l||Boolean(r.symbol.command)?g.push(r.symbol):l-- >0&&r.provider.resolveCodeLens&&t.push(Promise.resolve(r.provider.resolveCodeLens(h,r.symbol,u.CancellationToken.None)).then((function(e){return g.push(e||r.symbol)})))},s=e.lenses[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a(0,o)}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return Promise.all(t)})).then((function(){return g})).finally((function(){setTimeout((function(){return m.dispose()}),100)}))}))})),o.register("3xM51",(function(n,r){e(n.exports,"CodeLensHelper",(function(){return m})),e(n.exports,"CodeLensWidget",(function(){return y}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hFMTy"),l=o("i3Iko"),u=o("Og1nm"),c=o("3bY1c"),d=o("kxsLz"),h=o("eZPXr"),f=o("4qRit"),p=o("lywCL"),g=function(){"use strict";function e(n,r,o){t(i)(this,e),this.afterLineNumber=n,this.heightInPx=r,this._onHeight=o,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return t(a)(e,[{key:"onComputedHeight",value:function(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}}]),e}(),v=function(){"use strict";function e(n,r,o){t(i)(this,e),this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id="codelens.widget-".concat(e._idPool++),this.updatePosition(o),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration ".concat(r)}return t(a)(e,[{key:"withCommands",value:function(e,n){this._commands.clear();for(var r,i=[],o=!1,a=0;a<e.length;a++){var u=e[a];if(u&&(o=!0,u.command)){var c,d,h=(0,p.renderLabelWithIcons)(u.command.title.trim());if(u.command.id)i.push((d=l).$.apply(d,["a",{id:String(a),title:u.command.tooltip}].concat(t(s)(h)))),this._commands.set(String(a),u.command);else i.push((c=l).$.apply(c,["span",{title:u.command.tooltip}].concat(t(s)(h))));a+1<e.length&&i.push(l.$("span",void 0," | "))}}o?((r=l).reset.apply(r,[this._domNode].concat(t(s)(i))),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):l.reset(this._domNode,l.$("span",void 0,"no commands"))}},{key:"getCommand",value:function(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}},{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"updatePosition",value:function(e){var t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}},{key:"getPosition",value:function(){return this._widgetPosition||null}}]),e}();v._idPool=0;var m=function(){"use strict";function e(){t(i)(this,e),this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return t(a)(e,[{key:"addDecoration",value:function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}},{key:"removeDecoration",value:function(e){this._removeDecorations.push(e)}},{key:"commit",value:function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),n=0,r=t.length;n<r;n++)this._addDecorationsCallbacks[n](t[n])}}]),e}(),y=function(){"use strict";function e(n,r,o,a,s,l,d){var h,f=this;t(i)(this,e),this._isDisposed=!1,this._editor=r,this._className=o,this._data=n,this._decorationIds=[];var p=[];this._data.forEach((function(e,t){var n=f;e.symbol.command&&p.push(e.symbol),a.addDecoration({range:e.symbol.range,options:c.ModelDecorationOptions.EMPTY},(function(e){return n._decorationIds[t]=e})),h=h?u.Range.plusRange(h,e.symbol.range):u.Range.lift(e.symbol.range)})),this._viewZone=new g(h.startLineNumber-1,l,d),this._viewZoneId=s.addZone(this._viewZone),p.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(p,!1))}return t(a)(e,[{key:"_createContentWidgetIfNecessary",value:function(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new v(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}},{key:"dispose",value:function(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}},{key:"isDisposed",value:function(){return this._isDisposed}},{key:"isValid",value:function(){var e=this;return this._decorationIds.some((function(t,n){var r=e._editor.getModel().getDecorationRange(t),i=e._data[n].symbol;return!(!r||u.Range.isEmpty(i.range)!==r.isEmpty())}))}},{key:"updateCodeLensSymbols",value:function(e,t){var n=this;this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((function(e,r){var i=n;t.addDecoration({range:e.symbol.range,options:c.ModelDecorationOptions.EMPTY},(function(e){return i._decorationIds[r]=e}))}))}},{key:"updateHeight",value:function(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}},{key:"computeIfNecessary",value:function(e){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(var t=0;t<this._decorationIds.length;t++){var n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}},{key:"updateCommands",value:function(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(var t=0;t<this._data.length;t++){var n=e[t];if(n){var r=this._data[t].symbol;r.command=n.command||r.command}}}},{key:"getCommand",value:function(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}},{key:"getLineNumber",value:function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}},{key:"update",value:function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}},{key:"getItems",value:function(){return this._data}}]),e}();(0,f.registerThemingParticipant)((function(e,t){var n=e.getColor(d.editorCodeLensForeground);n&&(t.addRule(".monaco-editor .codelens-decoration { color: ".concat(n,"; }")),t.addRule(".monaco-editor .codelens-decoration .codicon { color: ".concat(n,"; }")));var r=e.getColor(h.editorActiveLinkForeground);r&&(t.addRule(".monaco-editor .codelens-decoration > a:hover { color: ".concat(r," !important; }")),t.addRule(".monaco-editor .codelens-decoration > a:hover .codicon { color: ".concat(r," !important; }")))}))})),o.register("dfmZ3",(function(n,r){e(n.exports,"ICodeLensCache",(function(){return b}),(function(e){return b=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("hFMTy"),u=o("e1Jmh"),c=o("lM5Mj"),d=o("i96WG"),h=o("7K1Ci"),f=o("91bq0"),p=o("Og1nm"),g=o("1xRRx"),v=o("cHQVD"),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},b=(0,u.createDecorator)("ICodeLensCache"),_=function e(n,r){"use strict";t(i)(this,e),this.lineCount=n,this.data=r},k=function(){"use strict";function e(n){var r=this;t(i)(this,e),this._fakeProvider=new(function(){function e(){t(i)(this,e)}return t(a)(e,[{key:"provideCodeLenses",value:function(){throw new Error("not supported")}}]),e}()),this._cache=new(0,h.LRUCache)(20,.75);(0,g.runWhenIdle)((function(){return n.remove("codelens/cache",1)}));var o="codelens/cache2",s=n.get(o,1,"{}");this._deserialize(s),(0,v.once)(n.onWillSaveState)((function(e){e.reason===f.WillSaveStateReason.SHUTDOWN&&n.store(o,r._serialize(),1,1)}))}return t(a)(e,[{key:"put",value:function(e,t){var n=t.lenses.map((function(e){var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),r=new(0,d.CodeLensModel);r.add({lenses:n,dispose:function(){}},this._fakeProvider);var i=new _(e.getLineCount(),r);this._cache.set(e.uri.toString(),i)}},{key:"get",value:function(e){var t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}},{key:"delete",value:function(e){this._cache.delete(e.uri.toString())}},{key:"_serialize",value:function(){var e=Object.create(null),n=!0,r=!1,i=void 0;try{for(var o,a=this._cache[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=t(s)(o.value,2),c=u[0],d=u[1],h=new Set,f=!0,p=!1,g=void 0;try{for(var v,m=d.data.lenses[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var y=v.value;h.add(y.symbol.range.startLineNumber)}}catch(e){p=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(p)throw g}}e[c]={lineCount:d.lineCount,lines:t(l)(h.values())}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return JSON.stringify(e)}},{key:"_deserialize",value:function(e){try{var t=JSON.parse(e);for(var n in t){var r=t[n],i=[],o=!0,a=!1,s=void 0;try{for(var l,u=r.lines[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i.push({range:new(0,p.Range)(c,1,c,11)})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var h=new(0,d.CodeLensModel);h.add({lenses:i,dispose:function(){}},this._fakeProvider),this._cache.set(n,new _(r.lineCount,h))}}catch(e){}}}]),e}();k=m([y(0,f.IStorageService)],k),(0,c.registerSingleton)(b,k)})),o.register("ksi5V",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("k0Xaj"),s=o("5464t"),l=o("hgtn2"),u=o("hFMTy"),c=o("aV5UR");o("72MC1");var d=o("glSIC"),h=o("kT6fp"),f=o("147yA"),p=o("Og1nm"),g=function(e){"use strict";t(l)(o,e);var n=t(c)(o);function o(e){var i;return t(r)(this,o),(i=n.call(this))._editor=e,i._register(e.onMouseDown((function(e){return i.onMouseDown(e)}))),i}return t(i)(o,[{key:"dispose",value:function(){t(a)(t(s)(o.prototype),"dispose",this).call(this)}},{key:"onMouseDown",value:function(e){var n;if(6===e.target.type&&(t(u)((null===(n=e.target.element)||void 0===n?void 0:n.classList.values())||[]).find((function(e){return e.startsWith("ced-colorBox")}))&&e.target.range)){var r=this._editor.getContribution(f.ModesHoverController.ID);if(!r.isColorPickerVisible()){var i=new(0,p.Range)(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1);r.showContentHover(i,0,!1)}}}}]),o}(d.Disposable);g.ID="editor.contrib.colorContribution",(0,h.registerEditorContribution)(g.ID,g)})),o.register("72MC1",(function(n,r){e(n.exports,"ColorDetector",(function(){return S}),(function(e){return S=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("aV5UR"),d=o("1xRRx"),h=o("3bv5f"),f=o("9yDnc"),p=o("6RAX7"),g=o("glSIC"),v=o("kT6fp"),m=o("flIZY"),y=o("Og1nm"),b=o("3bY1c"),_=o("aQzpN"),k=o("jfPgk"),C=o("8KoBX"),x=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},w=function(e,t){return function(n,r){t(n,r,e)}},S=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,o,a){var s;return t(i)(this,r),(s=n.call(this))._editor=e,s._codeEditorService=o,s._configurationService=a,s._localToDispose=s._register(new(0,g.DisposableStore)),s._decorationsIds=[],s._colorDatas=new Map,s._colorDecoratorIds=[],s._decorationsTypes=new Set,s._register(e.onDidChangeModel((function(){s._isEnabled=s.isEnabled(),s.onModelChanged()}))),s._register(e.onDidChangeModelLanguage((function(){return s.onModelChanged()}))),s._register(_.ColorProviderRegistry.onDidChange((function(){return s.onModelChanged()}))),s._register(e.onDidChangeConfiguration((function(){var e=s._isEnabled;s._isEnabled=s.isEnabled(),e!==s._isEnabled&&(s._isEnabled?s.onModelChanged():s.removeAllDecorations())}))),s._timeoutTimer=null,s._computePromise=null,s._isEnabled=s.isEnabled(),s.onModelChanged(),s}return t(a)(r,[{key:"isEnabled",value:function(){var e=this._editor.getModel();if(!e)return!1;var t=e.getLanguageIdentifier(),n=this._configurationService.getValue(t.language);if(n&&"object"==typeof n){var r=n.colorDecorators;if(r&&void 0!==r.enable&&!r.enable)return r.enable}return this._editor.getOption(15)}},{key:"dispose",value:function(){this.stop(),this.removeAllDecorations(),t(s)(t(l)(r.prototype),"dispose",this).call(this)}},{key:"onModelChanged",value:function(){var e=this;if(this.stop(),this._isEnabled){var t=this._editor.getModel();t&&_.ColorProviderRegistry.has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((function(){if(!e._timeoutTimer){var t=e;e._timeoutTimer=new(0,d.TimeoutTimer),e._timeoutTimer.cancelAndSet((function(){t._timeoutTimer=null,t.beginCompute()}),r.RECOMPUTE_TIME)}}))),this.beginCompute())}}},{key:"beginCompute",value:function(){var e=this;this._computePromise=(0,d.createCancelablePromise)((function(t){var n=e._editor.getModel();return n?(0,k.getColors)(n,t):Promise.resolve([])})),this._computePromise.then((function(t){e.updateDecorations(t),e.updateColorDecorators(t),e._computePromise=null}),f.onUnexpectedError)}},{key:"stop",value:function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}},{key:"updateDecorations",value:function(e){var t=this,n=e.map((function(e){return{range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:b.ModelDecorationOptions.EMPTY}}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,n),this._colorDatas=new Map,this._decorationsIds.forEach((function(n,r){return t._colorDatas.set(n,e[r])}))}},{key:"updateColorDecorators",value:function(e){for(var t=this,n=[],r={},i=0;i<e.length&&n.length<500;i++){var o=e[i].colorInfo.color,a=o.red,s=o.green,l=o.blue,u=o.alpha,c=new(0,h.RGBA)(Math.round(255*a),Math.round(255*s),Math.round(255*l),u),d=(0,p.hash)("rgba(".concat(c.r,",").concat(c.g,",").concat(c.b,",").concat(c.a,")")).toString(16),f="rgba(".concat(c.r,", ").concat(c.g,", ").concat(c.b,", ").concat(c.a,")"),g="colorBox-"+d;this._decorationsTypes.has(g)||r[g]||this._codeEditorService.registerDecorationType("color-detector-color",g,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:f},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),r[g]=!0,n.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(g,!0)})}this._decorationsTypes.forEach((function(e){r[e]||t._codeEditorService.removeDecorationType(e)})),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,n)}},{key:"removeAllDecorations",value:function(){var e=this;this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach((function(t){e._codeEditorService.removeDecorationType(t)}))}},{key:"getColorData",value:function(e){var t=this,n=this._editor.getModel();if(!n)return null;var r=n.getDecorationsInRange(y.Range.fromPositions(e,e)).filter((function(e){return t._colorDatas.has(e.id)}));return 0===r.length?null:this._colorDatas.get(r[0].id)}}],[{key:"get",value:function(e){return e.getContribution(this.ID)}}]),r}(g.Disposable);S.ID="editor.contrib.colorDetector",S.RECOMPUTE_TIME=1e3,S=x([w(1,m.ICodeEditorService),w(2,C.IConfigurationService)],S),(0,v.registerEditorContribution)(S.ID,S)})),o.register("jfPgk",(function(n,r){e(n.exports,"getColors",(function(){return p})),e(n.exports,"getColorPresentations",(function(){return g}));var i=o("56Cfp"),a=o("hFMTy"),s=o("7C9Vb"),l=o("9yDnc"),u=o("bErzw"),c=o("Og1nm"),d=o("aQzpN"),h=o("8nQ63"),f=o("1Ms2U");function p(e,t){var n=[],r=d.ColorProviderRegistry.ordered(e).reverse().map((function(r){return Promise.resolve(r.provideDocumentColors(e,t)).then((function(e){var t=!0,i=!1,o=void 0;if(Array.isArray(e))try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value;n.push({colorInfo:l,provider:r})}}catch(e){i=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw o}}}))}));return Promise.all(r).then((function(){return n}))}function g(e,t,n,r){return Promise.resolve(n.provideColorPresentations(e,t,r))}f.CommandsRegistry.registerCommand("_executeDocumentColorProvider",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=t(i)(r,1),c=a[0];if(!(c instanceof u.URI))throw(0,l.illegalArgument)();var f=e.get(h.IModelService).getModel(c);if(!f)throw(0,l.illegalArgument)();var p=[],g=d.ColorProviderRegistry.ordered(f).reverse(),v=g.map((function(e){return Promise.resolve(e.provideDocumentColors(f,s.CancellationToken.None)).then((function(e){var t=!0,n=!1,r=void 0;if(Array.isArray(e))try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;p.push({range:a.range,color:[a.color.red,a.color.green,a.color.blue,a.color.alpha]})}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}))}));return Promise.all(v).then((function(){return p}))})),f.CommandsRegistry.registerCommand("_executeColorPresentationProvider",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var f=t(i)(r,2),p=f[0],g=f[1],v=g.uri,m=g.range;if(!(v instanceof u.URI&&Array.isArray(p)&&4===p.length&&c.Range.isIRange(m)))throw(0,l.illegalArgument)();var y=t(i)(p,4),b=y[0],_=y[1],k=y[2],C=y[3],x=e.get(h.IModelService).getModel(v);if(!x)throw(0,l.illegalArgument)();var w={range:m,color:{red:b,green:_,blue:k,alpha:C}},S=[],E=d.ColorProviderRegistry.ordered(x).reverse(),D=E.map((function(e){return Promise.resolve(e.provideColorPresentations(x,w,s.CancellationToken.None)).then((function(e){var n;Array.isArray(e)&&(n=S).push.apply(n,t(a)(e))}))}));return Promise.all(D).then((function(){return S}))}))})),o.register("147yA",(function(n,r){e(n.exports,"ModesHoverController",(function(){return E}),(function(e){return E=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("dKkCN"),c=o("aLDYa"),d=o("glSIC"),h=o("kT6fp"),f=o("Og1nm"),p=o("7Zg88"),g=o("4eQyS"),v=o("bKjmL"),m=o("8oVvA"),y=o("KDpXQ"),b=o("eZPXr"),_=o("4qRit"),k=o("cBNQz"),C=o("6x2MV"),x=o("e1Jmh"),w=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t){return function(n,r){t(n,r,e)}},E=function(){"use strict";function e(n,r,o,a,s){var l=this;t(i)(this,e),this._editor=n,this._instantiationService=r,this._openerService=o,this._modeService=a,this._toUnhook=new(0,d.DisposableStore),this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(51)&&(l._unhookEvents(),l._hookEvents())})),this._hoverVisibleKey=p.EditorContextKeys.hoverVisible.bindTo(s)}return t(a)(e,[{key:"_hookEvents",value:function(){var e=this,t=function(){return e._hideWidgets()},n=this._editor.getOption(51);if(this._isHoverEnabled=n.enabled,this._isHoverSticky=n.sticky,this._isHoverEnabled){var r=this;this._toUnhook.add(this._editor.onMouseDown((function(e){return r._onEditorMouseDown(e)}))),this._toUnhook.add(this._editor.onMouseUp((function(e){return r._onEditorMouseUp(e)}))),this._toUnhook.add(this._editor.onMouseMove((function(e){return r._onEditorMouseMove(e)}))),this._toUnhook.add(this._editor.onKeyDown((function(e){return r._onKeyDown(e)}))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((function(){return r._onModelDecorationsChanged()})))}else{var i=this;this._toUnhook.add(this._editor.onMouseMove((function(e){return i._onEditorMouseMove(e)}))),this._toUnhook.add(this._editor.onKeyDown((function(e){return i._onKeyDown(e)})))}this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onModelDecorationsChanged",value:function(){var e,t;null===(e=this._contentWidget)||void 0===e||e.onModelDecorationsChanged(),null===(t=this._glyphWidget)||void 0===t||t.onModelDecorationsChanged()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){this._isMouseDown=!0;var t=e.target.type;9!==t||e.target.detail!==v.ModesContentHoverWidget.ID?12===t&&e.target.detail===m.ModesGlyphHoverWidget.ID||(12!==t&&e.target.detail!==m.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseMove",value:function(e){var t,n,r,i,o,a=e.target.type;if((!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==a||e.target.detail!==v.ModesContentHoverWidget.ID)&&(!this._isHoverSticky||(null===(n=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.isCollapsed))&&(this._isHoverSticky||9!==a||e.target.detail!==v.ModesContentHoverWidget.ID||!(null===(r=this._contentWidget)||void 0===r?void 0:r.isColorPickerVisible()))&&(!this._isHoverSticky||12!==a||e.target.detail!==m.ModesGlyphHoverWidget.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===a&&e.target.position?(null===(o=this._contentWidget)||void 0===o||o.hide(),this._glyphWidget||(this._glyphWidget=new(0,m.ModesGlyphHoverWidget)(this._editor,this._modeService,this._openerService)),void this._glyphWidget.startShowingAt(e.target.position.lineNumber)):void this._hideWidgets();null===(i=this._glyphWidget)||void 0===i||i.hide()}else this._hideWidgets()}},{key:"_onKeyDown",value:function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}},{key:"_hideWidgets",value:function(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(v.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}},{key:"isColorPickerVisible",value:function(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}},{key:"showContentHover",value:function(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}},{key:"dispose",value:function(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();E.ID="editor.contrib.hover",E=w([S(1,x.IInstantiationService),S(2,y.IOpenerService),S(3,g.IModeService),S(4,C.IContextKeyService)],E);var D=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,{id:"editor.action.showHover",label:u.localize({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,c.KeyChord)(2089,2087),weight:100}})}return t(a)(r,[{key:"run",value:function(e,t){if(t.hasModel()){var n=E.get(t);if(n){var r=t.getPosition(),i=new(0,f.Range)(r.lineNumber,r.column,r.lineNumber,r.column),o=2===t.getOption(2);n.showContentHover(i,1,o)}}}}]),r}(h.EditorAction),I=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,{id:"editor.action.showDefinitionPreviewHover",label:u.localize({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return t(a)(r,[{key:"run",value:function(e,t){var n=E.get(t);if(n){var r=t.getPosition();if(r){var i=new(0,f.Range)(r.lineNumber,r.column,r.lineNumber,r.column);k.GotoDefinitionAtPositionEditorContribution.get(t).startFindDefinitionFromCursor(r).then((function(){n.showContentHover(i,1,!0)}))}}}}]),r}(h.EditorAction);(0,h.registerEditorContribution)(E.ID,E),(0,h.registerEditorAction)(D),(0,h.registerEditorAction)(I),(0,_.registerThemingParticipant)((function(e,t){var n=e.getColor(b.editorHoverHighlight);n&&t.addRule(".monaco-editor .hoverHighlight { background-color: ".concat(n,"; }"));var r=e.getColor(b.editorHoverBackground);r&&t.addRule(".monaco-editor .monaco-hover { background-color: ".concat(r,"; }"));var i=e.getColor(b.editorHoverBorder);i&&(t.addRule(".monaco-editor .monaco-hover { border: 1px solid ".concat(i,"; }")),t.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(i.transparent(.5),"; }")));var o=e.getColor(b.textLinkForeground);o&&t.addRule(".monaco-editor .monaco-hover a { color: ".concat(o,"; }"));var a=e.getColor(b.textLinkActiveForeground);a&&t.addRule(".monaco-editor .monaco-hover a:hover { color: ".concat(a,"; }"));var s=e.getColor(b.editorHoverForeground);s&&t.addRule(".monaco-editor .monaco-hover { color: ".concat(s,"; }"));var l=e.getColor(b.editorHoverStatusBarBackground);l&&t.addRule(".monaco-editor .monaco-hover .hover-row .actions { background-color: ".concat(l,"; }"));var u=e.getColor(b.textCodeBlockBackground);u&&t.addRule(".monaco-editor .monaco-hover code { background-color: ".concat(u,"; }"))}))})),o.register("bKjmL",(function(n,r){e(n.exports,"ModesContentHoverWidget",(function(){return B}),(function(e){return B=e}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("k0Xaj"),u=o("5464t"),c=o("hgtn2"),d=o("56Cfp"),h=o("hFMTy"),f=o("aV5UR"),p=o("4GLgu"),g=o("i3Iko"),v=o("glSIC"),m=o("kaKvC"),y=o("Og1nm"),b=o("3bY1c"),_=o("aQzpN"),k=o("keW5P"),C=o("ddsHh"),x=o("2lK1h"),w=o("6lCiP"),S=o("8WEZK"),E=o("e1Jmh"),D=o("5xW7F"),I=o("hsMI0"),R=o("5QBOC"),L=o("hwMdw"),A=o("93b1r"),M=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,r){t(n,r,e)}},N=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},P=g.$,O=function(e){"use strict";t(c)(r,e);var n=t(f)(r);function r(e){var i;return t(a)(this,r),(i=n.call(this))._keybindingService=e,i._hasContent=!1,i.hoverElement=P("div.hover-row.status-bar"),i.actionsElement=g.append(i.hoverElement,P("div.actions")),i}return t(s)(r,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(e){var t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(w.HoverAction.render(this.actionsElement,e,n))}},{key:"append",value:function(e){var t=g.append(this.actionsElement,e);return this._hasContent=!0,t}}]),r}(v.Disposable);O=M([T(0,L.IKeybindingService)],O);var F=function(){"use strict";function e(n,r){t(a)(this,e),this._participants=r,this._editor=n,this._result=[],this._anchor=null}return t(s)(e,[{key:"setAnchor",value:function(e){this._anchor=e,this._result=[]}},{key:"clearResult",value:function(){this._result=[]}},{key:"computeAsync",value:function(n){return N(this,void 0,void 0,t(p).mark((function r(){var i,o,a,s;return t(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this,o=this._anchor,this._editor.hasModel()&&o){t.next=4;break}return t.abrupt("return",Promise.resolve([]));case 4:return a=e._getLineDecorations(this._editor,o),t.next=7,Promise.all(this._participants.map((function(e){return i._computeAsync(e,a,o,n)})));case 7:return s=t.sent,t.abrupt("return",(0,C.flatten)(s));case 9:case"end":return t.stop()}}),r,this)})))}},{key:"_computeAsync",value:function(e,n,r,i){return N(this,void 0,void 0,t(p).mark((function o(){return t(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.computeAsync){t.next=2;break}return t.abrupt("return",[]);case 2:return t.abrupt("return",e.computeAsync(r,n,i));case 3:case"end":return t.stop()}}),o)})))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var t=e._getLineDecorations(this._editor,this._anchor),n=[],r=!0,i=!1,o=void 0;try{for(var a,s=this._participants[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n=n.concat(l.computeSync(this._anchor,t))}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return(0,C.coalesce)(n)}},{key:"onResult",value:function(e,t){this._result=t?e.concat(this._result):this._result.concat(e)}},{key:"getResult",value:function(){return this._result.slice(0)}},{key:"getResultWithLoadingMessage",value:function(){if(this._anchor){var e=!0,t=!1,n=void 0;try{for(var r,i=this._participants[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;if(o.createLoadingMessage){var a=o.createLoadingMessage(this._anchor);if(a)return this._result.slice(0).concat([a])}}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}return this._result.slice(0)}}],[{key:"_getLineDecorations",value:function(e,t){if(1!==t.type)return[];var n=e.getModel(),r=t.range.startLineNumber,i=n.getLineMaxColumn(r);return e.getLineDecorations(r).filter((function(e){if(e.options.isWholeLine)return!0;var n=e.range.startLineNumber===r?e.range.startColumn:1,o=e.range.endLineNumber===r?e.range.endColumn:i;return!(n>t.range.startColumn||t.range.endColumn>o)}))}}]),e}(),B=function(e){"use strict";t(c)(r,e);var n=t(f)(r);function r(e,o,s,l){var u;return t(a)(this,r),(u=n.call(this))._hoverVisibleKey=o,u._keybindingService=l,u.allowEditorOverflow=!0,u._participants=[s.createInstance(R.ColorHoverParticipant,e,t(i)(u)),s.createInstance(D.MarkdownHoverParticipant,e,t(i)(u)),s.createInstance(I.InlineCompletionsHoverParticipant,e,t(i)(u)),s.createInstance(S.MarkerHoverParticipant,e,t(i)(u))],u._hover=u._register(new(0,w.HoverWidget)),u._id=r.ID,u._editor=e,u._isVisible=!1,u._stoleFocus=!1,u._renderDisposable=null,u.onkeydown(u._hover.containerDomNode,(function(e){e.equals(9)&&u.hide()})),u._register(u._editor.onDidChangeConfiguration((function(e){e.hasChanged(41)&&u._updateFont()}))),u._editor.onDidLayoutChange((function(){return u.layout()})),u.layout(),u._editor.addContentWidget(t(i)(u)),u._showAtPosition=null,u._showAtRange=null,u._stoleFocus=!1,u._messages=[],u._lastAnchor=null,u._computer=new F(u._editor,u._participants),u._highlightDecorations=[],u._isChangingDecorations=!1,u._shouldFocus=!1,u._colorPicker=null,u._hoverOperation=new(0,k.HoverOperation)(u._computer,(function(e){return u._withResult(e,!0)}),null,(function(e){return u._withResult(e,!1)}),u._editor.getOption(51).delay),u._register(g.addStandardDisposableListener(u.getDomNode(),g.EventType.FOCUS,(function(){u._colorPicker&&u.getDomNode().classList.add("colorpicker-hover")}))),u._register(g.addStandardDisposableListener(u.getDomNode(),g.EventType.BLUR,(function(){u.getDomNode().classList.remove("colorpicker-hover")}))),u._register(e.onDidChangeConfiguration((function(){u._hoverOperation.setHoverTime(u._editor.getOption(51).delay)}))),u._register(_.TokenizationRegistry.onDidChange((function(){u._isVisible&&u._lastAnchor&&u._messages.length>0&&(u._hover.contentsDomNode.textContent="",u._renderMessages(u._lastAnchor,u._messages))}))),u}return t(s)(r,[{key:"dispose",value:function(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),t(l)(t(u)(r.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"_shouldShowAt",value:function(e){var t=e.target.type;if(6===t)return!0;if(7===t){var n=this._editor.getOption(41).typicalHalfwidthCharacterWidth/2,r=e.target.detail;if(r&&!r.isAfterLines&&"number"==typeof r.horizontalDistanceToText&&r.horizontalDistanceToText<n)return!0}return!1}},{key:"maybeShowAt",value:function(e){var n,r=[],i=!0,o=!1,a=void 0;try{for(var s,l=this._participants[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if("function"==typeof u.suggestHoverAnchor){var c=u.suggestHoverAnchor(e);c&&r.push(c)}}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}if(this._shouldShowAt(e)&&e.target.range){var d=t(h)((null===(n=e.target.element)||void 0===n?void 0:n.classList.values())||[]).find((function(e){return e.startsWith("ced-colorBox")}))&&e.target.range.endColumn-e.target.range.startColumn==1?new(0,y.Range)(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1):e.target.range;r.push(new(0,A.HoverRangeAnchor)(0,d))}return 0!==r.length&&(r.sort((function(e,t){return t.priority-e.priority})),this._startShowingAt(r[0],0,!1),!0)}},{key:"_showAt",value:function(e,t,n){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=n,n&&this._hover.containerDomNode.focus()}},{key:"getPosition",value:function(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_updateContents",value:function(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}},{key:"layout",value:function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(41),n=t.fontSize,r=t.lineHeight;this._hover.contentsDomNode.style.fontSize="".concat(n,"px"),this._hover.contentsDomNode.style.lineHeight="".concat(r,"px"),this._hover.contentsDomNode.style.maxHeight="".concat(e,"px"),this._hover.contentsDomNode.style.maxWidth="".concat(Math.max(.66*this._editor.getLayoutInfo().width,500),"px")}},{key:"onModelDecorationsChanged",value:function(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}},{key:"startShowingAtRange",value:function(e,t,n){this._startShowingAt(new(0,A.HoverRangeAnchor)(0,e),t,n)}},{key:"_startShowingAt",value:function(e,t,n){if(!this._lastAnchor||!this._lastAnchor.equals(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition&&this._lastAnchor&&e.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition)){var r=this._messages.filter((function(t){return t.isValidForHoverAnchor(e)}));if(0===r.length)this.hide();else{if(r.length===this._messages.length)return;this._renderMessages(e,r)}}else this.hide();this._lastAnchor=e,this._computer.setAnchor(e),this._shouldFocus=n,this._hoverOperation.start(t)}}},{key:"hide",value:function(){if(this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible){var e=this;setTimeout((function(){e._isVisible||e._hoverVisibleKey.set(!1)}),0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()}this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}},{key:"isColorPickerVisible",value:function(){return!!this._colorPicker}},{key:"setColorPicker",value:function(e){this._colorPicker=e}},{key:"onContentsChanged",value:function(){this._hover.onContentsChanged()}},{key:"_withResult",value:function(e,t){this._messages=e,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):t&&this.hide()}},{key:"_renderMessages",value:function(e,n){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;var i=1073741824,o=n[0].range,a=null,s=document.createDocumentFragment(),l=new(0,v.DisposableStore),u=new Map,c=!0,h=!1,f=void 0;try{for(var p,g=n[Symbol.iterator]();!(c=(p=g.next()).done);c=!0){var b=p.value;i=Math.min(i,b.range.startColumn),o=y.Range.plusRange(o,b.range),b.forceShowAtRange&&(a=b.range),u.has(b.owner)||u.set(b.owner,[]),u.get(b.owner).push(b)}}catch(e){h=!0,f=e}finally{try{c||null==g.return||g.return()}finally{if(h)throw f}}var _=l.add(new O(this._keybindingService)),k=!0,C=!1,x=void 0;try{for(var w,S=u[Symbol.iterator]();!(k=(w=S.next()).done);k=!0){var E=t(d)(w.value,2),D=E[0],I=E[1];l.add(D.renderHoverParts(I,s,_))}}catch(e){C=!0,x=e}finally{try{k||null==S.return||S.return()}finally{if(C)throw x}}_.hasContent&&s.appendChild(_.hoverElement),this._renderDisposable=l,s.hasChildNodes()&&(a?this._showAt(a.getStartPosition(),a,this._shouldFocus):this._showAt(new(0,m.Position)(e.range.startLineNumber,i),o,this._shouldFocus),this._updateContents(s)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,o?[{range:o,options:r._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}}]),r}(x.Widget);B.ID="editor.contrib.modesContentHoverWidget",B._DECORATION_OPTIONS=b.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),B=M([T(2,E.IInstantiationService),T(3,L.IKeybindingService)],B)})),o.register("keW5P",(function(n,r){e(n.exports,"HoverOperation",(function(){return u}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("1xRRx"),l=o("9yDnc"),u=function(){"use strict";function e(n,r,o,a,l){var u=this;t(i)(this,e),this._computer=n,this._state=0,this._hoverTime=l,this._firstWaitScheduler=new(0,s.RunOnceScheduler)((function(){return u._triggerAsyncComputation()}),0),this._secondWaitScheduler=new(0,s.RunOnceScheduler)((function(){return u._triggerSyncComputation()}),0),this._loadingMessageScheduler=new(0,s.RunOnceScheduler)((function(){return u._showLoadingMessage()}),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=r,this._errorCallback=o,this._progressCallback=a}return t(a)(e,[{key:"setHoverTime",value:function(e){this._hoverTime=e}},{key:"_firstWaitTime",value:function(){return this._hoverTime/2}},{key:"_secondWaitTime",value:function(){return this._hoverTime/2}},{key:"_loadingMessageTime",value:function(){return 3*this._hoverTime}},{key:"_triggerAsyncComputation",value:function(){if(this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync){var e=this;this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,s.createCancelablePromise)((function(t){return e._computer.computeAsync(t)})),this._asyncComputationPromise.then((function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)}),(function(t){return e._onError(t)}))}else this._asyncComputationPromiseDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}},{key:"_showLoadingMessage",value:function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}},{key:"_withAsyncResult",value:function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}},{key:"_onComplete",value:function(e){this._completeCallback(e)}},{key:"_onError",value:function(e){this._errorCallback?this._errorCallback(e):(0,l.onUnexpectedError)(e)}},{key:"_onProgress",value:function(e){this._progressCallback(e)}},{key:"start",value:function(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}},{key:"cancel",value:function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}]),e}()})),o.register("6lCiP",(function(n,r){e(n.exports,"HoverWidget",(function(){return f})),e(n.exports,"HoverAction",(function(){return p}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("i3Iko"),c=o("glSIC"),d=o("jXMBk"),h=u.$,f=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){var e;return t(i)(this,r),(e=n.call(this)).containerDomNode=document.createElement("div"),e.containerDomNode.className="monaco-hover",e.containerDomNode.tabIndex=0,e.containerDomNode.setAttribute("role","tooltip"),e.contentsDomNode=document.createElement("div"),e.contentsDomNode.className="monaco-hover-content",e._scrollbar=e._register(new(0,d.DomScrollableElement)(e.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),e.containerDomNode.appendChild(e._scrollbar.getDomNode()),e}return t(a)(r,[{key:"onContentsChanged",value:function(){this._scrollbar.scanDomNode()}}]),r}(c.Disposable),p=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o,a){var s;return t(i)(this,r),(s=n.call(this)).actionContainer=u.append(e,h("div.action-container")),s.action=u.append(s.actionContainer,h("a.action")),s.action.setAttribute("href","#"),s.action.setAttribute("role","button"),o.iconClass&&u.append(s.action,h("span.icon.".concat(o.iconClass))),u.append(s.action,h("span")).textContent=a?"".concat(o.label," (").concat(a,")"):o.label,s._register(u.addDisposableListener(s.actionContainer,u.EventType.CLICK,(function(e){e.stopPropagation(),e.preventDefault(),o.run(s.actionContainer)}))),s.setEnabled(!0),s}return t(a)(r,[{key:"setEnabled",value:function(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}],[{key:"render",value:function(e,t,n){return new r(e,t,n)}}]),r}(c.Disposable)})),o.register("8WEZK",(function(n,r){e(n.exports,"MarkerHoverParticipant",(function(){return L}),(function(e){return L=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("dKkCN"),l=o("i3Iko"),u=o("glSIC"),c=o("Og1nm"),d=o("ddsHh"),h=o("jSRBf"),f=o("5Z1yh"),p=o("1ipss"),g=o("9yDnc"),v=o("KDpXQ"),m=o("lbpZF"),y=o("1xRRx"),b=o("hdReq"),_=o("kHxZL"),k=o("9PZJi"),C=o("5rgie"),x=o("4qRit"),w=o("eZPXr"),S=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,r){t(n,r,e)}},D=l.$,I=function(){"use strict";function e(n,r,o){t(i)(this,e),this.owner=n,this.range=r,this.marker=o}return t(a)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),R={type:1,filter:{include:k.CodeActionKind.QuickFix}},L=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this._editor=n,this._hover=r,this._markerDecorationsService=o,this._openerService=a,this.recentMarkerCodeActionsInfo=void 0}return t(a)(e,[{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n=this._editor.getModel(),r=e.range.startLineNumber,i=n.getLineMaxColumn(r),o=[],a=!0,s=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var h=u.value,f=h.range.startLineNumber===r?h.range.startColumn:1,p=h.range.endLineNumber===r?h.range.endColumn:i,g=this._markerDecorationsService.getMarker(n.uri,h);if(g){var v=new(0,c.Range)(e.range.startLineNumber,f,e.range.startLineNumber,p);o.push(new I(this,v,g))}}}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}return o}},{key:"renderHoverParts",value:function(e,t,n){var r=this;if(!e.length)return u.Disposable.None;var i=new(0,u.DisposableStore);e.forEach((function(e){return t.appendChild(r.renderMarkerHover(e,i))}));var o=1===e.length?e[0]:e.sort((function(e,t){return h.MarkerSeverity.compare(e.marker.severity,t.marker.severity)}))[0];return this.renderMarkerStatusbar(o,n,i),i}},{key:"renderMarkerHover",value:function(e,t){var n=D("div.hover-row"),r=l.append(n,D("div.marker.hover-contents")),i=e.marker,o=i.source,a=i.message,s=i.code,u=i.relatedInformation;this._editor.applyFontInfo(r);var c=l.append(r,D("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=a,o||s)if(s&&"string"!=typeof s){var h=this,p=D("span");if(o)l.append(p,D("span")).innerText=o;var v=l.append(p,D("a.code-link"));v.setAttribute("href",s.target.toString()),t.add(l.addDisposableListener(v,"click",(function(e){h._openerService.open(s.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),l.append(v,D("span")).innerText=s.value;var m=l.append(r,p);m.style.opacity="0.6",m.style.paddingLeft="6px"}else{var y=l.append(r,D("span"));y.style.opacity="0.6",y.style.paddingLeft="6px",y.innerText=o&&s?"".concat(o,"(").concat(s,")"):o||"(".concat(s,")")}var b=!0,_=!1,k=void 0;if((0,d.isNonEmptyArray)(u))try{for(var C,x=this,w=function(e,n){var i=n.value,o=i.message,a=i.resource,s=i.startLineNumber,u=i.startColumn,c=x,d=l.append(r,D("div"));d.style.marginTop="8px";var h=l.append(d,D("a"));h.innerText="".concat((0,f.basename)(a),"(").concat(s,", ").concat(u,"): "),h.style.cursor="pointer",t.add(l.addDisposableListener(h,"click",(function(e){e.stopPropagation(),e.preventDefault(),c._openerService&&c._openerService.open(a,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:s,startColumn:u}}}).catch(g.onUnexpectedError)})));var p=l.append(d,D("span"));p.innerText=o,x._editor.applyFontInfo(p)},S=u[Symbol.iterator]();!(b=(C=S.next()).done);b=!0)w(0,C)}catch(e){_=!0,k=e}finally{try{b||null==S.return||S.return()}finally{if(_)throw k}}return n}},{key:"renderMarkerStatusbar",value:function(e,t,n){var r=this;if(e.marker.severity!==h.MarkerSeverity.Error&&e.marker.severity!==h.MarkerSeverity.Warning&&e.marker.severity!==h.MarkerSeverity.Info||t.addAction({label:s.localize("view problem","View Problem"),commandId:m.NextMarkerAction.ID,run:function(){r._hover.hide(),m.MarkerController.get(r._editor).showAtMarker(e.marker),r._editor.focus()}}),!this._editor.getOption(79)){var i=this,o=t.append(D("div"));this.recentMarkerCodeActionsInfo&&(h.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===h.IMarkerData.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=s.localize("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var a=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?u.Disposable.None:n.add((0,y.disposableTimeout)((function(){return o.textContent=s.localize("checkingForQuickFixes","Checking for quick fixes...")}),200));o.textContent||(o.textContent=String.fromCharCode(160));var c=this.getCodeActions(e.marker);n.add((0,u.toDisposable)((function(){return c.cancel()}))),c.then((function(r){var c=i;if(a.dispose(),i.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:r.validActions.length>0},!i.recentMarkerCodeActionsInfo.hasCodeActions)return r.dispose(),void(o.textContent=s.localize("noQuickFixes","No quick fixes available"));o.style.display="none";var d=!1;n.add((0,u.toDisposable)((function(){d||r.dispose()}))),t.addAction({label:s.localize("quick fixes","Quick Fix..."),commandId:_.QuickFixAction.Id,run:function(e){d=!0;var t=_.QuickFixController.get(c._editor),n=l.getDomNodePagePosition(e);c._hover.hide(),t.showCodeActions(R,r,{x:n.left+6,y:n.top+n.height+6})}})}))}}},{key:"getCodeActions",value:function(e){var t=this;return(0,y.createCancelablePromise)((function(n){return(0,b.getCodeActions)(t._editor.getModel(),new(0,c.Range)(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),R,C.Progress.None,n)}))}}]),e}();L=S([E(2,p.IMarkerDecorationsService),E(3,v.IOpenerService)],L),(0,x.registerThemingParticipant)((function(e,t){var n=e.getColor(w.textLinkForeground);n&&t.addRule(".monaco-hover .hover-contents a.code-link span { color: ".concat(n,"; }"));var r=e.getColor(w.textLinkActiveForeground);r&&t.addRule(".monaco-hover .hover-contents a.code-link span:hover { color: ".concat(r,"; }"))}))})),o.register("lbpZF",(function(n,r){e(n.exports,"MarkerController",(function(){return D}),(function(e){return D=e})),e(n.exports,"NextMarkerAction",(function(){return R}),(function(e){return R=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("4GLgu"),c=o("dKkCN"),d=o("glSIC"),h=o("6x2MV"),f=o("kaKvC"),p=o("Og1nm"),g=o("kT6fp"),v=o("7Zg88"),m=o("2VH4c"),y=o("flIZY"),b=o("lvhYu"),_=o("9k9F9"),k=o("e1Jmh"),C=o("50xDn"),x=o("4boq2"),w=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t){return function(n,r){t(n,r,e)}},E=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},D=function(){"use strict";function e(n,r,o,a,s){t(i)(this,e),this._markerNavigationService=r,this._contextKeyService=o,this._editorService=a,this._instantiationService=s,this._sessionDispoables=new(0,d.DisposableStore),this._editor=n,this._widgetVisible=T.bindTo(this._contextKeyService)}return t(a)(e,[{key:"dispose",value:function(){this._cleanUp(),this._sessionDispoables.dispose()}},{key:"_cleanUp",value:function(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}},{key:"_getOrCreateModel",value:function(e){var t=this;if(this._model&&this._model.matches(e))return this._model;var n=!1;return this._model&&(n=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),n&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(m.MarkerNavigationWidget,this._editor),this._widget.onDidClose((function(){return t.close()}),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((function(e){var n,r,i;(null===(n=t._model)||void 0===n?void 0:n.selected)&&p.Range.containsPosition(null===(r=t._model)||void 0===r?void 0:r.selected.marker,e.position)||null===(i=t._model)||void 0===i||i.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((function(){if(t._widget&&t._widget.position&&t._model){var e=t._model.find(t._editor.getModel().uri,t._widget.position);e?t._widget.updateMarker(e.marker):t._widget.showStale()}}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((function(e){t._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:p.Range.lift(e).collapseToStart()}},t._editor),t.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((function(){return t._cleanUp()}))),this._model}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._cleanUp(),e&&this._editor.focus()}},{key:"showAtMarker",value:function(e){if(this._editor.hasModel()){var t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new(0,f.Position)(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}},{key:"nagivate",value:function(n,r){return E(this,void 0,void 0,t(u).mark((function i(){var o,a;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._editor.hasModel()){t.next=14;break}if((o=this._getOrCreateModel(r?void 0:this._editor.getModel().uri)).move(n,this._editor.getModel(),this._editor.getPosition()),o.selected){t.next=5;break}return t.abrupt("return");case 5:if(o.selected.marker.resource.toString()===this._editor.getModel().uri.toString()){t.next=13;break}return this._cleanUp(),t.next=9,this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);case 9:(a=t.sent)&&(e.get(a).close(),e.get(a).nagivate(n,r)),t.next=14;break;case 13:this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total);case 14:case"end":return t.stop()}}),i,this)})))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();D.ID="editor.contrib.markerController",D=w([S(1,C.IMarkerNavigationService),S(2,h.IContextKeyService),S(3,y.ICodeEditorService),S(4,k.IInstantiationService)],D);var I=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o,a){var s;return t(i)(this,r),(s=n.call(this,a))._next=e,s._multiFile=o,s}return t(a)(r,[{key:"run",value:function(e,n){return E(this,void 0,void 0,t(u).mark((function e(){return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.hasModel()&&D.get(n).nagivate(this._next,this._multiFile);case 1:case"end":return e.stop()}}),e,this)})))}}]),r}(g.EditorAction),R=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,!0,!1,{id:r.ID,label:r.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:m.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,x.registerIcon)("marker-navigation-next",_.Codicon.chevronDown,c.localize("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}return r}(I);R.ID="editor.action.marker.next",R.LABEL=c.localize("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var L=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,!1,!1,{id:r.ID,label:r.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:m.MarkerNavigationWidget.TitleMenu,title:R.LABEL,icon:(0,x.registerIcon)("marker-navigation-previous",_.Codicon.chevronUp,c.localize("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}return r}(I);L.ID="editor.action.marker.prev",L.LABEL=c.localize("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var A=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:c.localize("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:b.MenuId.MenubarGoMenu,title:c.localize({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}return r}(I),M=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:c.localize("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:b.MenuId.MenubarGoMenu,title:c.localize({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}return r}(I);(0,g.registerEditorContribution)(D.ID,D),(0,g.registerEditorAction)(R),(0,g.registerEditorAction)(L),(0,g.registerEditorAction)(A),(0,g.registerEditorAction)(M);var T=new(0,h.RawContextKey)("markersNavigationVisible",!1),N=g.EditorCommand.bindToContribution(D.get);(0,g.registerEditorCommand)(new N({id:"closeMarkersNavigation",precondition:T,handler:function(e){return e.close()},kbOpts:{weight:150,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1033]}}))})),o.register("2VH4c",(function(n,r){e(n.exports,"MarkerNavigationWidget",(function(){return F}),(function(e){return F=e}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("k0Xaj"),u=o("5464t"),c=o("hgtn2"),d=o("aV5UR"),h=o("dKkCN"),f=o("i3Iko"),p=o("glSIC"),g=o("jSRBf"),v=o("Og1nm"),m=o("eZPXr"),y=o("4qRit"),b=o("3bv5f"),_=o("jXMBk"),k=o("1HKEb"),C=o("ddsHh"),x=o("4YObi"),w=o("2G5Pg"),S=o("5Z1yh"),E=o("imXOo"),D=o("KDpXQ"),I=o("lvhYu"),R=o("6x2MV"),L=o("gYNxV"),A=o("e1Jmh"),M=o("flPya"),T=o("hnqmL"),N=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},P=function(e,t){return function(n,r){t(n,r,e)}},O=function(){"use strict";function e(n,r,i,o,s){var l=this;t(a)(this,e),this._openerService=o,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new(0,p.DisposableStore),this._editor=r;var u=document.createElement("div");u.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),u.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),u.appendChild(this._relatedBlock),this._disposables.add(f.addStandardDisposableListener(this._relatedBlock,"click",(function(e){e.preventDefault();var t=l._relatedDiagnostics.get(e.target);t&&i(t)}))),this._scrollable=new(0,_.ScrollableElement)(u,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),n.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((function(e){u.style.left="-".concat(e.scrollLeft,"px"),u.style.top="-".concat(e.scrollTop,"px")}))),this._disposables.add(this._scrollable)}return t(s)(e,[{key:"dispose",value:function(){(0,p.dispose)(this._disposables)}},{key:"update",value:function(e){var t=e.source,n=e.message,r=e.relatedInformation,i=e.code,o=((null==t?void 0:t.length)||0)+2;i&&(o+="string"==typeof i?i.length:i.value.length);var a=(0,M.splitLines)(n);this._lines=a.length,this._longestLineLength=0;var s=!0,l=!1,u=void 0;try{for(var c,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;this._longestLineLength=Math.max(h.length+o,this._longestLineLength)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}f.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);var p=this._messageBlock,g=!0,v=!1,m=void 0;try{for(var y,b=a[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var _=y.value;(p=document.createElement("div")).innerText=_,""===_&&(p.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(p)}}catch(e){v=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}if(t||i){var x=document.createElement("span");if(x.classList.add("details"),p.appendChild(x),t){var w=document.createElement("span");w.innerText=t,w.classList.add("source"),x.appendChild(w)}if(i)if("string"==typeof i){var S=document.createElement("span");S.innerText="(".concat(i,")"),S.classList.add("code"),x.appendChild(S)}else{var E=this;this._codeLink=f.$("a.code-link"),this._codeLink.setAttribute("href","".concat(i.target.toString())),this._codeLink.onclick=function(e){E._openerService.open(i.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()},f.append(this._codeLink,f.$("span")).innerText=i.value,x.appendChild(this._codeLink)}}if(f.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,C.isNonEmptyArray)(r)){var D=this._relatedBlock.appendChild(document.createElement("div"));D.style.paddingTop="".concat(Math.floor(.66*this._editor.getOption(57)),"px"),this._lines+=1;var I=!0,R=!1,L=void 0;try{for(var A,T=r[Symbol.iterator]();!(I=(A=T.next()).done);I=!0){var N=A.value,P=document.createElement("div"),O=document.createElement("a");O.classList.add("filename"),O.innerText="".concat((0,k.getBaseLabel)(N.resource),"(").concat(N.startLineNumber,", ").concat(N.startColumn,"): "),O.title=this._labelService.getUriLabel(N.resource),this._relatedDiagnostics.set(O,N);var F=document.createElement("span");F.innerText=N.message,P.appendChild(O),P.appendChild(F),this._lines+=1,D.appendChild(P)}}catch(e){R=!0,L=e}finally{try{I||null==T.return||T.return()}finally{if(R)throw L}}}var B=this._editor.getOption(41),z=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),W=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:z,scrollHeight:W})}},{key:"layout",value:function(e,t){this._scrollable.getDomNode().style.height="".concat(e,"px"),this._scrollable.getDomNode().style.width="".concat(t,"px"),this._scrollable.setScrollDimensions({width:t,height:e})}},{key:"getHeightInLines",value:function(){return Math.min(17,this._lines)}},{key:"getAriaLabel",value:function(e){var t="";switch(e.severity){case g.MarkerSeverity.Error:t=h.localize("Error","Error");break;case g.MarkerSeverity.Warning:t=h.localize("Warning","Warning");break;case g.MarkerSeverity.Info:t=h.localize("Info","Info");break;case g.MarkerSeverity.Hint:t=h.localize("Hint","Hint")}var n=h.localize("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn),r=this._editor.getModel();if(r&&e.startLineNumber<=r.getLineCount()&&e.startLineNumber>=1){var i=r.getLineContent(e.startLineNumber);n="".concat(i,", ").concat(n)}return n}}]),e}(),F=function(e){"use strict";t(c)(r,e);var n=t(d)(r);function r(e,o,s,l,u,c,d){var h;return t(a)(this,r),(h=n.call(this,e,{showArrow:!0,showFrame:!0,isAccessible:!0},u))._themeService=o,h._openerService=s,h._menuService=l,h._contextKeyService=c,h._labelService=d,h._callOnDispose=new(0,p.DisposableStore),h._onDidSelectRelatedInformation=new(0,x.Emitter),h.onDidSelectRelatedInformation=h._onDidSelectRelatedInformation.event,h._severity=g.MarkerSeverity.Warning,h._backgroundColor=b.Color.white,h._applyTheme(o.getColorTheme()),h._callOnDispose.add(o.onDidColorThemeChange(h._applyTheme.bind(t(i)(h)))),h.create(),h}return t(s)(r,[{key:"_applyTheme",value:function(e){this._backgroundColor=e.getColor(K);var t=H;this._severity===g.MarkerSeverity.Warning?t=V:this._severity===g.MarkerSeverity.Info&&(t=j);var n=e.getColor(t);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(w.peekViewTitleForeground),secondaryHeadingColor:e.getColor(w.peekViewTitleInfoForeground)})}},{key:"_applyStyles",value:function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),t(l)(t(u)(r.prototype),"_applyStyles",this).call(this)}},{key:"dispose",value:function(){this._callOnDispose.dispose(),t(l)(t(u)(r.prototype),"dispose",this).call(this)}},{key:"_fillHead",value:function(e){var n=this;t(l)(t(u)(r.prototype),"_fillHead",this).call(this,e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun((function(e){return n.editor.focus()})));var i=[],o=this._menuService.createMenu(r.TitleMenu,this._contextKeyService);(0,L.createAndFillInActionBarActions)(o,void 0,i),this._actionbarWidget.push(i,{label:!1,icon:!0,index:0}),o.dispose()}},{key:"_fillTitleIcon",value:function(e){this._icon=f.append(e,f.$(""))}},{key:"_fillBody",value:function(e){var t=this;this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new O(this._container,this.editor,(function(e){return t._onDidSelectRelatedInformation.fire(e)}),this._openerService,this._labelService),this._disposables.add(this._message)}},{key:"show",value:function(){throw new Error("call showAtMarker")}},{key:"showAtMarker",value:function(e,n,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());var o=v.Range.lift(e),a=this.editor.getPosition(),s=a&&o.containsPosition(a)?a:o.getStartPosition();t(l)(t(u)(r.prototype),"show",this).call(this,s,this.computeRequiredHeight());var c=this.editor.getModel();if(c){var d=i>1?h.localize("problems","{0} of {1} problems",n,i):h.localize("change","{0} of {1} problem",n,i);this.setTitle((0,S.basename)(c.uri),d)}this._icon.className="codicon ".concat(E.SeverityIcon.className(g.MarkerSeverity.toSeverity(this._severity))),this.editor.revealPositionNearTop(s,0),this.editor.focus()}},{key:"updateMarker",value:function(e){this._container.classList.remove("stale"),this._message.update(e)}},{key:"showStale",value:function(){this._container.classList.add("stale"),this._relayout()}},{key:"_doLayoutBody",value:function(e,n){t(l)(t(u)(r.prototype),"_doLayoutBody",this).call(this,e,n),this._heightInPixel=e,this._message.layout(e,n),this._container.style.height="".concat(e,"px")}},{key:"_onWidth",value:function(e){this._message.layout(this._heightInPixel,e)}},{key:"_relayout",value:function(){t(l)(t(u)(r.prototype),"_relayout",this).call(this,this.computeRequiredHeight())}},{key:"computeRequiredHeight",value:function(){return 3+this._message.getHeightInLines()}}]),r}(w.PeekViewWidget);F.TitleMenu=new(0,I.MenuId)("gotoErrorTitleMenu"),F=N([P(1,y.IThemeService),P(2,D.IOpenerService),P(3,I.IMenuService),P(4,A.IInstantiationService),P(5,R.IContextKeyService),P(6,T.ILabelService)],F);var B=(0,m.oneOf)(m.editorErrorForeground,m.editorErrorBorder),z=(0,m.oneOf)(m.editorWarningForeground,m.editorWarningBorder),W=(0,m.oneOf)(m.editorInfoForeground,m.editorInfoBorder),H=(0,m.registerColor)("editorMarkerNavigationError.background",{dark:B,light:B,hc:B},h.localize("editorMarkerNavigationError","Editor marker navigation widget error color.")),V=(0,m.registerColor)("editorMarkerNavigationWarning.background",{dark:z,light:z,hc:z},h.localize("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),j=(0,m.registerColor)("editorMarkerNavigationInfo.background",{dark:W,light:W,hc:W},h.localize("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),K=(0,m.registerColor)("editorMarkerNavigation.background",{dark:"#2D2D30",light:b.Color.white,hc:"#0C141F"},h.localize("editorMarkerNavigationBackground","Editor marker navigation widget background."));(0,y.registerThemingParticipant)((function(e,t){var n=e.getColor(m.textLinkForeground);n&&t.addRule(".monaco-editor .marker-widget a.code-link span { color: ".concat(n,"; }"));var r=e.getColor(m.textLinkActiveForeground);r&&t.addRule(".monaco-editor .marker-widget a.code-link span:hover { color: ".concat(r,"; }"))}))})),o.register("1HKEb",(function(t,n){e(t.exports,"getBaseLabel",(function(){return u})),e(t.exports,"normalizeDriveLetter",(function(){return c}));var r=o("bErzw"),i=o("98cBO"),a=o("4YgGD"),s=o("5Z1yh"),l=o("8iMXH");function u(e){if(e){"string"==typeof e&&(e=r.URI.file(e));var t=(0,s.basename)(e)||(e.scheme===i.Schemas.file?e.fsPath:e.path);return a.isWindows&&(0,l.isRootOrDriveLetter)(t)?c(t):t}}function c(e){return(0,l.hasDriveLetter)(e)?e.charAt(0).toUpperCase()+e.slice(1):e}})),o.register("2G5Pg",(function(n,r){e(n.exports,"IPeekViewService",(function(){return M}),(function(e){return M=e})),e(n.exports,"PeekContext",(function(){return i}),(function(e){return i=e})),e(n.exports,"getOuterEditor",(function(){return N}),(function(e){return N=e})),e(n.exports,"PeekViewWidget",(function(){return O}),(function(e){return O=e})),e(n.exports,"peekViewTitleBackground",(function(){return F}),(function(e){return F=e})),e(n.exports,"peekViewTitleForeground",(function(){return B}),(function(e){return B=e})),e(n.exports,"peekViewTitleInfoForeground",(function(){return z}),(function(e){return z=e})),e(n.exports,"peekViewBorder",(function(){return W}),(function(e){return W=e})),e(n.exports,"peekViewResultsBackground",(function(){return H}),(function(e){return H=e})),e(n.exports,"peekViewResultsMatchForeground",(function(){return V}),(function(e){return V=e})),e(n.exports,"peekViewResultsFileForeground",(function(){return j}),(function(e){return j=e})),e(n.exports,"peekViewResultsSelectionBackground",(function(){return K}),(function(e){return K=e})),e(n.exports,"peekViewResultsSelectionForeground",(function(){return U}),(function(e){return U=e})),e(n.exports,"peekViewEditorBackground",(function(){return q}),(function(e){return q=e})),e(n.exports,"peekViewEditorGutterBackground",(function(){return Z}),(function(e){return Z=e})),e(n.exports,"peekViewResultsMatchHighlight",(function(){return G}),(function(e){return G=e})),e(n.exports,"peekViewEditorMatchHighlight",(function(){return Q}),(function(e){return Q=e})),e(n.exports,"peekViewEditorMatchHighlightBorder",(function(){return J}),(function(e){return J=e}));var i,a,s=o("fZTNQ"),l=o("j7KTJ"),u=o("k0Xaj"),c=o("5464t"),d=o("hgtn2"),h=o("aV5UR"),f=o("i3Iko"),p=o("bV6e3"),g=o("gO8TU"),v=o("3bv5f"),m=o("4YObi"),y=o("ibzvb"),b=o("flIZY"),_=o("ao8rP"),k=o("dOVmf"),C=o("dKkCN"),x=o("6x2MV"),w=o("e1Jmh"),S=o("lM5Mj"),E=o("kT6fp"),D=o("eZPXr"),I=o("9k9F9"),R=o("gYNxV"),L=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t){return function(n,r){t(n,r,e)}},M=(0,w.createDecorator)("IPeekViewService");(0,S.registerSingleton)(M,function(){"use strict";function e(){t(s)(this,e),this._widgets=new Map}return t(l)(e,[{key:"addExclusiveWidget",value:function(e,t){var n=this,r=this._widgets.get(e);r&&(r.listener.dispose(),r.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose((function(){var r=n._widgets.get(e);r&&r.widget===t&&(r.listener.dispose(),n._widgets.delete(e))}))})}}]),e}()),(a=i||(i={})).inPeekEditor=new(0,x.RawContextKey)("inReferenceSearchEditor",!0,C.localize("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),a.notInPeekEditor=a.inPeekEditor.toNegated();var T=function(){"use strict";function e(n,r){t(s)(this,e),n instanceof _.EmbeddedCodeEditorWidget&&i.inPeekEditor.bindTo(r)}return t(l)(e,[{key:"dispose",value:function(){}}]),e}();function N(e){var t=e.get(b.ICodeEditorService).getFocusedCodeEditor();return t instanceof _.EmbeddedCodeEditorWidget?t.getParentEditor():t}T.ID="editor.contrib.referenceController",T=L([A(1,x.IContextKeyService)],T),(0,E.registerEditorContribution)(T.ID,T);var P={headerBackgroundColor:v.Color.white,primaryHeadingColor:v.Color.fromHex("#333333"),secondaryHeadingColor:v.Color.fromHex("#6c6c6cb3")},O=function(e){"use strict";t(d)(r,e);var n=t(h)(r);function r(e,i,o){var a;return t(s)(this,r),(a=n.call(this,e,i)).instantiationService=o,a._onDidClose=new(0,m.Emitter),a.onDidClose=a._onDidClose.event,y.mixin(a.options,P,!1),a}return t(l)(r,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,t(u)(t(c)(r.prototype),"dispose",this).call(this),this._onDidClose.fire(this))}},{key:"style",value:function(e){var n=this.options;e.headerBackgroundColor&&(n.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(n.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(n.secondaryHeadingColor=e.secondaryHeadingColor),t(u)(t(c)(r.prototype),"style",this).call(this,e)}},{key:"_applyStyles",value:function(){t(u)(t(c)(r.prototype),"_applyStyles",this).call(this);var e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}},{key:"_fillContainer",value:function(e){this.setCssClass("peekview-widget"),this._headElement=f.$(".head"),this._bodyElement=f.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}},{key:"_fillHead",value:function(e,t){var n=this,r=f.$(".peekview-title");f.append(this._headElement,r),f.addStandardDisposableListener(r,"click",(function(e){return n._onTitleClick(e)})),this._fillTitleIcon(r),this._primaryHeading=f.$("span.filename"),this._secondaryHeading=f.$("span.dirname"),this._metaHeading=f.$("span.meta"),f.append(r,this._primaryHeading,this._secondaryHeading,this._metaHeading);var i=f.$(".peekview-actions");f.append(this._headElement,i);var o=this._getActionBarOptions();this._actionbarWidget=new(0,p.ActionBar)(i,o),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new(0,g.Action)("peekview.close",C.localize("label.close","Close"),I.Codicon.close.classNames,!0,(function(){return n.dispose(),Promise.resolve()})),{label:!1,icon:!0})}},{key:"_fillTitleIcon",value:function(e){}},{key:"_getActionBarOptions",value:function(){return{actionViewItemProvider:R.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}},{key:"_onTitleClick",value:function(e){}},{key:"setTitle",value:function(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:f.clearNode(this._secondaryHeading))}},{key:"setMetaTitle",value:function(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,f.show(this._metaHeading)):f.hide(this._metaHeading))}},{key:"_doLayout",value:function(e,t){if(!this._isShowing&&e<0)this.dispose();else{var n=Math.ceil(1.2*this.editor.getOption(57)),r=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(r,t)}}},{key:"_doLayoutHead",value:function(e,t){this._headElement&&(this._headElement.style.height="".concat(e,"px"),this._headElement.style.lineHeight=this._headElement.style.height)}},{key:"_doLayoutBody",value:function(e,t){this._bodyElement&&(this._bodyElement.style.height="".concat(e,"px"))}}]),r}(k.ZoneWidget);O=L([A(2,w.IInstantiationService)],O);var F=(0,D.registerColor)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},C.localize("peekViewTitleBackground","Background color of the peek view title area.")),B=(0,D.registerColor)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},C.localize("peekViewTitleForeground","Color of the peek view title.")),z=(0,D.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},C.localize("peekViewTitleInfoForeground","Color of the peek view title info.")),W=(0,D.registerColor)("peekView.border",{dark:"#007acc",light:"#007acc",hc:D.contrastBorder},C.localize("peekViewBorder","Color of the peek view borders and arrow.")),H=(0,D.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:v.Color.black},C.localize("peekViewResultsBackground","Background color of the peek view result list.")),V=(0,D.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:v.Color.white},C.localize("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),j=(0,D.registerColor)("peekViewResult.fileForeground",{dark:v.Color.white,light:"#1E1E1E",hc:v.Color.white},C.localize("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),K=(0,D.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},C.localize("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),U=(0,D.registerColor)("peekViewResult.selectionForeground",{dark:v.Color.white,light:"#6C6C6C",hc:v.Color.white},C.localize("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),q=(0,D.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:v.Color.black},C.localize("peekViewEditorBackground","Background color of the peek view editor.")),Z=(0,D.registerColor)("peekViewEditorGutter.background",{dark:q,light:q,hc:q},C.localize("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),G=(0,D.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},C.localize("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Q=(0,D.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},C.localize("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),J=(0,D.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:D.activeContrastBorder},C.localize("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))})),o.register("ao8rP",(function(n,r){e(n.exports,"EmbeddedCodeEditorWidget",(function(){return x}),(function(e){return x=e}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("k0Xaj"),u=o("5464t"),c=o("hgtn2"),d=o("aV5UR"),h=o("ibzvb"),f=o("flIZY"),p=o("7XJ8X"),g=o("1Ms2U"),v=o("6x2MV"),m=o("e1Jmh"),y=o("ds0Oh"),b=o("4qRit"),_=o("eo8iS"),k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,r){t(n,r,e)}},x=function(e){"use strict";t(c)(r,e);var n=t(d)(r);function r(e,o,s,c,d,h,f,p,g,v){var m;return t(a)(this,r),(m=n.call(this,e,Object.assign(Object.assign({},s.getRawOptions()),{overflowWidgetsDomNode:s.getOverflowWidgetsDomNode()}),{},c,d,h,f,p,g,v))._parentEditor=s,m._overwriteOptions=o,t(l)((t(i)(m),t(u)(r.prototype)),"updateOptions",m).call(m,m._overwriteOptions),m._register(s.onDidChangeConfiguration((function(e){return m._onParentConfigurationChanged(e)}))),m}return t(s)(r,[{key:"getParentEditor",value:function(){return this._parentEditor}},{key:"_onParentConfigurationChanged",value:function(e){t(l)(t(u)(r.prototype),"updateOptions",this).call(this,this._parentEditor.getRawOptions()),t(l)(t(u)(r.prototype),"updateOptions",this).call(this,this._overwriteOptions)}},{key:"updateOptions",value:function(e){h.mixin(this._overwriteOptions,e,!0),t(l)(t(u)(r.prototype),"updateOptions",this).call(this,this._overwriteOptions)}}]),r}(p.CodeEditorWidget);x=k([C(3,m.IInstantiationService),C(4,f.ICodeEditorService),C(5,g.ICommandService),C(6,v.IContextKeyService),C(7,b.IThemeService),C(8,y.INotificationService),C(9,_.IAccessibilityService)],x)})),o.register("dOVmf",(function(n,r){e(n.exports,"ZoneWidget",(function(){return k}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("i3Iko"),u=o("2XCLZ"),c=o("3bv5f"),d=o("jF1dS"),h=o("glSIC"),f=o("ibzvb"),p=o("Og1nm"),g=o("3bY1c"),v=new(0,c.Color)(new(0,c.RGBA)(0,122,204)),m={showArrow:!0,showFrame:!0,className:"",frameColor:v,arrowColor:v,keepEditorSelection:!1},y=function(){"use strict";function e(n,r,o,a,s,l){t(i)(this,e),this.id="",this.domNode=n,this.afterLineNumber=r,this.afterColumn=o,this.heightInLines=a,this._onDomNodeTop=s,this._onComputedHeight=l}return t(a)(e,[{key:"onDomNodeTop",value:function(e){this._onDomNodeTop(e)}},{key:"onComputedHeight",value:function(e){this._onComputedHeight(e)}}]),e}(),b=function(){"use strict";function e(n,r){t(i)(this,e),this._id=n,this._domNode=r}return t(a)(e,[{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return null}}]),e}(),_=function(){"use strict";function e(n){t(i)(this,e),this._editor=n,this._ruleName=e._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}return t(a)(e,[{key:"dispose",value:function(){this.hide(),l.removeCSSRulesContainingSelector(this._ruleName)}},{key:"color",set:function(e){this._color!==e&&(this._color=e,this._updateStyle())}},{key:"height",set:function(e){this._height!==e&&(this._height=e,this._updateStyle())}},{key:"_updateStyle",value:function(){l.removeCSSRulesContainingSelector(this._ruleName),l.createCSSRule(".monaco-editor ".concat(this._ruleName),"border-style: solid; border-color: transparent; border-bottom-color: ".concat(this._color,"; border-width: ").concat(this._height,"px; bottom: -").concat(this._height,"px; margin-left: -").concat(this._height,"px; "))}},{key:"show",value:function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:p.Range.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}},{key:"hide",value:function(){this._editor.deltaDecorations(this._decorations,[])}}]),e}();_._IdGenerator=new(0,d.IdGenerator)(".arrow-decoration-");var k=function(){"use strict";function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this;t(i)(this,e),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new(0,h.DisposableStore),this.container=null,this._isShowing=!1,this.editor=n,this.options=f.deepClone(r),f.mixin(this.options,m,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((function(e){var t=o._getWidth(e);o.domNode.style.width=t+"px",o.domNode.style.left=o._getLeft(e)+"px",o._onWidth(t)})))}return t(a)(e,[{key:"dispose",value:function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id),e._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}},{key:"create",value:function(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new _(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}},{key:"style",value:function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}},{key:"_applyStyles",value:function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var t=this.options.arrowColor.toString();this._arrow.color=t}}},{key:"_getWidth",value:function(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}},{key:"_getLeft",value:function(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}},{key:"_onViewZoneTop",value:function(e){this.domNode.style.top=e+"px"}},{key:"_onViewZoneHeight",value:function(e){if(this.domNode.style.height="".concat(e,"px"),this.container){var t=e-this._decoratingElementsHeight();this.container.style.height="".concat(t,"px");var n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}},{key:"position",get:function(){var e=t(s)(this._positionMarkerId,1)[0];if(e){var n=this.editor.getModel();if(n){var r=n.getDecorationRange(e);if(r)return r.getStartPosition()}}}},{key:"show",value:function(e,t){var n=p.Range.isIRange(e)?p.Range.lift(e):p.Range.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:g.ModelDecorationOptions.EMPTY}])}},{key:"hide",value:function(){if(this._viewZone){var e=this;this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id)})),this._viewZone=null}this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}},{key:"_decoratingElementsHeight",value:function(){var e=this.editor.getOption(57),t=0;this.options.showArrow&&(t+=2*Math.round(e/3));this.options.showFrame&&(t+=2*Math.round(e/9));return t}},{key:"_showImpl",value:function(e,t){var n=this,r=e.getStartPosition(),i=this.editor.getLayoutInfo(),o=this._getWidth(i);this.domNode.style.width="".concat(o,"px"),this.domNode.style.left=this._getLeft(i)+"px";var a=document.createElement("div");a.style.overflow="hidden";var s=this.editor.getOption(57),l=Math.max(12,this.editor.getLayoutInfo().height/s*.8);t=Math.min(t,l);var u=0,c=0;if(this._arrow&&this.options.showArrow&&(u=Math.round(s/3),this._arrow.height=u,this._arrow.show(r)),this.options.showFrame&&(c=Math.round(s/9)),this.editor.changeViewZones((function(e){var i=n;n._viewZone&&e.removeZone(n._viewZone.id),n._overlayWidget&&(n.editor.removeOverlayWidget(n._overlayWidget),n._overlayWidget=null),n.domNode.style.top="-1000px",n._viewZone=new y(a,r.lineNumber,r.column,t,(function(e){return i._onViewZoneTop(e)}),(function(e){return i._onViewZoneHeight(e)})),n._viewZone.id=e.addZone(n._viewZone),n._overlayWidget=new b("vs.editor.contrib.zoneWidget"+n._viewZone.id,n.domNode),n.editor.addOverlayWidget(n._overlayWidget)})),this.container&&this.options.showFrame){var d=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=d+"px",this.container.style.borderBottomWidth=d+"px"}var h=t*s-this._decoratingElementsHeight();this.container&&(this.container.style.top=u+"px",this.container.style.height=h+"px",this.container.style.overflow="hidden"),this._doLayout(h,o),this.options.keepEditorSelection||this.editor.setSelection(e);var f=this.editor.getModel();if(f){var p=e.endLineNumber+1;p<=f.getLineCount()?this.revealLine(p,!1):this.revealLine(f.getLineCount(),!0)}}},{key:"revealLine",value:function(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}},{key:"setCssClass",value:function(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}},{key:"_onWidth",value:function(e){}},{key:"_doLayout",value:function(e,t){}},{key:"_relayout",value:function(e){var t=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((function(n){t._viewZone&&(t._viewZone.heightInLines=e,n.layoutZone(t._viewZone.id))}))}},{key:"_initSash",value:function(){var e,t=this;this._resizeSash||(this._resizeSash=this._disposables.add(new(0,u.Sash)(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((function(n){t._viewZone&&(e={startY:n.startY,heightInLines:t._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((function(){e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((function(n){if(e){var r=(n.currentY-e.startY)/t.editor.getOption(57),i=r<0?Math.ceil(r):Math.floor(r),o=e.heightInLines+i;o>5&&o<35&&t._relayout(o)}}))))}},{key:"getHorizontalSashLeft",value:function(){return 0}},{key:"getHorizontalSashTop",value:function(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}},{key:"getHorizontalSashWidth",value:function(){var e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}]),e}()})),o.register("gYNxV",(function(n,r){e(n.exports,"createAndFillInActionBarActions",(function(){return N}),(function(e){return N=e})),e(n.exports,"MenuEntryActionViewItem",(function(){return P}),(function(e){return P=e})),e(n.exports,"createActionViewItem",(function(){return B}),(function(e){return B=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("56Cfp"),d=o("hFMTy"),h=o("aV5UR"),f=o("4GLgu"),p=o("i3Iko"),g=o("gO8TU"),v=o("glSIC"),m=o("dKkCN"),y=o("lvhYu"),b=o("yGu5B"),_=o("hwMdw"),k=o("c2GdL"),C=o("ds0Oh"),x=o("4qRit"),w=o("aYNSH"),S=o("iB3rb"),E=o("4YgGD"),D=o("e1Jmh"),I=o("6x2MV"),R=o("8oBvD"),L=o("91bq0"),A=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},M=function(e,t){return function(n,r){t(n,r,e)}},T=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function N(e,n,r,i,o,a,s){var l=e.getActions(n);return function(e,n,r){var i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return"navigation"===e},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.MAX_SAFE_INTEGER,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return!1},u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Array.isArray(n)?(i=n,o=n):(i=n.primary,o=n.secondary);var h=new Set,f=!0,p=!1,v=void 0;try{for(var m,b=e[Symbol.iterator]();!(f=(m=b.next()).done);f=!0){var _=t(c)(m.value,2),k=_[0],C=_[1],x=void 0;a(k)?(x=i).length>0&&u&&x.push(new(0,g.Separator)):(x=o).length>0&&x.push(new(0,g.Separator));var w=!0,S=!1,E=void 0;try{for(var D,I=C[Symbol.iterator]();!(w=(D=I.next()).done);w=!0){var R=D.value;r&&(R=R instanceof y.MenuItemAction&&R.alt?R.alt:R);var L=x.push(R);R instanceof g.SubmenuAction&&h.add({group:k,action:R,index:L-1})}}catch(e){S=!0,E=e}finally{try{w||null==I.return||I.return()}finally{if(S)throw E}}}}catch(e){p=!0,v=e}finally{try{f||null==b.return||b.return()}finally{if(p)throw v}}var A=!0,M=!1,T=void 0;try{for(var N,P=h[Symbol.iterator]();!(A=(N=P.next()).done);A=!0){var O,F=N.value,B=F.group,z=F.action,W=F.index,H=a(B)?i:o,V=z.actions;(V.length<=1||H.length+V.length-2<=s)&&l(z,B,H.length)&&(O=H).splice.apply(O,[W,1].concat(t(d)(V)))}}catch(e){M=!0,T=e}finally{try{A||null==P.return||P.return()}finally{if(M)throw T}}if(i!==o&&i.length>s){var j,K=i.splice(s,i.length-s);(j=o).unshift.apply(j,t(d)(K).concat([new(0,g.Separator)]))}}(l,r,!1,"string"==typeof i?function(e){return e===i}:i,o,a,s),function(e){var n=new(0,v.DisposableStore),r=!0,i=!1,o=void 0,a=!0,s=!1,l=void 0;try{for(var u,d=e[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var h=t(c)(u.value,2)[1];try{for(var f,p=h[Symbol.iterator]();!(r=(f=p.next()).done);r=!0){var g=f.value;n.add(g)}}catch(e){i=!0,o=e}finally{try{r||null==p.return||p.return()}finally{if(i)throw o}}}}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}return n}(l)}var P=function(e){"use strict";t(u)(r,e);var n=t(h)(r);function r(e,o,a,s,l){var u;return t(i)(this,r),(u=n.call(this,void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==o?void 0:o.draggable}))._keybindingService=a,u._notificationService=s,u._contextKeyService=l,u._wantsAltCommand=!1,u._itemClassDispose=u._register(new(0,v.MutableDisposable)),u._altKey=p.ModifierKeyEmitter.getInstance(),u}return t(a)(r,[{key:"_menuItemAction",get:function(){return this._action}},{key:"_commandAction",get:function(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}},{key:"onClick",value:function(e){return T(this,void 0,void 0,t(f).mark((function n(){return t(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),e.stopPropagation(),t.prev=2,t.next=5,this.actionRunner.run(this._commandAction,this._context);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),this._notificationService.error(t.t0);case 10:case"end":return t.stop()}}),n,this,[[2,7]])})))}},{key:"render",value:function(e){var n=this;t(s)(t(l)(r.prototype),"render",this).call(this,e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);var i=!1,o=this._altKey.keyStatus.altKey||(E.isWindows||E.isLinux)&&this._altKey.keyStatus.shiftKey,a=function(){var e=i&&o;e!==n._wantsAltCommand&&(n._wantsAltCommand=e,n.updateLabel(),n.updateTooltip(),n.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((function(e){o=e.altKey||(E.isWindows||E.isLinux)&&e.shiftKey,a()}))),this._register((0,p.addDisposableListener)(e,"mouseleave",(function(e){i=!1,a()}))),this._register((0,p.addDisposableListener)(e,"mouseenter",(function(e){i=!0,a()})))}},{key:"updateLabel",value:function(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}},{key:"updateTooltip",value:function(){if(this.label){var e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),n=this._commandAction.tooltip||this._commandAction.label,r=t?(0,m.localize)("titleAndKb","{0} ({1})",n,t):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){var i=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,o=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),a=o&&o.getLabel(),s=a?(0,m.localize)("titleAndKb","{0} ({1})",i,a):i;r+="\n[".concat(k.UILabelProvider.modifierLabels[E.OS].altKey,"] ").concat(s)}this.label.title=r}}},{key:"updateClass",value:function(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}},{key:"_updateItemClass",value:function(e){var n;this._itemClassDispose.value=void 0;var r=this.element,i=this.label;if(r&&i){var o=this._commandAction.checked&&(null===(n=e.toggled)||void 0===n?void 0:n.icon)?e.toggled.icon:e.icon;if(o)if(x.ThemeIcon.isThemeIcon(o)){var a,s=x.ThemeIcon.asClassNameArray(o);(a=i.classList).add.apply(a,t(d)(s)),this._itemClassDispose.value=(0,v.toDisposable)((function(){var e;(e=i.classList).remove.apply(e,t(d)(s))}))}else o.light&&i.style.setProperty("--menu-entry-icon-light",(0,p.asCSSUrl)(o.light)),o.dark&&i.style.setProperty("--menu-entry-icon-dark",(0,p.asCSSUrl)(o.dark)),i.classList.add("icon"),this._itemClassDispose.value=(0,v.toDisposable)((function(){i.classList.remove("icon"),i.style.removeProperty("--menu-entry-icon-light"),i.style.removeProperty("--menu-entry-icon-dark")}))}}}]),r}(w.ActionViewItem);P=A([M(2,_.IKeybindingService),M(3,C.INotificationService),M(4,I.IContextKeyService)],P);var O=function(e){"use strict";t(u)(r,e);var n=t(h)(r);function r(e,o){return t(i)(this,r),n.call(this,e,{getActions:function(){return e.actions}},o,{menuAsChild:!0,classNames:x.ThemeIcon.isThemeIcon(e.item.icon)?x.ThemeIcon.asClassName(e.item.icon):void 0})}return t(a)(r,[{key:"render",value:function(e){if(t(s)(t(l)(r.prototype),"render",this).call(this,e),this.element){e.classList.add("menu-entry");var n=this._action.item.icon;n&&!x.ThemeIcon.isThemeIcon(n)&&(this.element.classList.add("icon"),n.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,p.asCSSUrl)(n.light)),n.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,p.asCSSUrl)(n.dark)))}}}]),r}(S.DropdownMenuActionViewItem);O=A([M(1,b.IContextMenuService)],O);var F=function(e){"use strict";t(u)(r,e);var n=t(h)(r);function r(e,o,a,s,l,u,c){var d,h;t(i)(this,r),(d=n.call(this,null,e))._keybindingService=o,d._notificationService=a,d._contextMenuService=s,d._menuService=l,d._instaService=u,d._storageService=c,d._container=null,d._storageKey="".concat(e.item.submenu._debugName,"_lastActionId");var f=c.get(d._storageKey,1);return f&&(h=e.actions.find((function(e){return f===e.id}))),h||(h=e.actions[0]),d._defaultAction=d._instaService.createInstance(P,h,void 0),d._dropdown=new(0,S.DropdownMenuActionViewItem)(e,e.actions,d._contextMenuService,{menuAsChild:!0,classNames:["codicon","codicon-chevron-down"]}),d._dropdown.actionRunner.onDidRun((function(e){e.action instanceof y.MenuItemAction&&d.update(e.action)})),d}return t(a)(r,[{key:"update",value:function(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(P,e,void 0),this._defaultAction.actionRunner=new(function(e){t(u)(r,e);var n=t(h)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"runAction",value:function(e,n){return T(this,void 0,void 0,t(f).mark((function n(){return t(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.run(void 0);case 2:case"end":return t.stop()}}),n)})))}}]),r}(g.ActionRunner)),this._container&&this._defaultAction.render((0,p.prepend)(this._container,(0,p.$)(".action-container")))}},{key:"setActionContext",value:function(e){t(s)(t(l)(r.prototype),"setActionContext",this).call(this,e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}},{key:"render",value:function(e){var n=this;this._container=e,t(s)(t(l)(r.prototype),"render",this).call(this,this._container),this._container.classList.add("monaco-dropdown-with-primary");var i=(0,p.$)(".action-container");this._defaultAction.render((0,p.append)(this._container,i)),this._register((0,p.addDisposableListener)(i,p.EventType.KEY_DOWN,(function(e){var t=new(0,R.StandardKeyboardEvent)(e);t.equals(17)&&(n._defaultAction.element.tabIndex=-1,n._dropdown.focus(),t.stopPropagation())})));var o=(0,p.$)(".dropdown-action-container");this._dropdown.render((0,p.append)(this._container,o)),this._register((0,p.addDisposableListener)(o,p.EventType.KEY_DOWN,(function(e){var t,r=new(0,R.StandardKeyboardEvent)(e);r.equals(15)&&(n._defaultAction.element.tabIndex=0,n._dropdown.setFocusable(!1),null===(t=n._defaultAction.element)||void 0===t||t.focus(),r.stopPropagation())})))}},{key:"focus",value:function(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}},{key:"blur",value:function(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}},{key:"setFocusable",value:function(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}},{key:"dispose",value:function(){this._defaultAction.dispose(),this._dropdown.dispose(),t(s)(t(l)(r.prototype),"dispose",this).call(this)}}]),r}(w.BaseActionViewItem);function B(e,t){if(t instanceof y.MenuItemAction)return e.createInstance(P,t,void 0);if(t instanceof y.SubmenuItemAction){var n=!t.actions.some((function(e){return e instanceof y.MenuItemAction&&e.item.icon&&!x.ThemeIcon.isThemeIcon(e.item.icon)}));return t.item.rememberDefaultAction&&n?e.createInstance(F,t):e.createInstance(O,t)}}F=A([M(1,_.IKeybindingService),M(2,C.INotificationService),M(3,b.IContextMenuService),M(4,y.IMenuService),M(5,D.IInstantiationService),M(6,L.IStorageService)],F)})),o.register("iB3rb",(function(n,r){e(n.exports,"DropdownMenuActionViewItem",(function(){return v}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("hFMTy"),d=o("aV5UR"),h=o("i3Iko"),f=o("4YObi"),p=o("aYNSH"),g=o("chPug"),v=function(e){"use strict";t(u)(r,e);var n=t(d)(r);function r(e,o,a){var s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object.create(null);return t(i)(this,r),(s=n.call(this,null,e,l)).actionItem=null,s._onDidChangeVisibility=s._register(new(0,f.Emitter)),s.menuActionsOrProvider=o,s.contextMenuProvider=a,s.options=l,s.options.actionRunner&&(s.actionRunner=s.options.actionRunner),s}return t(a)(r,[{key:"render",value:function(e){var n=this;this.actionItem=e;var r=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:function(e){var r;n.element=(0,h.append)(e,(0,h.$)("a.action-label"));var i=[];return"string"==typeof n.options.classNames?i=n.options.classNames.split(/\s+/g).filter((function(e){return!!e})):n.options.classNames&&(i=n.options.classNames),i.find((function(e){return"icon"===e}))||i.push("codicon"),(r=n.element.classList).add.apply(r,t(c)(i)),n.element.setAttribute("role","button"),n.element.setAttribute("aria-haspopup","true"),n.element.setAttribute("aria-expanded","false"),n.element.title=n._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:r?this.menuActionsOrProvider:void 0,actionProvider:r?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new(0,g.DropdownMenu)(e,i)),this._register(this.dropdownMenu.onDidChangeVisibility((function(e){var t;null===(t=n.element)||void 0===t||t.setAttribute("aria-expanded","".concat(e)),n._onDidChangeVisibility.fire(e)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){var o=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return o.options.anchorAlignmentProvider()}})}this.updateEnabled()}},{key:"setActionContext",value:function(e){t(s)(t(l)(r.prototype),"setActionContext",this).call(this,e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}},{key:"updateEnabled",value:function(){var e,t,n=!this.getAction().enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",n),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",n)}}]),r}(p.BaseActionViewItem)})),o.register("chPug",(function(n,r){e(n.exports,"DropdownMenu",(function(){return v}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("aV5UR"),d=o("dr7kw"),h=o("gO8TU"),f=o("i3Iko"),p=o("8oBvD"),g=o("4YObi"),v=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,o){var a;return t(i)(this,r),(a=n.call(this,e,o))._actions=[],a._contextMenuProvider=o.contextMenuProvider,a.actions=o.actions||[],a.actionProvider=o.actionProvider,a.menuClassName=o.menuClassName||"",a.menuAsChild=!!o.menuAsChild,a}return t(a)(r,[{key:"menuOptions",get:function(){return this._menuOptions},set:function(e){this._menuOptions=e}},{key:"actions",get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(e){this._actions=e}},{key:"show",value:function(){var e=this;t(s)(t(l)(r.prototype),"show",this).call(this),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return e.element},getActions:function(){return e.actions},getActionsContext:function(){return e.menuOptions?e.menuOptions.context:null},getActionViewItem:function(t){return e.menuOptions&&e.menuOptions.actionViewItemProvider?e.menuOptions.actionViewItemProvider(t):void 0},getKeyBinding:function(t){return e.menuOptions&&e.menuOptions.getKeyBinding?e.menuOptions.getKeyBinding(t):void 0},getMenuClassName:function(){return e.menuClassName},onHide:function(){return e.onHide()},actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}},{key:"hide",value:function(){t(s)(t(l)(r.prototype),"hide",this).call(this)}},{key:"onHide",value:function(){this.hide(),this.element.classList.remove("active")}}]),r}(function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,o){var a;t(i)(this,r),(a=n.call(this))._onDidChangeVisibility=new(0,g.Emitter),a.onDidChangeVisibility=a._onDidChangeVisibility.event,a._element=(0,f.append)(e,(0,f.$)(".monaco-dropdown")),a._label=(0,f.append)(a._element,(0,f.$)(".dropdown-label"));var s=o.labelRenderer;s||(s=function(e){return e.textContent=o.label||"",null});var l=!0,u=!1,c=void 0;try{for(var h,v=[f.EventType.CLICK,f.EventType.MOUSE_DOWN,d.EventType.Tap][Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var m=h.value;a._register((0,f.addDisposableListener)(a.element,m,(function(e){return f.EventHelper.stop(e,!0)})))}}catch(e){u=!0,c=e}finally{try{l||null==v.return||v.return()}finally{if(u)throw c}}var y=!0,b=!1,_=void 0;try{for(var k,C=[f.EventType.MOUSE_DOWN,d.EventType.Tap][Symbol.iterator]();!(y=(k=C.next()).done);y=!0){var x=k.value;a._register((0,f.addDisposableListener)(a._label,x,(function(e){e instanceof MouseEvent&&e.detail>1||(a.visible?a.hide():a.show())})))}}catch(e){b=!0,_=e}finally{try{y||null==C.return||C.return()}finally{if(b)throw _}}a._register((0,f.addDisposableListener)(a._label,f.EventType.KEY_UP,(function(e){var t=new(0,p.StandardKeyboardEvent)(e);(t.equals(3)||t.equals(10))&&(f.EventHelper.stop(e,!0),a.visible?a.hide():a.show())})));var w=s(a._label);return w&&a._register(w),a._register(d.Gesture.addTarget(a._label)),a}return t(a)(r,[{key:"element",get:function(){return this._element}},{key:"show",value:function(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}},{key:"dispose",value:function(){t(s)(t(l)(r.prototype),"dispose",this).call(this),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}]),r}(h.ActionRunner))})),o.register("imXOo",(function(t,n){e(t.exports,"SeverityIcon",(function(){return r}));var r,i=o("cylkC"),a=o("4qRit"),s=o("eZPXr"),l=o("9k9F9");(r||(r={})).className=function(e){switch(e){case i.default.Ignore:return"severity-ignore "+l.Codicon.info.classNames;case i.default.Info:return l.Codicon.info.classNames;case i.default.Warning:return l.Codicon.warning.classNames;case i.default.Error:return l.Codicon.error.classNames;default:return""}},(0,a.registerThemingParticipant)((function(e,t){var n=e.getColor(s.problemsErrorIconForeground);if(n){var r=l.Codicon.error.cssSelector;t.addRule("\n\t\t\t.monaco-editor .zone-widget ".concat(r,",\n\t\t\t.markers-panel .marker-icon").concat(r,",\n\t\t\t.text-search-provider-messages .providerMessage ").concat(r,",\n\t\t\t.extensions-viewlet > .extensions ").concat(r," {\n\t\t\t\tcolor: ").concat(n,";\n\t\t\t}\n\t\t"))}var i=e.getColor(s.problemsWarningIconForeground);if(i){var o=l.Codicon.warning.cssSelector;t.addRule("\n\t\t\t.monaco-editor .zone-widget ".concat(o,",\n\t\t\t.markers-panel .marker-icon").concat(o,",\n\t\t\t.extensions-viewlet > .extensions ").concat(o,",\n\t\t\t.extension-editor ").concat(o,",\n\t\t\t.text-search-provider-messages .providerMessage ").concat(o,",\n\t\t\t.preferences-editor ").concat(o," {\n\t\t\t\tcolor: ").concat(i,";\n\t\t\t}\n\t\t"))}var a=e.getColor(s.problemsInfoIconForeground);if(a){var u=l.Codicon.info.cssSelector;t.addRule("\n\t\t\t.monaco-editor .zone-widget ".concat(u,",\n\t\t\t.markers-panel .marker-icon").concat(u,",\n\t\t\t.extensions-viewlet > .extensions ").concat(u,",\n\t\t\t.text-search-provider-messages .providerMessage ").concat(u,",\n\t\t\t.extension-editor ").concat(u," {\n\t\t\t\tcolor: ").concat(a,";\n\t\t\t}\n\t\t"))}}))})),o.register("50xDn",(function(n,r){e(n.exports,"IMarkerNavigationService",(function(){return k}),(function(e){return k=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("jSRBf"),l=o("bErzw"),u=o("4YObi"),c=o("glSIC"),d=o("Og1nm"),h=o("flPya"),f=o("ddsHh"),p=o("e1Jmh"),g=o("lM5Mj"),v=o("eCDIT"),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},b=function e(n,r,o){"use strict";t(i)(this,e),this.marker=n,this.index=r,this.total=o},_=function(){"use strict";function e(n,r){var o=this;t(i)(this,e),this._markerService=r,this._onDidChange=new(0,u.Emitter),this.onDidChange=this._onDidChange.event,this._dispoables=new(0,c.DisposableStore),this._markers=[],this._nextIdx=-1,l.URI.isUri(n)?this._resourceFilter=function(e){return e.toString()===n.toString()}:n&&(this._resourceFilter=n);var a=function(){var t=o;o._markers=o._markerService.read({resource:l.URI.isUri(n)?n:void 0,severities:s.MarkerSeverity.Error|s.MarkerSeverity.Warning|s.MarkerSeverity.Info}),"function"==typeof n&&(o._markers=o._markers.filter((function(e){return t._resourceFilter(e.resource)}))),o._markers.sort(e._compareMarker)};a(),this._dispoables.add(r.onMarkerChanged((function(e){var t=o;o._resourceFilter&&!e.some((function(e){return t._resourceFilter(e)}))||(a(),o._nextIdx=-1,o._onDidChange.fire())})))}return t(a)(e,[{key:"dispose",value:function(){this._dispoables.dispose(),this._onDidChange.dispose()}},{key:"matches",value:function(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}},{key:"selected",get:function(){var e=this._markers[this._nextIdx];return e&&new b(e,this._nextIdx+1,this._markers.length)}},{key:"_initIdx",value:function(e,t,n){var r=!1,i=this._markers.findIndex((function(t){return t.resource.toString()===e.uri.toString()}));i<0&&(i=(0,f.binarySearch)(this._markers,{resource:e.uri},(function(e,t){return(0,h.compare)(e.resource.toString(),t.resource.toString())})))<0&&(i=~i);for(var o=i;o<this._markers.length;o++){var a=d.Range.lift(this._markers[o]);if(a.isEmpty()){var s=e.getWordAtPosition(a.getStartPosition());s&&(a=new(0,d.Range)(a.startLineNumber,s.startColumn,a.startLineNumber,s.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=o,r=!0;break}if(this._markers[o].resource.toString()!==e.uri.toString())break}r||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}},{key:"resetIndex",value:function(){this._nextIdx=-1}},{key:"move",value:function(e,t,n){if(0===this._markers.length)return!1;var r=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}},{key:"find",value:function(e,t){var n=this._markers.findIndex((function(t){return t.resource.toString()===e.toString()}));if(!(n<0))for(;n<this._markers.length;n++)if(d.Range.containsPosition(this._markers[n],t))return new b(this._markers[n],n+1,this._markers.length)}}],[{key:"_compareMarker",value:function(e,t){var n=(0,h.compare)(e.resource.toString(),t.resource.toString());return 0===n&&(n=s.MarkerSeverity.compare(e.severity,t.severity)),0===n&&(n=d.Range.compareRangesUsingStarts(e,t)),n}}]),e}();_=m([y(1,s.IMarkerService)],_);var k=(0,p.createDecorator)("IMarkerNavigationService"),C=function(){"use strict";function e(n){t(i)(this,e),this._markerService=n,this._provider=new(0,v.LinkedList)}return t(a)(e,[{key:"getMarkerList",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this._provider[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value.getMarkerList(e);if(a)return a}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return new _(e,this._markerService)}}]),e}();C=m([y(0,s.IMarkerService)],C),(0,g.registerSingleton)(k,C,!0)})),o.register("5xW7F",(function(n,r){e(n.exports,"MarkdownHoverParticipant",(function(){return E}),(function(e){return E=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("4GLgu"),l=o("dKkCN"),u=o("i3Iko"),c=o("2Y8KV"),d=o("glSIC"),h=o("Og1nm"),f=o("7iTRb"),p=o("ddsHh"),g=o("KDpXQ"),v=o("4eQyS"),m=o("aQzpN"),y=o("kSiie"),b=o("kaKvC"),_=o("8KoBX"),k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,r){t(n,r,e)}},x=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},w=u.$,S=function(){"use strict";function e(n,r,o){t(i)(this,e),this.owner=n,this.range=r,this.contents=o}return t(a)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),E=function(){"use strict";function e(n,r,o,a,s){t(i)(this,e),this._editor=n,this._hover=r,this._modeService=o,this._openerService=a,this._configurationService=s}return t(a)(e,[{key:"createLoadingMessage",value:function(e){return new S(this,e.range,[(new(0,c.MarkdownString)).appendText(l.localize("modesContentHover.loading","Loading..."))])}},{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n=this._editor.getModel(),r=e.range.startLineNumber,i=n.getLineMaxColumn(r),o=[],a=!0,s=!1,u=void 0;try{for(var d,f=t[Symbol.iterator]();!(a=(d=f.next()).done);a=!0){var g=d.value,v=g.range.startLineNumber===r?g.range.startColumn:1,m=g.range.endLineNumber===r?g.range.endColumn:i,y=g.options.hoverMessage;if(y&&!(0,c.isEmptyMarkdownString)(y)){var b=new(0,h.Range)(e.range.startLineNumber,v,e.range.startLineNumber,m);o.push(new S(this,b,(0,p.asArray)(y)))}}}catch(e){s=!0,u=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw u}}var _=this._editor.getModel().getLineLength(r),k=this._configurationService.getValue("editor.maxTokenizationLineLength");return"number"==typeof k&&_>=k&&o.push(new S(this,new(0,h.Range)(r,1,r,_+1),[{value:l.localize("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),o}},{key:"computeAsync",value:function(e,n,r){return x(this,void 0,void 0,t(s).mark((function n(){var i,o,a,l,u,d,f,p,g,v;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._editor.hasModel()&&1===e.type){t.next=2;break}return t.abrupt("return",Promise.resolve([]));case 2:if(i=this._editor.getModel(),m.HoverProviderRegistry.has(i)){t.next=5;break}return t.abrupt("return",Promise.resolve([]));case 5:return t.next=7,(0,y.getHover)(i,new(0,b.Position)(e.range.startLineNumber,e.range.startColumn),r);case 7:o=t.sent,a=[],l=!0,u=!1,d=void 0,t.prev=10,f=o[Symbol.iterator]();case 12:if(l=(p=f.next()).done){t.next=21;break}if(g=p.value,!(0,c.isEmptyMarkdownString)(g.contents)){t.next=16;break}return t.abrupt("continue",18);case 16:v=g.range?h.Range.lift(g.range):e.range,a.push(new S(this,v,g.contents));case 18:l=!0,t.next=12;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(10),u=!0,d=t.t0;case 27:t.prev=27,t.prev=28,l||null==f.return||f.return();case 30:if(t.prev=30,!u){t.next=33;break}throw d;case 33:return t.finish(30);case 34:return t.finish(27);case 35:return t.abrupt("return",a);case 36:case"end":return t.stop()}}),n,this,[[10,23,27,35],[28,,30,34]])})))}},{key:"renderHoverParts",value:function(e,t,n){var r=new(0,d.DisposableStore),i=!0,o=!1,a=void 0,s=!0,l=!1,h=void 0;try{for(var p,g=e[Symbol.iterator]();!(s=(p=g.next()).done);s=!0){var v=p.value;try{for(var m,y=v.contents[Symbol.iterator]();!(i=(m=y.next()).done);i=!0){var b=m.value,_=this;if(!(0,c.isEmptyMarkdownString)(b)){var k=w("div.hover-row.markdown-hover"),C=u.append(k,w("div.hover-contents")),x=r.add(new(0,f.MarkdownRenderer)({editor:this._editor},this._modeService,this._openerService));r.add(x.onDidRenderAsync((function(){C.className="hover-contents code-hover-contents",_._hover.onContentsChanged()})));var S=r.add(x.render(b));C.appendChild(S.element),t.appendChild(k)}}}catch(e){o=!0,a=e}finally{try{i||null==y.return||y.return()}finally{if(o)throw a}}}}catch(e){l=!0,h=e}finally{try{s||null==g.return||g.return()}finally{if(l)throw h}}return r}}]),e}();E=k([C(2,v.IModeService),C(3,g.IOpenerService),C(4,_.IConfigurationService)],E)})),o.register("7iTRb",(function(n,r){e(n.exports,"MarkdownRenderer",(function(){return _}),(function(e){return _=e}));var i,a=o("fZTNQ"),s=o("j7KTJ"),l=o("4GLgu"),u=o("ePZpn"),c=o("KDpXQ"),d=o("4eQyS"),h=o("9yDnc"),f=o("7wXLQ"),p=o("4YObi"),g=o("glSIC"),v=o("aQzpN"),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},b=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},_=function(){"use strict";function e(n,r,i){t(a)(this,e),this._options=n,this._modeService=r,this._openerService=i,this._onDidRenderAsync=new(0,p.Emitter),this.onDidRenderAsync=this._onDidRenderAsync.event}return t(s)(e,[{key:"dispose",value:function(){this._onDidRenderAsync.dispose()}},{key:"render",value:function(e,t,n){var r=new(0,g.DisposableStore);return{element:e?(0,u.renderMarkdown)(e,Object.assign(Object.assign({},this._getRenderOptions(e,r)),t),n):document.createElement("span"),dispose:function(){return r.dispose()}}}},{key:"_getRenderOptions",value:function(n,r){var i=this;return{baseUrl:this._options.baseUrl,codeBlockRenderer:function(n,r){return b(i,void 0,void 0,t(l).mark((function i(){var o,a,s,u,c,d,h,p;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n?c=this._modeService.getModeIdForLanguageName(n):this._options.editor&&(c=null===(o=this._options.editor.getModel())||void 0===o?void 0:o.getLanguageIdentifier().language),c||(c="plaintext"),this._modeService.triggerMode(c),t.next=7,v.TokenizationRegistry.getPromise(c);case 7:if(t.t1=a=t.sent,t.t0=null!==t.t1,!t.t0){t.next=11;break}t.t0=void 0!==a;case 11:if(!t.t0){t.next=15;break}t.t2=a,t.next=16;break;case 15:t.t2=void 0;case 16:return d=t.t2,(h=document.createElement("span")).innerHTML=null!==(u=null===(s=e._ttpTokenizer)||void 0===s?void 0:s.createHTML(r,d))&&void 0!==u?u:(0,f.tokenizeToString)(r,d),p=this._options.codeBlockFontFamily,this._options.editor&&(p=this._options.editor.getOption(41).fontFamily),p&&(h.style.fontFamily=p),t.abrupt("return",h);case 23:case"end":return t.stop()}}),i,this)})))},asyncRenderCallback:function(){return i._onDidRenderAsync.fire()},actionHandler:{callback:function(e){return i._openerService.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:n.isTrusted}).catch(h.onUnexpectedError)},disposeables:r}}}}]),e}();_._ttpTokenizer=null===(i=window.trustedTypes)||void 0===i?void 0:i.createPolicy("tokenizeToString",{createHTML:function(e,t){return(0,f.tokenizeToString)(e,t)}}),_=m([y(1,d.IModeService),y(2,c.IOpenerService)],_)})),o.register("ePZpn",(function(t,n){e(t.exports,"renderMarkdown",(function(){return w}));var r,i=o("i3Iko"),a=o("3vPVc"),s=o("9yDnc"),l=o("2Y8KV"),u=o("jF1dS"),c=o("34mX0"),d=o("aez97"),h=o("jM2yV"),f=o("ibzvb"),p=o("flPya"),g=o("bErzw"),v=o("98cBO"),m=o("jozAz"),y=o("5Z1yh"),b=o("fgs60"),_=o("lywCL"),k=o("4YObi"),C=o("j0bVO"),x=null===(r=window.trustedTypes)||void 0===r?void 0:r.createPolicy("insane",{createHTML:function(e,t){return(0,d.insane)(e,t)}});function w(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=(0,a.createElement)(r),x=function(t){var n;try{n=(0,h.parse)(decodeURIComponent(t))}catch(e){}return n?(n=(0,f.cloneAndChange)(n,(function(t){return e.uris&&e.uris[t]?g.URI.revive(e.uris[t]):void 0})),encodeURIComponent(JSON.stringify(n))):t},w=function(t,n){var r=e.uris&&e.uris[t];if(!r)return t;var i=g.URI.revive(r);return g.URI.parse(t).toString()===i.toString()?t:n?v.FileAccess.asBrowserUri(i).toString(!0):(i.query&&(i=i.with({query:x(i.query)})),i.toString())},E=new Promise((function(e){return n=e})),D=new c.Renderer;if(D.image=function(e,t,n){var i=[],o=[];if(e){var a;e=(a=(0,l.parseHrefAndDimensions)(e)).href,i=a.dimensions,e=w(e,!0);try{var s=g.URI.parse(e);r.baseUrl&&s.scheme===v.Schemas.file&&(e=(0,y.resolvePath)(r.baseUrl,e).toString())}catch(e){}o.push('src="'.concat(e,'"'))}return n&&o.push('alt="'.concat(n,'"')),t&&o.push('title="'.concat(t,'"')),i.length&&(o=o.concat(i)),"<img "+o.join(" ")+">"},D.link=function(t,n,i){(t===i&&(i=(0,l.removeMarkdownEscapes)(i)),t=w(t,!1),r.baseUrl)&&(/^\w[\w\d+.-]*:/.test(t)||(t=(0,y.resolvePath)(r.baseUrl,t).toString()));return n=(0,l.removeMarkdownEscapes)(n),!(t=(0,l.removeMarkdownEscapes)(t))||t.match(/^data:|javascript:/i)||t.match(/^command:/i)&&!e.isTrusted||t.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?i:(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="#" data-href="'.concat(t,'" title="').concat(n||t,'">').concat(i,"</a>"))},D.paragraph=function(t){e.supportThemeIcons&&(t=(0,_.renderLabelWithIcons)(t).map((function(e){return"string"==typeof e?e:e.outerHTML})).join(""));return"<p>".concat(t,"</p>")},r.codeBlockRenderer&&(D.code=function(e,t){var n=r.codeBlockRenderer(t,e),o=u.defaultGenerator.nextId(),a=Promise.all([n,E]).then((function(e){var t=d.querySelector('div[data-code="'.concat(o,'"]'));t&&i.reset(t,e[0])})).catch((function(e){}));return r.asyncRenderCallback&&a.then(r.asyncRenderCallback),'<div class="code" data-code="'.concat(o,'">').concat((0,p.escape)(e),"</div>")}),r.actionHandler){var I=r.actionHandler.disposeables.add(new(0,C.DomEmitter)(d,"click")),R=r.actionHandler.disposeables.add(new(0,C.DomEmitter)(d,"auxclick"));r.actionHandler.disposeables.add(k.Event.any(I.event,R.event)((function(e){var t=new(0,b.StandardMouseEvent)(e);if(t.leftButton||t.middleButton){var n=t.target;if("A"===n.tagName||(n=n.parentElement)&&"A"===n.tagName)try{var i=n.dataset.href;i&&r.actionHandler.callback(i,t)}catch(e){(0,s.onUnexpectedError)(e)}finally{t.preventDefault()}}})))}o.sanitizer=function(t){return(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:""},o.sanitize=!0,o.silent=!0,o.renderer=D;var L=null!==(t=e.value)&&void 0!==t?t:"";L.length>1e5&&(L="".concat(L.substr(0,1e5),"…")),e.supportThemeIcons&&(L=(0,m.markdownEscapeEscapedIcons)(L));var A=c.parse(L,o);d.innerHTML=S(e,A),n();var M=!0,T=!1,N=void 0;if(r.asyncRenderCallback)try{for(var P,O=function(e,t){var n=t.value,o=i.addDisposableListener(n,"load",(function(){o.dispose(),r.asyncRenderCallback()}))},F=d.getElementsByTagName("img")[Symbol.iterator]();!(M=(P=F.next()).done);M=!0)O(F,P)}catch(e){T=!0,N=e}finally{try{M||null==F.return||F.return()}finally{if(T)throw N}}return d}function S(e,t){var n,r=function(e){var t=[v.Schemas.http,v.Schemas.https,v.Schemas.mailto,v.Schemas.data,v.Schemas.file,v.Schemas.vscodeRemote,v.Schemas.vscodeRemoteResource];e.isTrusted&&t.push(v.Schemas.command);return{allowedSchemes:t,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter:function(t){return"span"!==t.tag||!e.isTrusted||(t.attrs.style&&1===Object.keys(t.attrs).length?!!t.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):!!t.attrs.class&&!!t.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/))}}}(e);return null!==(n=null==x?void 0:x.createHTML(t,r))&&void 0!==n?n:(0,d.insane)(t,r)}})),o.register("34mX0",(function(e,t){e.exports,e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function o(e){var t={exports:{}};return e(t,t.exports),t.exports}var a=o((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}})),s=/[&<>"']/,l=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=function(e){return d[e]};function f(e,t){if(t){if(s.test(e))return e.replace(l,h)}else if(u.test(e))return e.replace(c,h);return e}var p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(e){return e.replace(p,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var v=/(^|[^\[])\^/g;function m(e,t){e=e.source||e,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(v,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var y=/[^\w:]/g,b=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _(e,t,n){if(e){var r;try{r=decodeURIComponent(g(n)).replace(y,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!b.test(n)&&(n=S(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var k={},C=/^[^:]+:\/*[^/]*$/,x=/^([^:]+:)[\s\S]*$/,w=/^([^:]+:\/*[^/]*)[\s\S]*$/;function S(e,t){k[" "+e]||(C.test(e)?k[" "+e]=e+"/":k[" "+e]=I(e,"/",!0));var n=-1===(e=k[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(x,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(w,"$1")+t:e+t}function E(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function D(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function I(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}function R(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1}function L(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function A(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}var M={escape:f,unescape:g,edit:m,cleanUrl:_,resolveUrl:S,noopTest:{exec:function(){}},merge:E,splitCells:D,rtrim:I,findClosingBracket:R,checkSanitizeDeprecation:L,repeatString:A},T=a.defaults,N=M.rtrim,P=M.splitCells,O=M.escape,F=M.findClosingBracket;function B(e,t,n){var r=t.href,i=t.title?O(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:O(o)}}function z(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e})).join("\n")}var W=function(){function e(e){this.options=e||T}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:N(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=z(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=N(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:P(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=P(n.cells[r],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,i,o,a,s,l,u,c=t[0],d=t[2],h=d.length>1,f={type:"list",raw:c,ordered:h,start:h?+d.slice(0,-1):"",loose:!1,items:[]},p=t[0].match(this.rules.block.item),g=!1,v=p.length;i=this.rules.block.listItemStart.exec(p[0]);for(var m=0;m<v;m++){if(c=n=p[m],m!==v-1){if(o=this.rules.block.listItemStart.exec(p[m+1]),this.options.pedantic?o[1].length>i[1].length:o[1].length>i[0].length||o[1].length>3){p.splice(m,2,p[m]+"\n"+p[m+1]),m--,v--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==d[d.length-1]:h===(1===o[2].length))&&(a=p.slice(m+1).join("\n"),f.raw=f.raw.substring(0,f.raw.length-a.length),m=v-1),i=o}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),s=g||/\n\n(?!\s*$)/.test(n),m!==v-1&&(g="\n"===n.charAt(n.length-1),s||(s=g)),s&&(f.loose=!0),this.options.gfm&&(u=void 0,(l=/^\[[ xX]\] /.test(n))&&(u=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:c,task:l,checked:u,loose:s,text:n})}return f}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):O(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:P(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=P(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:O(t[1])}},t.tag=function(e,t,n){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):O(r[0]):r[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=N(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=F(t[2],"()");if(i>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var a=t[2],s="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);l&&(a=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),B(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return B(n,r,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var o,a,s=r[0].length-1,l=s,u=0,c="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=c.exec(t));)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=o.length,r[3]||r[4])l+=a;else if(!((r[5]||r[6])&&s%3)||(s+a)%3){if(!((l-=a)>0)){if(l+u-a<=0&&!t.slice(c.lastIndex).match(c)&&(a=Math.min(a,a+l+u)),Math.min(s,a)%2)return{type:"em",raw:e.slice(0,s+r.index+a+1),text:e.slice(1,s+r.index+a)};if(Math.min(s,a)%2==0)return{type:"strong",raw:e.slice(0,s+r.index+a+1),text:e.slice(2,s+r.index+a-1)}}}else u+=a}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=O(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,r,i=this.rules.inline.autolink.exec(e);if(i)return r="@"===i[2]?"mailto:"+(n=O(this.options.mangle?t(i[1]):i[1])):n=O(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,i;if("@"===n[2])i="mailto:"+(r=O(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=O(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(e,t,n){var r,i=this.rules.inline.text.exec(e);if(i)return r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):O(i[0]):i[0]:O(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},e}(),H=M.noopTest,V=M.edit,j=M.merge,K={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:H,table:H,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};K.def=V(K.def).replace("label",K._label).replace("title",K._title).getRegex(),K.bullet=/(?:[*+-]|\d{1,9}[.)])/,K.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,K.item=V(K.item,"gm").replace(/bull/g,K.bullet).getRegex(),K.listItemStart=V(/^( *)(bull)/).replace("bull",K.bullet).getRegex(),K.list=V(K.list).replace(/bull/g,K.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+K.def.source+")").getRegex(),K._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",K._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,K.html=V(K.html,"i").replace("comment",K._comment).replace("tag",K._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),K.paragraph=V(K._paragraph).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",K._tag).getRegex(),K.blockquote=V(K.blockquote).replace("paragraph",K.paragraph).getRegex(),K.normal=j({},K),K.gfm=j({},K.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),K.gfm.nptable=V(K.gfm.nptable).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",K._tag).getRegex(),K.gfm.table=V(K.gfm.table).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",K._tag).getRegex(),K.pedantic=j({},K.normal,{html:V("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",K._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:H,paragraph:V(K.normal._paragraph).replace("hr",K.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",K.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var U={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:H,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:H,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};U.punctuation=V(U.punctuation).replace(/punctuation/g,U._punctuation).getRegex(),U.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,U.escapedEmSt=/\\\*|\\_/g,U._comment=V(K._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),U.emStrong.lDelim=V(U.emStrong.lDelim).replace(/punct/g,U._punctuation).getRegex(),U.emStrong.rDelimAst=V(U.emStrong.rDelimAst,"g").replace(/punct/g,U._punctuation).getRegex(),U.emStrong.rDelimUnd=V(U.emStrong.rDelimUnd,"g").replace(/punct/g,U._punctuation).getRegex(),U._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,U._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,U._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,U.autolink=V(U.autolink).replace("scheme",U._scheme).replace("email",U._email).getRegex(),U._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,U.tag=V(U.tag).replace("comment",U._comment).replace("attribute",U._attribute).getRegex(),U._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,U._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,U._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,U.link=V(U.link).replace("label",U._label).replace("href",U._href).replace("title",U._title).getRegex(),U.reflink=V(U.reflink).replace("label",U._label).getRegex(),U.reflinkSearch=V(U.reflinkSearch,"g").replace("reflink",U.reflink).replace("nolink",U.nolink).getRegex(),U.normal=j({},U),U.pedantic=j({},U.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:V(/^!?\[(label)\]\((.*?)\)/).replace("label",U._label).getRegex(),reflink:V(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",U._label).getRegex()}),U.gfm=j({},U.normal,{escape:V(U.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),U.gfm.url=V(U.gfm.url,"i").replace("email",U.gfm._extended_email).getRegex(),U.breaks=j({},U.gfm,{br:V(U.br).replace("{2,}","*").getRegex(),text:V(U.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var q={block:K,inline:U},Z=a.defaults,G=q.block,Q=q.inline,J=M.repeatString;function Y(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function X(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var $=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Z,this.options.tokenizer=this.options.tokenizer||new W,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:G.normal,inline:Q.normal};this.options.pedantic?(t.block=G.pedantic,t.inline=Q.pedantic):this.options.gfm&&(t.block=G.gfm,this.options.breaks?t.inline=Q.breaks:t.inline=Q.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var r,i,o,a;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),(a=t[t.length-1])&&"paragraph"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),(a=t[t.length-1])&&"text"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r);else if(e){var s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}return t},n.inline=function(e){var t,n,r,i,o,a,s=e.length;for(t=0;t<s;t++)switch((a=e[t]).type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},i=a.header.length,n=0;n<i;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(i=a.cells.length,n=0;n<i;n++)for(o=a.cells[n],a.tokens.cells[n]=[],r=0;r<o.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(o[r],a.tokens.cells[n][r]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(i=a.items.length,n=0;n<i;n++)this.inline(a.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,r){var i,o;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var a,s,l,u=e;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(u));)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,a.index)+"["+J("a",a[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,a.index)+"["+J("a",a[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(u));)u=u.slice(0,a.index)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(l=""),s=!1,i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e,n,r)){e=e.substring(i.raw.length),n=i.inLink,r=i.inRawBlock;var d=t[t.length-1];d&&"text"===i.type&&"text"===d.type?(d.raw+=i.raw,d.text+=i.text):t.push(i)}else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length);var h=t[t.length-1];"link"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,r),t.push(i)):h&&"text"===i.type&&"text"===h.type?(h.raw+=i.raw,h.text+=i.text):t.push(i)}else if(i=this.tokenizer.emStrong(e,u,l))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.autolink(e,X))e=e.substring(i.raw.length),t.push(i);else if(n||!(i=this.tokenizer.url(e,X))){if(i=this.tokenizer.inlineText(e,r,Y))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),s=!0,(o=t[t.length-1])&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(e){var f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}else e=e.substring(i.raw.length),t.push(i);return t},t(e,null,[{key:"rules",get:function(){return{block:G,inline:Q}}}]),e}(),ee=a.defaults,te=M.cleanUrl,ne=M.escape,re=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+ne(r,!0)+'">'+(n?e:ne(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ne(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+ne(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ie=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),oe=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),ae=a.defaults,se=M.unescape,le=function(){function e(e){this.options=e||ae,this.options.renderer=this.options.renderer||new re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ie,this.slugger=new oe}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,r,i,o,a,s,l,u,c,d,h,f,p,g,v,m,y,b,_="",k=e.length;for(n=0;n<k;n++)switch((d=e[n]).type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(d.tokens),d.depth,se(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(u="",l="",o=d.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(d.tokens.header[r]),{header:!0,align:d.align[r]});for(u+=this.renderer.tablerow(l),c="",o=d.cells.length,r=0;r<o;r++){for(l="",a=(s=d.tokens.cells[r]).length,i=0;i<a;i++)l+=this.renderer.tablecell(this.parseInline(s[i]),{header:!1,align:d.align[i]});c+=this.renderer.tablerow(l)}_+=this.renderer.table(u,c);continue;case"blockquote":c=this.parse(d.tokens),_+=this.renderer.blockquote(c);continue;case"list":for(h=d.ordered,f=d.start,p=d.loose,o=d.items.length,c="",r=0;r<o;r++)m=(v=d.items[r]).checked,y=v.task,g="",v.task&&(b=this.renderer.checkbox(m),p?v.tokens.length>0&&"text"===v.tokens[0].type?(v.tokens[0].text=b+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=b+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:b}):g+=b),g+=this.parse(v.tokens,p),c+=this.renderer.listitem(g,y,m);_+=this.renderer.list(c,h,f);continue;case"html":_+=this.renderer.html(d.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(c=d.tokens?this.parseInline(d.tokens):d.text;n+1<k&&"text"===e[n+1].type;)c+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);_+=t?this.renderer.paragraph(c):c;continue;default:var C='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(C);throw new Error(C)}return _},t.parseInline=function(e,t){t=t||this.renderer;var n,r,i="",o=e.length;for(n=0;n<o;n++)switch((r=e[n]).type){case"escape":i+=t.text(r.text);break;case"html":i+=t.html(r.text);break;case"link":i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":i+=t.image(r.href,r.title,r.text);break;case"strong":i+=t.strong(this.parseInline(r.tokens,t));break;case"em":i+=t.em(this.parseInline(r.tokens,t));break;case"codespan":i+=t.codespan(r.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(r.tokens,t));break;case"text":i+=t.text(r.text);break;default:var a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}return i},e}(),ue=M.merge,ce=M.checkSanitizeDeprecation,de=M.escape,he=a.getDefaults,fe=a.changeDefaults,pe=a.defaults;function ge(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=ue({},ge.defaults,t||{}),ce(t),n){var r,i=t.highlight;try{r=$.lex(e,t)}catch(e){return n(e)}var o=function(e){var o;if(!e)try{o=le.parse(r,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();var a=0;return ge.walkTokens(r,(function(e){"code"===e.type&&(a++,setTimeout((function(){i(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--a&&o()}))}),0))})),void(0===a&&o())}try{var s=$.lex(e,t);return t.walkTokens&&ge.walkTokens(s,t.walkTokens),le.parse(s,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}}return ge.options=ge.setOptions=function(e){return ue(ge.defaults,e),fe(ge.defaults),ge},ge.getDefaults=he,ge.defaults=pe,ge.use=function(e){var t=ue({},e);if(e.renderer&&function(){var n=ge.defaults.renderer||new re,r=function(t){var r=n[t];n[t]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=e.renderer[t].apply(n,o);return!1===s&&(s=r.apply(n,o)),s}};for(var i in e.renderer)r(i);t.renderer=n}(),e.tokenizer&&function(){var n=ge.defaults.tokenizer||new W,r=function(t){var r=n[t];n[t]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=e.tokenizer[t].apply(n,o);return!1===s&&(s=r.apply(n,o)),s}};for(var i in e.tokenizer)r(i);t.tokenizer=n}(),e.walkTokens){var n=ge.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}ge.setOptions(t)},ge.walkTokens=function(e,t){for(var n,r=i(e);!(n=r()).done;){var o=n.value;switch(t(o),o.type){case"table":for(var a,s=i(o.tokens.header);!(a=s()).done;){var l=a.value;ge.walkTokens(l,t)}for(var u,c=i(o.tokens.cells);!(u=c()).done;)for(var d,h=i(u.value);!(d=h()).done;){var f=d.value;ge.walkTokens(f,t)}break;case"list":ge.walkTokens(o.items,t);break;default:o.tokens&&ge.walkTokens(o.tokens,t)}}},ge.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ue({},ge.defaults,t||{}),ce(t);try{var n=$.lexInline(e,t);return t.walkTokens&&ge.walkTokens(n,t.walkTokens),le.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}},ge.Parser=le,ge.parser=le.parse,ge.Renderer=re,ge.TextRenderer=ie,ge.Lexer=$,ge.lexer=$.lex,ge.Tokenizer=W,ge.Slugger=oe,ge.parse=ge,ge}()})),o.register("aez97",(function(t,n){var r;e(t.exports,"insane",(function(){return i})),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l=void 0;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./toMap");t.exports={uris:r(["background","base","cite","href","longdesc","src","usemap"])}},{"./toMap":10}],2:[function(e,t,n){"use strict";t.exports={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null}},{}],3:[function(e,t,n){"use strict";var r=e("./toMap");t.exports={voids:r(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])}},{"./toMap":10}],4:[function(e,t,n){"use strict";e("he");var i=e("assignment"),o=e("./parser"),a=e("./sanitizer"),s=e("./defaults");function l(e,t,n){var r=[],l=!0===n?t:i({},s,t),u=a(r,l);return o(e,u),r.join("")}l.defaults=s,t.exports=l,r=l},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,t,n){"use strict";t.exports=function(e){return"string"==typeof e?e.toLowerCase():e}},{}],6:[function(e,t,n){"use strict";t.exports=function e(t){for(var n,r,i=Array.prototype.slice.call(arguments,1);i.length;)for(r in n=i.shift())n.hasOwnProperty(r)&&("[object Object]"===Object.prototype.toString.call(t[r])?t[r]=e(t[r],n[r]):t[r]=n[r]);return t}},{}],7:[function(e,t,n){"use strict";var r=e("he"),i=e("./lowercase"),o=(e("./attributes"),e("./elements")),a=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,s=/^<\s*\/\s*([\w:-]+)[^>]*>/,l=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,u=/^</,c=/^<\s*\//;t.exports=function(e,t){for(var n,d=function(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}(),h=e;e;)f();function f(){n=!0,function(){"\x3c!--"===e.substr(0,4)?(r=e.indexOf("--\x3e"),r>=0&&(t.comment&&t.comment(e.substring(4,r)),e=e.substring(r+3),n=!1)):c.test(e)?p(s,v):u.test(e)&&p(a,g);var r;!function(){if(!n)return;var r,i=e.indexOf("<");i>=0?(r=e.substring(0,i),e=e.substring(i)):(r=e,e="");t.chars&&t.chars(r)}()}();var r=e===h;h=e,r&&(e="")}function p(t,r){var i=e.match(t);i&&(e=e.substring(i[0].length),i[0].replace(t,r),n=!1)}function g(e,n,a,s){var u={},c=i(n),h=o.voids[c]||!!s;a.replace(l,(function(e,t,n,i,o){u[t]=void 0===n&&void 0===i&&void 0===o?void 0:r.decode(n||i||o||"")})),h||d.push(c),t.start&&t.start(c,u,h)}function v(e,n){var r,o=0,a=i(n);if(a)for(o=d.length-1;o>=0&&d[o]!==a;o--);if(o>=0){for(r=d.length-1;r>=o;r--)t.end&&t.end(d[r]);d.length=o}}v()}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,t,n){"use strict";var r=e("he"),i=e("./lowercase"),o=e("./attributes"),a=e("./elements");t.exports=function(e,t){var n,s=t||{};return d(),{start:function(e,t,a){var c=i(e);if(n.ignoring)return void u(c);if(-1===(s.allowedTags||[]).indexOf(c))return void u(c);if(s.filter&&!s.filter({tag:c,attrs:t}))return void u(c);l("<"),l(c),Object.keys(t).forEach((function(e){var n=t[e],a=(s.allowedClasses||{})[c]||[],u=(s.allowedAttributes||{})[c]||[];u=u.concat((s.allowedAttributes||{})["*"]||[]);var d=i(e);("class"===d&&-1===u.indexOf(d)?(n=n.split(" ").filter((function(e){return a&&-1!==a.indexOf(e)})).join(" ").trim()).length:-1!==u.indexOf(d)&&(!0!==o.uris[d]||function(e){var t=e[0];if("#"===t||"/"===t)return!0;var n=e.indexOf(":");if(-1===n)return!0;var r=e.indexOf("?");if(-1!==r&&n>r)return!0;var i=e.indexOf("#");return-1!==i&&n>i||s.allowedSchemes.some(o);function o(t){return 0===e.indexOf(t+":")}}(n)))&&(l(" "),l(e),"string"==typeof n&&(l('="'),l(r.encode(n)),l('"')))})),l(a?"/>":">")},end:function(e){var t=i(e);-1!==(s.allowedTags||[]).indexOf(t)&&!1===n.ignoring?(l("</"),l(t),l(">")):c(t)},chars:function(e){!1===n.ignoring&&l(s.transformText?s.transformText(e):e)}};function l(t){e.push(t)}function u(e){a.voids[e]||(!1===n.ignoring?n={ignoring:e,depth:1}:n.ignoring===e&&n.depth++)}function c(e){n.ignoring===e&&--n.depth<=0&&d()}function d(){n={ignoring:!1,depth:0}}}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,t,n){"use strict";var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},o=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,a=/[&<>"']/g;function s(e){return r[e]}function l(e){return i[e]}function u(e){return null==e?"":String(e).replace(a,s)}function c(e){return null==e?"":String(e).replace(o,l)}u.options=c.options={},t.exports={encode:u,escape:u,decode:c,unescape:c,version:"1.0.0-browser"}},{}],10:[function(e,t,n){"use strict";function r(e,t){return e[t]=!0,e}t.exports=function(e){return e.reduce(r,{})}},{}]},{},[4]);var i=r})),o.register("kSiie",(function(t,n){e(t.exports,"getHover",(function(){return u}));var r=o("ddsHh"),i=o("7C9Vb"),a=o("9yDnc"),s=o("kT6fp"),l=o("aQzpN");function u(e,t,n){var i=l.HoverProviderRegistry.ordered(e).map((function(r){return Promise.resolve(r.provideHover(e,t,n)).then((function(e){return e&&(n=void 0!==(t=e).range,r=void 0!==t.contents&&t.contents&&t.contents.length>0,n&&r)?e:void 0;var t,n,r}),(function(e){(0,a.onUnexpectedExternalError)(e)}))}));return Promise.all(i).then(r.coalesce)}(0,s.registerModelAndPositionCommand)("_executeHoverProvider",(function(e,t){return u(e,t,i.CancellationToken.None)}))})),o.register("hsMI0",(function(n,r){e(n.exports,"InlineCompletionsHoverParticipant",(function(){return b}),(function(e){return b=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("dKkCN"),u=o("93b1r"),c=o("Og1nm"),d=o("glSIC"),h=o("a4vVo"),f=o("1Ms2U"),p=o("lvhYu"),g=o("6x2MV"),v=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},m=function(e,t){return function(n,r){t(n,r,e)}},y=function(){"use strict";function e(n,r,o){t(i)(this,e),this.owner=n,this.range=r,this.controller=o}return t(a)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},{key:"hasMultipleSuggestions",value:function(){return this.controller.hasMultipleInlineCompletions()}}]),e}(),b=function(){"use strict";function e(n,r,o,a,s){t(i)(this,e),this._editor=n,this._commandService=o,this._menuService=a,this._contextKeyService=s}return t(a)(e,[{key:"suggestHoverAnchor",value:function(e){var t=h.GhostTextController.get(this._editor);if(!t)return null;if(8===e.target.type){var n=e.target.detail;if(t.shouldShowHoverAtViewZone(n.viewZoneId))return new(0,u.HoverForeignElementAnchor)(1e3,this,c.Range.fromPositions(n.positionBefore||n.position,n.positionBefore||n.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new(0,u.HoverForeignElementAnchor)(1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail&&(e.target.detail.mightBeForeignElement&&t.shouldShowHoverAt(e.target.range)))return new(0,u.HoverForeignElementAnchor)(1e3,this,e.target.range);return null}},{key:"computeSync",value:function(e,t){var n=h.GhostTextController.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new y(this,e.range,n)]:[]}},{key:"renderHoverParts",value:function(e,n,r){var i=this,o=new(0,d.DisposableStore),a=o.add(this._menuService.createMenu(p.MenuId.InlineCompletionsActions,this._contextKeyService)),u=r.addAction({label:l.localize("showNextInlineSuggestion","Next"),commandId:h.ShowNextInlineSuggestionAction.ID,run:function(){return i._commandService.executeCommand(h.ShowNextInlineSuggestionAction.ID)}}),c=r.addAction({label:l.localize("showPreviousInlineSuggestion","Previous"),commandId:h.ShowPreviousInlineSuggestionAction.ID,run:function(){return i._commandService.executeCommand(h.ShowPreviousInlineSuggestionAction.ID)}});r.addAction({label:l.localize("acceptInlineSuggestion","Accept"),commandId:h.commitInlineSuggestionAction.id,run:function(){return i._commandService.executeCommand(h.commitInlineSuggestionAction.id)}});var f=[u,c],g=!0,v=!1,m=void 0;try{for(var y,b=f[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){y.value.setEnabled(!1)}}catch(e){v=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}e[0].hasMultipleSuggestions().then((function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=f[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setEnabled(e)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}));var _=!0,k=!1,C=void 0;try{for(var x,w=a.getActions()[Symbol.iterator]();!(_=(x=w.next()).done);_=!0){var S=t(s)(x.value,2),E=(S[0],S[1]),D=this,I=!0,R=!1,L=void 0;try{for(var A,M=function(e,t){var n=t.value;n instanceof p.MenuItemAction&&r.addAction({label:n.label,commandId:n.item.id,run:function(){return D._commandService.executeCommand(n.item.id)}})},T=E[Symbol.iterator]();!(I=(A=T.next()).done);I=!0)M(0,A)}catch(e){R=!0,L=e}finally{try{I||null==T.return||T.return()}finally{if(R)throw L}}}}catch(e){k=!0,C=e}finally{try{_||null==w.return||w.return()}finally{if(k)throw C}}return o}}]),e}();b=v([m(2,f.ICommandService),m(3,p.IMenuService),m(4,g.IContextKeyService)],b)})),o.register("93b1r",(function(n,r){e(n.exports,"HoverRangeAnchor",(function(){return s})),e(n.exports,"HoverForeignElementAnchor",(function(){return l}));var i=o("fZTNQ"),a=o("j7KTJ"),s=function(){"use strict";function e(n,r){t(i)(this,e),this.priority=n,this.range=r,this.type=1}return t(a)(e,[{key:"equals",value:function(e){return 1===e.type&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}]),e}(),l=function(){"use strict";function e(n,r,o){t(i)(this,e),this.priority=n,this.owner=r,this.range=o,this.type=2}return t(a)(e,[{key:"equals",value:function(e){return 2===e.type&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,t){return 2===e.type&&this.owner===e.owner}}]),e}()})),o.register("a4vVo",(function(n,r){e(n.exports,"GhostTextController",(function(){return k}),(function(e){return k=e})),e(n.exports,"commitInlineSuggestionAction",(function(){return S}),(function(e){return S=e})),e(n.exports,"ShowNextInlineSuggestionAction",(function(){return E}),(function(e){return E=e})),e(n.exports,"ShowPreviousInlineSuggestionAction",(function(){return D}),(function(e){return D=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("4GLgu"),c=o("glSIC"),d=o("kT6fp"),h=o("7Zg88"),f=o("j5lVD"),p=o("dKkCN"),g=o("6x2MV"),v=o("e1Jmh"),m=o("2D7sr"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,r){t(n,r,e)}},_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},k=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o){var a;return t(i)(this,r),(a=n.call(this)).editor=e,a.instantiationService=o,a.triggeredExplicitly=!1,a.activeController=a._register(new(0,c.MutableDisposable)),a._register(a.editor.onDidChangeModel((function(){a.updateModelController()}))),a._register(a.editor.onDidChangeConfiguration((function(e){e.hasChanged(105)&&a.updateModelController(),e.hasChanged(53)&&a.updateModelController()}))),a.updateModelController(),a}return t(a)(r,[{key:"activeModel",get:function(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}},{key:"updateModelController",value:function(){var e=this.editor.getOption(105),t=this.editor.getOption(53);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(x,this.editor):void 0}},{key:"shouldShowHoverAt",value:function(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}},{key:"shouldShowHoverAtViewZone",value:function(e){var t,n;return(null===(n=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===n?void 0:n.shouldShowHoverAtViewZone(e))||!1}},{key:"trigger",value:function(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}},{key:"commit",value:function(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}},{key:"hide",value:function(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}},{key:"showNextInlineCompletion",value:function(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}},{key:"showPreviousInlineCompletion",value:function(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}},{key:"hasMultipleInlineCompletions",value:function(){var e;return _(this,void 0,void 0,t(u).mark((function n(){var r;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();case 2:return r=t.sent,t.abrupt("return",void 0!==r&&r);case 4:case"end":return t.stop()}}),n,this)})))}}],[{key:"get",value:function(e){return e.getContribution(r.ID)}}]),r}(c.Disposable);k.inlineSuggestionVisible=new(0,g.RawContextKey)("inlineSuggestionVisible",!1,p.localize("inlineSuggestionVisible","Whether an inline suggestion is visible")),k.inlineSuggestionHasIndentation=new(0,g.RawContextKey)("inlineSuggestionHasIndentation",!1,p.localize("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),k.ID="editor.contrib.ghostTextController",k=y([b(1,v.IInstantiationService)],k);var C=function e(n){"use strict";t(i)(this,e),this.contextKeyService=n,this.inlineCompletionVisible=k.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=k.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)},x=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o,a){var s;return t(i)(this,r),(s=n.call(this)).editor=e,s.instantiationService=o,s.contextKeyService=a,s.contextKeys=new C(s.contextKeyService),s.model=s._register(s.instantiationService.createInstance(m.GhostTextModel,s.editor)),s.widget=s._register(s.instantiationService.createInstance(f.GhostTextWidget,s.editor,s.model)),s._register((0,c.toDisposable)((function(){s.contextKeys.inlineCompletionVisible.set(!1),s.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}))),s._register(s.model.onDidChange((function(){s.updateContextKeys()}))),s.updateContextKeys(),s}return t(a)(r,[{key:"updateContextKeys",value:function(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));var t=this.model.inlineCompletionsModel.ghostText;if(t&&t.parts.length>0){var n=t.parts[0],r=n.column,i=n.lines,o=i[0].startsWith(" ")||i[0].startsWith("\t"),a=r<=this.editor.getModel().getLineIndentColumn(t.lineNumber);this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&o&&a)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}}]),r}(c.Disposable);x=y([b(1,v.IInstantiationService),b(2,g.IContextKeyService)],x);var w=d.EditorCommand.bindToContribution(k.get),S=new w({id:"editor.action.inlineSuggest.commit",precondition:g.ContextKeyExpr.and(k.inlineSuggestionVisible,k.inlineSuggestionHasIndentation.toNegated(),h.EditorContextKeys.tabMovesFocus.toNegated()),kbOpts:{weight:200,primary:2},handler:function(e){e.commit(),e.editor.focus()}});(0,d.registerEditorCommand)(S),(0,d.registerEditorCommand)(new w({id:"editor.action.inlineSuggest.hide",precondition:k.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler:function(e){e.hide()}}));var E=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,{id:r.ID,label:p.localize("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:g.ContextKeyExpr.and(h.EditorContextKeys.writable,k.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}return t(a)(r,[{key:"run",value:function(e,n){return _(this,void 0,void 0,t(u).mark((function e(){var r;return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=k.get(n))&&(r.showNextInlineCompletion(),n.focus());case 2:case"end":return e.stop()}}),e)})))}}]),r}(d.EditorAction);E.ID="editor.action.inlineSuggest.showNext";var D=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,{id:r.ID,label:p.localize("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:g.ContextKeyExpr.and(h.EditorContextKeys.writable,k.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}return t(a)(r,[{key:"run",value:function(e,n){return _(this,void 0,void 0,t(u).mark((function e(){var r;return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=k.get(n))&&(r.showPreviousInlineCompletion(),n.focus());case 2:case"end":return e.stop()}}),e)})))}}]),r}(d.EditorAction);D.ID="editor.action.inlineSuggest.showPrevious";var I=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,{id:"editor.action.inlineSuggest.trigger",label:p.localize("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:h.EditorContextKeys.writable})}return t(a)(r,[{key:"run",value:function(e,n){return _(this,void 0,void 0,t(u).mark((function e(){var r;return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=k.get(n))&&r.trigger();case 2:case"end":return e.stop()}}),e)})))}}]),r}(d.EditorAction);(0,d.registerEditorContribution)(k.ID,k),(0,d.registerEditorAction)(I),(0,d.registerEditorAction)(E),(0,d.registerEditorAction)(D)})),o.register("j5lVD",(function(n,r){e(n.exports,"GhostTextWidget",(function(){return M}),(function(e){return M=e}));var i,a=o("bETlW"),s=o("fZTNQ"),l=o("j7KTJ"),u=o("hgtn2"),c=o("aV5UR"),d=o("i3Iko"),h=o("glSIC"),f=o("Og1nm"),p=o("flIZY"),g=o("flPya"),v=o("2iNu7"),m=o("jh0RV"),y=o("ghOt3"),b=o("zOY5u"),_=o("jSh5d"),k=o("kaKvC"),C=o("4qRit"),x=o("kxsLz"),w=o("3bv5f"),S=o("4AdlH"),E=o("ftdoY"),D=o("6x2MV"),I=o("e1Jmh"),R=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,r){t(n,r,e)}},A=null===(i=window.trustedTypes)||void 0===i?void 0:i.createPolicy("editorGhostText",{createHTML:function(e){return e}}),M=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,i,o){var a;return t(s)(this,r),(a=n.call(this)).editor=e,a.model=i,a.instantiationService=o,a.disposed=!1,a.partsWidget=a._register(a.instantiationService.createInstance(T,a.editor)),a.additionalLinesWidget=a._register(new P(a.editor)),a.viewMoreContentWidget=void 0,a._register(a.editor.onDidChangeConfiguration((function(e){(e.hasChanged(27)||e.hasChanged(104)||e.hasChanged(87)||e.hasChanged(81)||e.hasChanged(42)||e.hasChanged(41)||e.hasChanged(57))&&a.update()}))),a._register((0,h.toDisposable)((function(){var e;a.disposed=!0,a.update(),null===(e=a.viewMoreContentWidget)||void 0===e||e.dispose(),a.viewMoreContentWidget=void 0}))),a._register(i.onDidChange((function(){a.update()}))),a.update(),a}return t(l)(r,[{key:"shouldShowHoverAtViewZone",value:function(e){return this.additionalLinesWidget.viewZoneId===e}},{key:"update",value:function(){var e,t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();var n=new Array,r=new Array;function i(e,t){if(r.length>0){var n=r[r.length-1];t&&n.decorations.push(new(0,E.LineDecoration)(n.content.length+1,n.content.length+1+e[0].length,t,0)),n.content+=e[0],e=e.slice(1)}var i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r.push({content:u,decorations:t?[new(0,E.LineDecoration)(1,u.length+1,t,0)]:[]})}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}var o=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);var a=void 0,s=0,l=!0,u=!1,c=void 0;try{for(var d,h=t.parts[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value,p=f.lines;void 0===a?(n.push({column:f.column,text:p[0]}),p=p.slice(1)):i([o.substring(s,f.column-1)],void 0),p.length>0&&(i(p,"ghost-text"),void 0===a&&f.column<=o.length&&(a=f.column)),s=f.column-1}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}void 0!==a&&i([o.substring(s)],void 0),this.partsWidget.setParts(t.lineNumber,n,void 0!==a?{column:a,length:o.length+1-a}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,r,t.additionalReservedLineCount),t.parts.some((function(e){return e.lines.length<0}))?this.viewMoreContentWidget=this.renderViewMoreLines(new(0,k.Position)(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}},{key:"renderViewMoreLines",value:function(e,t,n){var r=this,i=this.editor.getOption(41),o=document.createElement("div");o.className="suggest-preview-additional-widget",b.Configuration.applyFontInfoSlow(o,i);var a=document.createElement("span");a.className="content-spacer",a.append(t),o.append(a);var s=document.createElement("span");s.className="content-newline suggest-preview-text",s.append("⏎  "),o.append(s);var l=new(0,h.DisposableStore),u=document.createElement("div");return u.className="button suggest-preview-text",u.append("+".concat(n," lines…")),l.add(d.addStandardDisposableListener(u,"mousedown",(function(e){var t;null===(t=r.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),r.editor.focus()}))),o.append(u),new F(this.editor,e,o,l)}}]),r}(h.Disposable);M=R([L(2,I.IInstantiationService)],M);var T=function(){"use strict";function e(n,r,i,o){t(s)(this,e),this.editor=n,this.codeEditorService=r,this.themeService=i,this.contextKeyService=o,this.decorationIds=[],this.disposableStore=new(0,h.DisposableStore)}return t(l)(e,[{key:"dispose",value:function(){this.clear(),this.disposableStore.dispose()}},{key:"clear",value:function(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}},{key:"setParts",value:function(e,t,n){var r=this;this.disposableStore.clear();var i=this.themeService.getColorTheme(),o=i.getColor(x.ghostTextForeground),a=void 0,s=void 0;o&&(a=String(o.rgba.a),s=w.Color.Format.CSS.format(N(o)));var l=i.getColor(x.ghostTextBorder),u=void 0;l&&(u="2px dashed ".concat(l));var c=this.editor.getModel();if(c){var d=c.getOptions().tabSize,h=c.getLineContent(e)||"",p=0,g="",v=new Array;n&&v.push({range:f.Range.fromPositions(new(0,k.Position)(e,n.column),new(0,k.Position)(e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});var m=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),y=void 0===m||!!m;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map((function(t){g+=h.substring(p,t.column-1),p=t.column-1;var n=y?t.text:r.renderSingleLineText(t.text,g,d,!1),i=r.disposableStore.add(function(e,t,n,r){var i=n+O++;return e.registerDecorationType(t,i,r),{dispose:function(){e.removeDecorationType(i)},resolve:function(){return e.resolveDecorationOptions(i,!0)}}}(r.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:n,opacity:a,color:s,border:u}}));return{range:f.Range.fromPositions(new(0,k.Position)(e,t.column)),options:y?{description:"ghost-text",after:{content:n,inlineClassName:"ghost-text-decoration"}}:Object.assign({},i.resolve())}})).concat(v))}}},{key:"renderSingleLineText",value:function(e,t,n,r){var i=t+e,o=S.CursorColumns.visibleColumnsByColumns(i,n),a="",s=t.length+1,l=!0,u=!1,c=void 0;try{for(var d,h=e[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;if("\t"===f){var p=o[s+1]-o[s];if(r){a+="→";for(var g=1;g<p;g++)a+=" "}else for(var v=0;v<p;v++)a+=" "}else a+=" "===f?r?"·":" ":f;s+=1}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}return a}}]),e}();function N(e){var t=e.rgba,n=t.r,r=t.b,i=t.g;return new(0,w.Color)(new(0,w.RGBA)(n,i,r,255))}T=R([L(1,p.ICodeEditorService),L(2,C.IThemeService),L(3,D.IContextKeyService)],T);var P=function(){"use strict";function e(n){t(s)(this,e),this.editor=n,this._viewZoneId=void 0}return t(l)(e,[{key:"viewZoneId",get:function(){return this._viewZoneId}},{key:"dispose",value:function(){this.clear()}},{key:"clear",value:function(){var e=this;this.editor.changeViewZones((function(t){e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0)}))}},{key:"updateLines",value:function(e,t,n){var r=this,i=this.editor.getModel();if(i){var o=i.getOptions().tabSize;this.editor.changeViewZones((function(i){r._viewZoneId&&(i.removeZone(r._viewZoneId),r._viewZoneId=void 0);var a=Math.max(t.length,n);if(a>0){var s=document.createElement("div");!function(e,t,n,r){var i=r.get(27),o=r.get(104),a="none",s=r.get(81),l=r.get(42),u=r.get(41),c=r.get(57),d=(0,y.createStringBuilder)(1e4);d.appendASCIIString('<div class="suggest-preview-text">');for(var h=0,f=n.length;h<f;h++){var p=n[h],k=p.content;d.appendASCIIString('<div class="view-line'),d.appendASCIIString('" style="top:'),d.appendASCIIString(String(h*c)),d.appendASCIIString('px;width:1000000px;">');var C=g.isBasicASCII(k),x=g.containsRTL(k),w=_.LineTokens.createEmpty(k);(0,v.renderViewLine)(new(0,v.RenderLineInput)(u.isMonospace&&!i,u.canUseHalfwidthRightwardsArrow,k,!1,C,x,0,w,p.decorations,t,0,u.spaceWidth,u.middotWidth,u.wsmiddotWidth,o,a,s,l!==m.EditorFontLigatures.OFF,null),d),d.appendASCIIString("</div>")}d.appendASCIIString("</div>"),b.Configuration.applyFontInfoSlow(e,u);var S=d.build(),E=A?A.createHTML(S):S;e.innerHTML=E}(s,o,t,r.editor.getOptions()),r._viewZoneId=i.addZone({afterLineNumber:e,heightInLines:a,domNode:s})}}))}}}]),e}();var O=0;var F=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,i,o,l){var u;return t(s)(this,r),(u=n.call(this)).editor=e,u.position=i,u.domNode=o,u.allowEditorOverflow=!1,u.suppressMouseDown=!1,u._register(l),u._register((0,h.toDisposable)((function(){u.editor.removeContentWidget(t(a)(u))}))),u.editor.addContentWidget(t(a)(u)),u}return t(l)(r,[{key:"getId",value:function(){return"editor.widget.viewMoreLinesWidget"}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{position:this.position,preference:[0]}}}]),r}(h.Disposable);(0,C.registerThemingParticipant)((function(e,t){var n=e.getColor(x.ghostTextForeground);if(n){var r=String(n.rgba.a),i=w.Color.Format.CSS.format(N(n));t.addRule(".monaco-editor .ghost-text-decoration { opacity: ".concat(r,"; color: ").concat(i,"; }")),t.addRule(".monaco-editor .suggest-preview-text .ghost-text { opacity: ".concat(r,"; color: ").concat(i,"; }"))}var o=e.getColor(x.ghostTextBorder);o&&t.addRule(".monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ".concat(o,"; }"))}))})),o.register("2D7sr",(function(n,r){e(n.exports,"GhostTextModel",(function(){return _}),(function(e){return _=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("4GLgu"),c=o("glSIC"),d=o("9W18y"),h=o("d4P4i"),f=o("1Ms2U"),p=o("4YObi"),g=o("kaKvC"),v=o("7M4f1"),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},b=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},_=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o){var a;return t(i)(this,r),(a=n.call(this)).editor=e,a.commandService=o,a.suggestWidgetAdapterModel=a._register(new(0,h.SuggestWidgetAdapterModel)(a.editor)),a.inlineCompletionsModel=a._register(new(0,d.InlineCompletionsModel)(a.editor,a.commandService)),a._register(a.suggestWidgetAdapterModel.onDidChange((function(){a.updateModel()}))),a.updateModel(),a}return t(a)(r,[{key:"activeInlineCompletionsModel",get:function(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}},{key:"updateModel",value:function(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}},{key:"shouldShowHoverAt",value:function(e){var t,n=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!n&&n.parts.some((function(t){return e.containsPosition(new(0,g.Position)(n.lineNumber,t.column))}))}},{key:"triggerInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger()}},{key:"commitInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}},{key:"hideInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}},{key:"showNextInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}},{key:"showPreviousInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}},{key:"hasMultipleInlineCompletions",value:function(){var e;return b(this,void 0,void 0,t(u).mark((function n(){var r;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();case 2:return r=t.sent,t.abrupt("return",void 0!==r&&r);case 4:case"end":return t.stop()}}),n,this)})))}}]),r}(function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){var e;return t(i)(this,r),(e=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).onDidChangeEmitter=new(0,p.Emitter),e.onDidChange=e.onDidChangeEmitter.event,e.hasCachedGhostText=!1,e.currentModelRef=e._register(new(0,c.MutableDisposable)),e}return t(a)(r,[{key:"targetModel",get:function(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}},{key:"setTargetModel",value:function(e){var t,n=this;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?(0,v.createDisposableRef)(e,e.onDidChange((function(){n.hasCachedGhostText=!1,n.onDidChangeEmitter.fire()}))):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}},{key:"ghostText",get:function(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}},{key:"setExpanded",value:function(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}},{key:"expanded",get:function(){return!!this.targetModel&&this.targetModel.expanded}},{key:"minReservedLineCount",get:function(){return this.targetModel?this.targetModel.minReservedLineCount:0}}]),r}(c.Disposable));_=m([y(1,f.ICommandService)],_)})),o.register("9W18y",(function(n,r){e(n.exports,"InlineCompletionsModel",(function(){return I}),(function(e){return I=e})),e(n.exports,"inlineCompletionToGhostText",(function(){return T}),(function(e){return T=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("hFMTy"),u=o("aV5UR"),c=o("4GLgu"),d=o("1xRRx"),h=o("7C9Vb"),f=o("9yDnc"),p=o("4YObi"),g=o("glSIC"),v=o("flPya"),m=o("Og1nm"),y=o("aQzpN"),b=o("6JJ1Z"),_=o("1Ms2U"),k=o("kT6fp"),C=o("BcgjZ"),x=o("lx5QY"),w=o("49VVk"),S=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,r){t(n,r,e)}},D=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},I=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(e,o){var a;return t(i)(this,r),(a=n.call(this)).editor=e,a.commandService=o,a.onDidChangeEmitter=new(0,p.Emitter),a.onDidChange=a.onDidChangeEmitter.event,a.completionSession=a._register(new(0,g.MutableDisposable)),a.active=!1,a._register(o.onDidExecuteCommand((function(t){new Set([k.UndoCommand.id,k.RedoCommand.id,C.CoreEditingCommands.Tab.id,C.CoreEditingCommands.DeleteLeft.id,C.CoreEditingCommands.DeleteRight.id]).has(t.commandId)&&e.hasTextFocus()&&a.handleUserInput()}))),a._register(a.editor.onDidType((function(e){a.handleUserInput()}))),a._register(a.editor.onDidChangeCursorPosition((function(e){a.session&&!a.session.isValid&&a.hide()}))),a}return t(a)(r,[{key:"handleUserInput",value:function(){var e=this;this.session&&!this.session.isValid&&this.hide(),setTimeout((function(){e.startSessionIfTriggered()}),0)}},{key:"session",get:function(){return this.completionSession.value}},{key:"ghostText",get:function(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}},{key:"minReservedLineCount",get:function(){return this.session?this.session.minReservedLineCount:0}},{key:"expanded",get:function(){return!!this.session&&this.session.expanded}},{key:"setExpanded",value:function(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}},{key:"setActive",value:function(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}},{key:"startSessionIfTriggered",value:function(){this.editor.getOption(53).enabled&&(this.session&&this.session.isValid||this.trigger())}},{key:"trigger",value:function(){var e=this;this.completionSession.value||(this.completionSession.value=new R(this.editor,this.editor.getPosition(),(function(){return e.active}),this.commandService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange((function(){e.onDidChangeEmitter.fire()}))))}},{key:"hide",value:function(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}},{key:"commitCurrentSuggestion",value:function(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}},{key:"showNext",value:function(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}},{key:"showPrevious",value:function(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}},{key:"hasMultipleInlineCompletions",value:function(){var e;return D(this,void 0,void 0,t(c).mark((function n(){var r;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();case 2:return r=t.sent,t.abrupt("return",void 0!==r&&r);case 4:case"end":return t.stop()}}),n,this)})))}}]),r}(g.Disposable);I=S([E(1,_.ICommandService)],I);var R=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(e,o,a,s){var l;t(i)(this,r),(l=n.call(this,e)).triggerPosition=o,l.shouldUpdate=a,l.commandService=s,l.minReservedLineCount=0,l.updateOperation=l._register(new(0,g.MutableDisposable)),l.cache=l._register(new(0,g.MutableDisposable)),l.updateSoon=l._register(new(0,d.RunOnceScheduler)((function(){return l.update(y.InlineCompletionTriggerKind.Automatic)}),50)),l.textModel=l.editor.getModel(),l.currentlySelectedCompletionId=void 0;var u=void 0;return l._register(l.onDidChange((function(){var e=l.currentCompletion;if(e&&e.sourceInlineCompletion!==u){u=e.sourceInlineCompletion;var t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,u)}}))),l._register(l.editor.onDidChangeCursorPosition((function(e){l.cache.value&&l.onDidChangeEmitter.fire()}))),l._register(l.editor.onDidChangeModelContent((function(e){if(l.cache.value){var t=!1,n=!0,r=!1,i=void 0;try{for(var o,a=l.cache.value.completions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=l.textModel.getDecorationRange(s.decorationId);u?s.synchronizedRange.equalsRange(u)||(t=!0,s.synchronizedRange=u):(0,f.onUnexpectedError)(new Error("Decoration has no range"))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}t&&l.onDidChangeEmitter.fire()}l.scheduleAutomaticUpdate()}))),l._register(y.InlineCompletionsProviderRegistry.onDidChange((function(){l.updateSoon.schedule()}))),l.scheduleAutomaticUpdate(),l}return t(a)(r,[{key:"fixAndGetIndexOfCurrentSelection",value:function(){var e=this;if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;var t=this.cache.value.completions.findIndex((function(t){return t.semanticId===e.currentlySelectedCompletionId}));return-1===t?(this.currentlySelectedCompletionId=void 0,0):t}},{key:"currentCachedCompletion",get:function(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}},{key:"showNextInlineCompletion",value:function(){var e;return D(this,void 0,void 0,t(c).mark((function n(){var r,i;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureUpdateWithExplicitContext();case 2:(r=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[]).length>0?(i=(this.fixAndGetIndexOfCurrentSelection()+1)%r.length,this.currentlySelectedCompletionId=r[i].semanticId):this.currentlySelectedCompletionId=void 0,this.onDidChangeEmitter.fire();case 5:case"end":return t.stop()}}),n,this)})))}},{key:"showPreviousInlineCompletion",value:function(){var e;return D(this,void 0,void 0,t(c).mark((function n(){var r,i;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureUpdateWithExplicitContext();case 2:(r=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[]).length>0?(i=(this.fixAndGetIndexOfCurrentSelection()+r.length-1)%r.length,this.currentlySelectedCompletionId=r[i].semanticId):this.currentlySelectedCompletionId=void 0,this.onDidChangeEmitter.fire();case 5:case"end":return t.stop()}}),n,this)})))}},{key:"ensureUpdateWithExplicitContext",value:function(){var e;return D(this,void 0,void 0,t(c).mark((function n(){return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.updateOperation.value){t.next=10;break}if(this.updateOperation.value.triggerKind!==y.InlineCompletionTriggerKind.Explicit){t.next=6;break}return t.next=4,this.updateOperation.value.promise;case 4:t.next=8;break;case 6:return t.next=8,this.update(y.InlineCompletionTriggerKind.Explicit);case 8:t.next=13;break;case 10:if((null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)===y.InlineCompletionTriggerKind.Explicit){t.next=13;break}return t.next=13,this.update(y.InlineCompletionTriggerKind.Explicit);case 13:case"end":return t.stop()}}),n,this)})))}},{key:"hasMultipleInlineCompletions",value:function(){var e;return D(this,void 0,void 0,t(c).mark((function n(){return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureUpdateWithExplicitContext();case 2:return t.abrupt("return",((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1);case 3:case"end":return t.stop()}}),n,this)})))}},{key:"ghostText",get:function(){var e=this.currentCompletion,t=this.editor.getOptions().get(53).mode;return e?T(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}},{key:"currentCompletion",get:function(){var e=this.currentCachedCompletion;if(e)return{text:e.inlineCompletion.text,range:e.synchronizedRange,command:e.inlineCompletion.command,sourceProvider:e.inlineCompletion.sourceProvider,sourceInlineCompletions:e.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:e.inlineCompletion.sourceInlineCompletion}}},{key:"isValid",get:function(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}},{key:"scheduleAutomaticUpdate",value:function(){this.updateOperation.clear(),this.updateSoon.schedule()}},{key:"update",value:function(e){return D(this,void 0,void 0,t(c).mark((function n(){var r,i,o,a;return t(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this,this.shouldUpdate()){n.next=3;break}return n.abrupt("return");case 3:return i=this.editor.getPosition(),o=(0,d.createCancelablePromise)((function(n){return D(r,void 0,void 0,t(c).mark((function r(){var o,a;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this,t.prev=2,t.next=5,O(i,this.editor.getModel(),{triggerKind:e},n);case 5:a=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),(0,f.onUnexpectedError)(t.t0),t.abrupt("return");case 12:if(!n.isCancellationRequested){t.next=14;break}return t.abrupt("return");case 14:this.cache.value=new A(this.editor,a,(function(){return o.onDidChangeEmitter.fire()}),e),this.onDidChangeEmitter.fire();case 16:case"end":return t.stop()}}),r,this,[[2,8]])})))})),a=new L(o,e),this.updateOperation.value=a,n.next=9,o;case 9:this.updateOperation.value===a&&this.updateOperation.clear();case 10:case"end":return n.stop()}}),n,this)})))}},{key:"takeOwnership",value:function(e){this._register(e)}},{key:"commitCurrentCompletion",value:function(){if(this.ghostText){var e=this.currentCompletion;e&&this.commit(e)}}},{key:"commit",value:function(e){var n,r=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[b.EditOperation.replaceMove(e.range,e.text)]),e.command?(n=this.commandService).executeCommand.apply(n,[e.command.id].concat(t(l)(e.command.arguments||[]))).finally((function(){null==r||r.dispose()})).then(void 0,f.onUnexpectedExternalError):null==r||r.dispose(),this.onDidChangeEmitter.fire()}}]),r}(w.BaseGhostTextWidgetModel),L=function(){"use strict";function e(n,r){t(i)(this,e),this.promise=n,this.triggerKind=r}return t(a)(e,[{key:"dispose",value:function(){this.promise.cancel()}}]),e}(),A=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(e,o,a,s){var l;t(i)(this,r),(l=n.call(this)).triggerKind=s;var u=e.deltaDecorations([],o.items.map((function(e){return{range:e.range,options:{description:"inline-completion-tracking-range"}}})));return l._register((0,g.toDisposable)((function(){e.deltaDecorations(u,[])}))),l.completions=o.items.map((function(e,t){return new M(e,u[t])})),l._register(e.onDidChangeModelContent((function(){var t=!1,n=e.getModel(),r=!0,i=!1,o=void 0;try{for(var s,u=l.completions[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,d=n.getDecorationRange(c.decorationId);d?c.synchronizedRange.equalsRange(d)||(t=!0,c.synchronizedRange=d):(0,f.onUnexpectedError)(new Error("Decoration has no range"))}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}t&&a()}))),l._register(o),l}return r}(g.Disposable),M=function e(n,r){"use strict";t(i)(this,e),this.inlineCompletion=n,this.decorationId=r,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=n.range};function T(e,t,n,r){if(e.range.startLineNumber===e.range.endLineNumber){var i=t.getValueInRange(e.range),o=function(e,t){if((null==N?void 0:N.originalValue)===e&&(null==N?void 0:N.newValue)===t)return null==N?void 0:N.changes;var n=function(e,t){function n(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i>t&&(t=i)}return t}var r=Math.max(n(e),n(t));function i(e){if(e<0)throw new Error("unexpected");return r+e+1}function o(e){for(var t=0,n=0,r=new Int32Array(e.length),o=0,a=e.length;o<a;o++){var s=100*n+t;"("===e[o]?(r[o]=i(2*s),t++):")"===e[o]?(r[o]=i(2*s+1),1===t&&n++,t=Math.max(t-1,0)):r[o]=e.charCodeAt(o)}return r}var a=o(e),s=o(t);return new(0,x.LcsDiff)({getElements:function(){return a}},{getElements:function(){return s}}).ComputeDiff(!1).changes}(e,t);return N={originalValue:e,newValue:t,changes:n},n}(i,e.text),a=e.range.startLineNumber,s=new Array;if("prefix"===n){var l=o.filter((function(e){return 0===e.originalLength}));if(l.length>1||1===l.length&&l[0].originalStart!==i.length)return}var u=!0,c=!1,d=void 0;try{for(var h,f=o[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value,g=e.range.startColumn+p.originalStart+p.originalLength;if("subwordSmart"===n&&r&&r.lineNumber===e.range.startLineNumber&&g<r.column)return;if(p.originalLength>0){var m=i.substr(p.originalStart,p.originalLength),y=t.getLineFirstNonWhitespaceColumn(a);if(!/^(\t| )*$/.test(m)||!(0===y||g<=y))return}if(0!==p.modifiedLength){var b=e.text.substr(p.modifiedStart,p.modifiedLength),_=v.splitLines(b);s.push(new(0,w.GhostTextPart)(g,_))}}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}return new(0,w.GhostText)(a,s,0)}}var N=void 0;function P(e,t){var n=t.getWordAtPosition(e),r=t.getLineMaxColumn(e.lineNumber);return n?new(0,m.Range)(e.lineNumber,n.startColumn,e.lineNumber,r):m.Range.fromPositions(e,e.with(void 0,r))}function O(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.CancellationToken.None;return D(this,void 0,void 0,t(c).mark((function o(){var a,s,u,d,h,f,p,g,v,b,_,k,C,x,w,S,E,I;return t(c).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=this,s=P(e,n),u=y.InlineCompletionsProviderRegistry.all(n),o.next=5,Promise.all(u.map((function(o){return D(a,void 0,void 0,t(c).mark((function a(){var s;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.provideInlineCompletions(n,e,r,i);case 2:return s=t.sent,t.abrupt("return",{completions:s,provider:o,dispose:function(){s&&o.freeInlineCompletions(s)}});case 4:case"end":return t.stop()}}),a)})))})));case 5:d=o.sent,h=new Map,f=!0,p=!1,g=void 0,o.prev=8,v=d[Symbol.iterator]();case 10:if(f=(b=v.next()).done){o.next=42;break}if(_=b.value,k=_.completions,C=!0,x=!1,w=void 0,!k){o.next=39;break}o.prev=15,S=k.items.map((function(e){return{text:e.text,range:e.range?m.Range.lift(e.range):s,command:e.command,sourceProvider:_.provider,sourceInlineCompletions:k,sourceInlineCompletion:e}}))[Symbol.iterator]();case 17:if(C=(E=S.next()).done){o.next=25;break}if((I=E.value).range.startLineNumber===I.range.endLineNumber){o.next=21;break}return o.abrupt("continue",22);case 21:h.set(JSON.stringify({text:I.text,range:I.range}),I);case 22:C=!0,o.next=17;break;case 25:o.next=31;break;case 27:o.prev=27,o.t0=o.catch(15),x=!0,w=o.t0;case 31:o.prev=31,o.prev=32,C||null==S.return||S.return();case 34:if(o.prev=34,!x){o.next=37;break}throw w;case 37:return o.finish(34);case 38:return o.finish(31);case 39:f=!0,o.next=10;break;case 42:o.next=48;break;case 44:o.prev=44,o.t1=o.catch(8),p=!0,g=o.t1;case 48:o.prev=48,o.prev=49,f||null==v.return||v.return();case 51:if(o.prev=51,!p){o.next=54;break}throw g;case 54:return o.finish(51);case 55:return o.finish(48);case 56:return o.abrupt("return",{items:t(l)(h.values()),dispose:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=d[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.dispose()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}});case 57:case"end":return o.stop()}}),o,this,[[8,44,48,56],[15,27,31,39],[32,,34,38],[49,,51,55]])})))}})),o.register("49VVk",(function(n,r){e(n.exports,"GhostText",(function(){return d})),e(n.exports,"GhostTextPart",(function(){return h})),e(n.exports,"BaseGhostTextWidgetModel",(function(){return f}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("4YObi"),c=o("glSIC"),d=function(){"use strict";function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t(i)(this,e),this.lineNumber=n,this.parts=r,this.additionalReservedLineCount=o}return t(a)(e,[{key:"equals",value:function(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every((function(t,n){return t.equals(e.parts[n])}))}}],[{key:"equals",value:function(e,t){return e===t||!!e&&!!t&&e.equals(t)}}]),e}(),h=function(){"use strict";function e(n,r){t(i)(this,e),this.column=n,this.lines=r}return t(a)(e,[{key:"equals",value:function(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every((function(t,n){return t===e.lines[n]}))}}]),e}(),f=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e){var o;return t(i)(this,r),(o=n.call(this)).editor=e,o._expanded=void 0,o.onDidChangeEmitter=new(0,u.Emitter),o.onDidChange=o.onDidChangeEmitter.event,o._register(e.onDidChangeConfiguration((function(e){e.hasChanged(105)&&void 0===o._expanded&&o.onDidChangeEmitter.fire()}))),o}return t(a)(r,[{key:"expanded",get:function(){return void 0===this._expanded||this._expanded}},{key:"setExpanded",value:function(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}]),r}(c.Disposable)})),o.register("d4P4i",(function(n,r){e(n.exports,"SuggestWidgetAdapterModel",(function(){return k}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("hFMTy"),d=o("aV5UR"),h=o("1xRRx"),f=o("4YObi"),p=o("glSIC"),g=o("Og1nm"),v=o("49VVk"),m=o("9W18y"),y=o("eHGmT"),b=o("5EYJC"),_=o("fTVGP"),k=function(e){"use strict";t(u)(r,e);var n=t(d)(r);function r(e){var o;t(i)(this,r),(o=n.call(this,e)).isSuggestWidgetVisible=!1,o.currentGhostText=void 0,o._isActive=!1,o.isShiftKeyPressed=!1,o.minReservedLineCount=0,o.setInactiveDelayed=o._register(new(0,h.RunOnceScheduler)((function(){o.isSuggestWidgetVisible||o.isActive&&(o._isActive=!1,o.onDidChangeEmitter.fire())}),100));var a=_.SuggestController.get(o.editor);if(a){var s=!1;o._register(f.Event.once(a.model.onDidTrigger)((function(e){s||(s=!0,o._register(a.widget.value.onDidShow((function(){o.isSuggestWidgetVisible=!0,o._isActive=!0,o.updateFromSuggestion()}))),o._register(a.widget.value.onDidHide((function(){o.isSuggestWidgetVisible=!1,o.setInactiveDelayed.schedule(),o.minReservedLineCount=0,o.updateFromSuggestion()}))),o._register(a.widget.value.onDidFocus((function(){o.isSuggestWidgetVisible=!0,o._isActive=!0,o.updateFromSuggestion()}))))})))}return o.updateFromSuggestion(),o._register(o.editor.onDidChangeCursorPosition((function(e){o.isSuggestionPreviewEnabled()&&o.update()}))),o._register((0,p.toDisposable)((function(){var e=_.SuggestController.get(o.editor);e&&e.stopForceRenderingAbove()}))),o._register(e.onKeyDown((function(e){e.shiftKey&&!o.isShiftKeyPressed&&(o.isShiftKeyPressed=!0,o.updateFromSuggestion())}))),o._register(e.onKeyUp((function(e){e.shiftKey&&o.isShiftKeyPressed&&(o.isShiftKeyPressed=!1,o.updateFromSuggestion())}))),o}return t(a)(r,[{key:"isActive",get:function(){return this._isActive}},{key:"setExpanded",value:function(e){t(s)(t(l)(r.prototype),"setExpanded",this).call(this,e),this.updateFromSuggestion()}},{key:"isSuggestionPreviewEnabled",value:function(){return this.editor.getOption(105).preview}},{key:"updateFromSuggestion",value:function(){var e=_.SuggestController.get(this.editor);if(e)if(this.isSuggestWidgetVisible){var t=e.widget.value.getFocusedItem();t?this.setCurrentInlineCompletion(function(e,t,n,r){var i=n.item;if(Array.isArray(i.completion.additionalTextEdits))return{text:"",range:g.Range.fromPositions(t,t)};var o=i.completion.insertText;if(4&i.completion.insertTextRules){var a=(new(0,y.SnippetParser)).parse(o),s=e.editor.getModel();b.SnippetSession.adjustWhitespace(s,t,a,!0,!0),o=a.toString()}var l=e.getOverwriteInfo(i,r);return{text:o,range:g.Range.fromPositions(t.delta(0,-l.overwriteBefore),t.delta(0,Math.max(l.overwriteAfter,0)))}}(e,this.editor.getPosition(),t,this.isShiftKeyPressed)):this.setCurrentInlineCompletion(void 0)}else this.setCurrentInlineCompletion(void 0);else this.setCurrentInlineCompletion(void 0)}},{key:"setCurrentInlineCompletion",value:function(e){this.currentCompletion=e,this.update()}},{key:"update",value:function(){var e=this.currentCompletion,t=this.editor.getOptions().get(105).previewMode;this.setGhostText(e?(0,m.inlineCompletionToGhostText)(e,this.editor.getModel(),t,this.editor.getPosition())||new(0,v.GhostText)(e.range.endLineNumber,[],this.minReservedLineCount):void 0)}},{key:"setGhostText",value:function(e){var n;if(!v.GhostText.equals(this.currentGhostText,e)){this.currentGhostText=e,this.currentGhostText&&this.expanded&&(this.minReservedLineCount=(n=Math).max.apply(n,[this.minReservedLineCount].concat(t(c)(this.currentGhostText.parts.map((function(e){return e.lines.length-1}))))));var r=_.SuggestController.get(this.editor);r&&(this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?r.forceRenderingAbove():r.stopForceRenderingAbove()),this.onDidChangeEmitter.fire()}}},{key:"ghostText",get:function(){return this.isSuggestionPreviewEnabled()?this.currentGhostText:void 0}}]),r}(v.BaseGhostTextWidgetModel)})),o.register("eHGmT",(function(n,r){e(n.exports,"Text",(function(){return v})),e(n.exports,"Placeholder",(function(){return y})),e(n.exports,"Choice",(function(){return b})),e(n.exports,"SnippetParser",(function(){return S}));var i,a=o("fZTNQ"),s=o("j7KTJ"),l=o("5T0Qd"),u=o("k0Xaj"),c=o("5464t"),d=o("hgtn2"),h=o("hFMTy"),f=o("aV5UR"),p=function(){"use strict";function e(){t(a)(this,e),this.value="",this.pos=0}return t(s)(e,[{key:"text",value:function(e){this.value=e,this.pos=0}},{key:"tokenText",value:function(e){return this.value.substr(e.pos,e.len)}},{key:"next",value:function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var t,n=this.pos,r=0,i=this.value.charCodeAt(n);if("number"==typeof(t=e._table[i]))return this.pos+=1,{type:t,pos:n,len:1};if(e.isDigitCharacter(i)){t=8;do{r+=1,i=this.value.charCodeAt(n+r)}while(e.isDigitCharacter(i));return this.pos+=r,{type:t,pos:n,len:r}}if(e.isVariableCharacter(i)){t=9;do{i=this.value.charCodeAt(n+ ++r)}while(e.isVariableCharacter(i)||e.isDigitCharacter(i));return this.pos+=r,{type:t,pos:n,len:r}}t=10;do{r+=1,i=this.value.charCodeAt(n+r)}while(!isNaN(i)&&void 0===e._table[i]&&!e.isDigitCharacter(i)&&!e.isVariableCharacter(i));return this.pos+=r,{type:t,pos:n,len:r}}}],[{key:"isDigitCharacter",value:function(e){return e>=48&&e<=57}},{key:"isVariableCharacter",value:function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}}]),e}();p._table=(i={},t(l)(i,36,0),t(l)(i,58,1),t(l)(i,44,2),t(l)(i,123,3),t(l)(i,125,4),t(l)(i,92,5),t(l)(i,47,6),t(l)(i,124,7),t(l)(i,43,11),t(l)(i,45,12),t(l)(i,63,13),i);var g=function(){"use strict";function e(){t(a)(this,e),this._children=[]}return t(s)(e,[{key:"appendChild",value:function(e){return e instanceof v&&this._children[this._children.length-1]instanceof v?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}},{key:"replace",value:function(e,n){var r,i=e.parent,o=i.children.indexOf(e),a=i.children.slice(0);(r=a).splice.apply(r,[o,1].concat(t(h)(n))),i._children=a,function e(t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l.parent=n,e(l.children,l)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}(n,i)}},{key:"children",get:function(){return this._children}},{key:"snippet",get:function(){for(var e=this;;){if(!e)return;if(e instanceof w)return e;e=e.parent}}},{key:"toString",value:function(){return this.children.reduce((function(e,t){return e+t.toString()}),"")}},{key:"len",value:function(){return 0}}]),e}(),v=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(e){var i;return t(a)(this,r),(i=n.call(this)).value=e,i}return t(s)(r,[{key:"toString",value:function(){return this.value}},{key:"len",value:function(){return this.value.length}},{key:"clone",value:function(){return new r(this.value)}}]),r}(g),m=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(){return t(a)(this,r),n.apply(this,arguments)}return r}(g),y=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(e){var i;return t(a)(this,r),(i=n.call(this)).index=e,i}return t(s)(r,[{key:"isFinalTabstop",get:function(){return 0===this.index}},{key:"choice",get:function(){return 1===this._children.length&&this._children[0]instanceof b?this._children[0]:void 0}},{key:"clone",value:function(){var e=new r(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e}}],[{key:"compareByIndex",value:function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}}]),r}(m),b=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(){var e;return t(a)(this,r),(e=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).options=[],e}return t(s)(r,[{key:"appendChild",value:function(e){return e instanceof v&&(e.parent=this,this.options.push(e)),this}},{key:"toString",value:function(){return this.options[0].value}},{key:"len",value:function(){return this.options[0].len()}},{key:"clone",value:function(){var e=new r;return this.options.forEach(e.appendChild,e),e}}]),r}(g),_=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(){var e;return t(a)(this,r),(e=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).regexp=new RegExp(""),e}return t(s)(r,[{key:"resolve",value:function(e){var t=this,n=!1,r=e.replace(this.regexp,(function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!n&&this._children.some((function(e){return e instanceof k&&Boolean(e.elseValue)}))&&(r=this._replace([])),r}},{key:"_replace",value:function(e){var t="",n=!0,r=!1,i=void 0;try{for(var o,a=this._children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s instanceof k){var l=e[s.index]||"";t+=l=s.resolve(l)}else t+=s.toString()}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},{key:"toString",value:function(){return""}},{key:"clone",value:function(){var e=new r;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((function(e){return e.clone()})),e}}]),r}(g),k=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(e,i,o,s){var l;return t(a)(this,r),(l=n.call(this)).index=e,l.shorthandName=i,l.ifValue=o,l.elseValue=s,l}return t(s)(r,[{key:"resolve",value:function(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}},{key:"_toPascalCase",value:function(e){var t=e.match(/[a-z0-9]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e}},{key:"_toCamelCase",value:function(e){var t=e.match(/[a-z0-9]+/gi);return t?t.map((function(e,t){return 0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e}},{key:"clone",value:function(){return new r(this.index,this.shorthandName,this.ifValue,this.elseValue)}}]),r}(g),C=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(e){var i;return t(a)(this,r),(i=n.call(this)).name=e,i}return t(s)(r,[{key:"resolve",value:function(e){var t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new v(t)],!0)}},{key:"clone",value:function(){var e=new r(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e}}]),r}(m);function x(e,n){for(var r=t(h)(e);r.length>0;){var i,o=r.shift();if(!n(o))break;(i=r).unshift.apply(i,t(h)(o.children))}}var w=function(e){"use strict";t(d)(r,e);var n=t(f)(r);function r(){return t(a)(this,r),n.apply(this,arguments)}return t(s)(r,[{key:"placeholderInfo",get:function(){if(!this._placeholders){var e,t=[];this.walk((function(n){return n instanceof y&&(t.push(n),e=!e||e.index<n.index?n:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}},{key:"placeholders",get:function(){return this.placeholderInfo.all}},{key:"offset",value:function(e){var t=0,n=!1;return this.walk((function(r){return r===e?(n=!0,!1):(t+=r.len(),!0)})),n?t:-1}},{key:"fullLen",value:function(e){var t=0;return x([e],(function(e){return t+=e.len(),!0})),t}},{key:"enclosingPlaceholders",value:function(e){for(var t=[],n=e.parent;n;)n instanceof y&&t.push(n),n=n.parent;return t}},{key:"resolveVariables",value:function(e){var t=this;return this.walk((function(n){return n instanceof C&&n.resolve(e)&&(t._placeholders=void 0),!0})),this}},{key:"appendChild",value:function(e){return this._placeholders=void 0,t(u)(t(c)(r.prototype),"appendChild",this).call(this,e)}},{key:"replace",value:function(e,n){return this._placeholders=void 0,t(u)(t(c)(r.prototype),"replace",this).call(this,e,n)}},{key:"clone",value:function(){var e=new r;return this._children=this.children.map((function(e){return e.clone()})),e}},{key:"walk",value:function(e){x(this.children,e)}}]),r}(g),S=function(){"use strict";function e(){t(a)(this,e),this._scanner=new p,this._token={type:14,pos:0,len:0}}return t(s)(e,[{key:"parse",value:function(e,t,n){this._scanner.text(e),this._token=this._scanner.next();for(var r=new w;this._parse(r););var i=new Map,o=[],a=0;r.walk((function(e){return e instanceof y&&(a+=1,e.isFinalTabstop?i.set(0,void 0):!i.has(e.index)&&e.children.length>0?i.set(e.index,e.children):o.push(e)),!0}));var s=!0,l=!1,u=void 0;try{for(var c,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,f=i.get(h.index);if(f){var p=new y(h.index);p.transform=h.transform;var g=!0,v=!1,m=void 0;try{for(var b,_=f[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var k=b.value;p.appendChild(k.clone())}}catch(e){v=!0,m=e}finally{try{g||null==_.return||_.return()}finally{if(v)throw m}}r.replace(h,[p])}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return n||(n=a>0&&t),!i.has(0)&&n&&r.appendChild(new y(0)),r}},{key:"_accept",value:function(e,t){if(void 0===e||this._token.type===e){var n=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1}},{key:"_backTo",value:function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}},{key:"_until",value:function(e){for(var t=this._token;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){var n=this._scanner.next();if(0!==n.type&&4!==n.type&&5!==n.type)return!1}this._token=this._scanner.next()}var r=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),r}},{key:"_parse",value:function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}},{key:"_parseEscaped",value:function(e){var t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new v(t)),!0)}},{key:"_parseTabstopOrVariableName",value:function(e){var t,n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new y(Number(t)):new C(t)),!0):this._backTo(n)}},{key:"_parseComplexPlaceholder",value:function(e){var t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);var r=new y(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new v("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else{if(!(r.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n);for(var i=new b;;){if(this._parseChoiceElement(i)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(i),this._accept(4)))return e.appendChild(r),!0}return this._backTo(n),!1}}}},{key:"_parseChoiceElement",value:function(e){for(var t=this._token,n=[];2!==this._token.type&&7!==this._token.type;){var r=void 0;if(!(r=(r=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:this._accept(void 0,!0)))return this._backTo(t),!1;n.push(r)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new v(n.join(""))),!0)}},{key:"_parseComplexVariable",value:function(e){var t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);var r=new C(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new v("${"+t+":")),r.children.forEach(e.appendChild,e),!0}}},{key:"_parseTransform",value:function(e){for(var t=new _,n="",r="";!this._accept(6);){var i=void 0;if(i=this._accept(5,!0))n+=i=this._accept(6,!0)||i;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){var o=void 0;if(o=this._accept(5,!0))o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new v(o));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;r+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,r)}catch(e){return!1}return e.transform=t,!0}},{key:"_parseFormatString",value:function(e){var t=this._token;if(!this._accept(0))return!1;var n=!1;this._accept(3)&&(n=!0);var r=this._accept(8,!0);if(!r)return this._backTo(t),!1;if(!n)return e.appendChild(new k(Number(r))),!0;if(this._accept(4))return e.appendChild(new k(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var i=this._accept(9,!0);return i&&this._accept(4)?(e.appendChild(new k(Number(r),i)),!0):(this._backTo(t),!1)}if(this._accept(11)){var o=this._until(4);if(o)return e.appendChild(new k(Number(r),void 0,o,void 0)),!0}else if(this._accept(12)){var a=this._until(4);if(a)return e.appendChild(new k(Number(r),void 0,void 0,a)),!0}else if(this._accept(13)){var s=this._until(1);if(s){var l=this._until(4);if(l)return e.appendChild(new k(Number(r),void 0,s,l)),!0}}else{var u=this._until(4);if(u)return e.appendChild(new k(Number(r),void 0,void 0,u)),!0}return this._backTo(t),!1}},{key:"_parseAnything",value:function(e){return 14!==this._token.type&&(e.appendChild(new v(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}],[{key:"escape",value:function(e){return e.replace(/\$|}|\\/g,"\\$&")}},{key:"guessNeedsClipboard",value:function(e){return/\${?CLIPBOARD/.test(e)}}]),e}()})),o.register("5EYJC",(function(n,r){e(n.exports,"SnippetSession",(function(){return E}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("hFMTy"),u=o("84NKZ"),c=o("ddsHh"),d=o("glSIC"),h=o("flPya"),f=o("6JJ1Z"),p=o("Og1nm"),g=o("9cZTD"),v=o("3bY1c"),m=o("2Vj3E"),y=o("e1Jmh"),b=o("eHGmT"),_=o("2ixon"),k=o("4qRit"),C=o("eZPXr"),x=o("hnqmL");(0,k.registerThemingParticipant)((function(e,t){function n(t){var n=e.getColor(t);return n?n.toString():"transparent"}t.addRule(".monaco-editor .snippet-placeholder { background-color: ".concat(n(C.snippetTabstopHighlightBackground),"; outline-color: ").concat(n(C.snippetTabstopHighlightBorder),"; }")),t.addRule(".monaco-editor .finish-snippet-placeholder { background-color: ".concat(n(C.snippetFinalTabstopHighlightBackground),"; outline-color: ").concat(n(C.snippetFinalTabstopHighlightBorder),"; }"))}));var w=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this._editor=n,this._snippet=r,this._offset=o,this._snippetLineLeadingWhitespace=a,this._nestingLevel=1,this._placeholderGroups=(0,c.groupBy)(r.placeholders,b.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}return t(a)(e,[{key:"dispose",value:function(){this._placeholderDecorations&&this._editor.deltaDecorations(t(l)(this._placeholderDecorations.values()),[]),this._placeholderGroups.length=0}},{key:"_initDecorations",value:function(){var t=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var n=this._editor.getModel();this._editor.changeDecorations((function(r){var i=!0,o=!1,a=void 0;try{for(var s,l=t._snippet.placeholders[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=t._snippet.offset(u),d=t._snippet.fullLen(u),h=p.Range.fromPositions(n.getPositionAt(t._offset+c),n.getPositionAt(t._offset+c+d)),f=u.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,g=r.addDecoration(h,f);t._placeholderDecorations.set(u,g)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}))}}},{key:"move",value:function(n){var r=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){var i=[],o=!0,a=!1,l=void 0;try{for(var u,c=this._placeholderGroups[this._placeholderGroupsIdx][Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;if(d.transform){for(var h=this._placeholderDecorations.get(d),p=this._editor.getModel().getDecorationRange(h),v=this._editor.getModel().getValueInRange(p),m=d.transform.resolve(v).split(/\r\n|\r|\n/),y=1;y<m.length;y++)m[y]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+m[y]);i.push(f.EditOperation.replace(p,m.join(this._editor.getModel().getEOL())))}}}catch(e){a=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}i.length>0&&this._editor.executeEdits("snippet.placeholderTransform",i)}var b=!1;!0===n&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,b=!0):!1===n&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,b=!0);var _=this._editor.getModel().changeDecorations((function(n){var i=new Set,o=[],a=!0,l=!1,u=void 0;try{for(var c,d=r._placeholderGroups[r._placeholderGroupsIdx][Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value,f=r._placeholderDecorations.get(h),p=r._editor.getModel().getDecorationRange(f);o.push(new(0,g.Selection)(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn)),b=b&&r._hasPlaceholderBeenCollapsed(h),n.changeDecorationOptions(f,h.isFinalTabstop?e._decor.activeFinal:e._decor.active),i.add(h);var v=!0,m=!1,y=void 0;try{for(var _,k=r._snippet.enclosingPlaceholders(h)[Symbol.iterator]();!(v=(_=k.next()).done);v=!0){var C=_.value,x=r._placeholderDecorations.get(C);n.changeDecorationOptions(x,C.isFinalTabstop?e._decor.activeFinal:e._decor.active),i.add(C)}}catch(e){m=!0,y=e}finally{try{v||null==k.return||k.return()}finally{if(m)throw y}}}}catch(e){l=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw u}}var w=!0,S=!1,E=void 0;try{for(var D,I=r._placeholderDecorations[Symbol.iterator]();!(w=(D=I.next()).done);w=!0){var R=t(s)(D.value,2),L=R[0],A=R[1];i.has(L)||n.changeDecorationOptions(A,L.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive)}}catch(e){S=!0,E=e}finally{try{w||null==I.return||I.return()}finally{if(S)throw E}}return o}));return b?this.move(n):null!=_?_:[]}},{key:"_hasPlaceholderBeenCollapsed",value:function(e){for(var t=e;t;){if(t instanceof b.Placeholder){var n=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}},{key:"isAtFirstPlaceholder",get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}},{key:"isAtLastPlaceholder",get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}},{key:"hasPlaceholder",get:function(){return this._snippet.placeholders.length>0}},{key:"computePossibleSelections",value:function(){var e=new Map,t=!0,n=!1,r=void 0;try{for(var i,o=this._placeholderGroups[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=void 0,l=!0,u=!1,c=void 0;try{for(var d,h=a[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;if(f.isFinalTabstop)break;s||(s=[],e.set(f.index,s));var p=this._placeholderDecorations.get(f),g=this._editor.getModel().getDecorationRange(p);if(!g){e.delete(f.index);break}s.push(g)}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"choice",get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}},{key:"merge",value:function(t){var n=this,r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((function(i){var o=!0,a=!1,s=void 0;try{for(var l,u=n._placeholderGroups[n._placeholderGroupsIdx][Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d=l.value,h=t.shift();console.assert(!h._placeholderDecorations);var f=h._snippet.placeholderInfo.last.index,g=!0,v=!1,m=void 0;try{for(var y,_=h._snippet.placeholderInfo.all[Symbol.iterator]();!(g=(y=_.next()).done);g=!0){var k=y.value;k.isFinalTabstop?k.index=d.index+(f+1)/n._nestingLevel:k.index=d.index+k.index/n._nestingLevel}}catch(e){v=!0,m=e}finally{try{g||null==_.return||_.return()}finally{if(v)throw m}}n._snippet.replace(d,h._snippet.children);var C=n._placeholderDecorations.get(d);i.removeDecoration(C),n._placeholderDecorations.delete(d);var x=!0,w=!1,S=void 0;try{for(var E,D=h._snippet.placeholders[Symbol.iterator]();!(x=(E=D.next()).done);x=!0){var I=E.value,R=h._snippet.offset(I),L=h._snippet.fullLen(I),A=p.Range.fromPositions(r.getPositionAt(h._offset+R),r.getPositionAt(h._offset+R+L)),M=i.addDecoration(A,e._decor.inactive);n._placeholderDecorations.set(I,M)}}catch(e){w=!0,S=e}finally{try{x||null==D.return||D.return()}finally{if(w)throw S}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}n._placeholderGroups=(0,c.groupBy)(n._snippet.placeholders,b.Placeholder.compareByIndex)}))}}]),e}();w._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var S={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},E=function(){"use strict";function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;t(i)(this,e),this._templateMerges=[],this._snippets=[],this._editor=n,this._template=r,this._options=o}return t(a)(e,[{key:"dispose",value:function(){(0,d.dispose)(this._snippets)}},{key:"_logInfo",value:function(){return'template="'.concat(this._template,'", merged_templates="').concat(this._templateMerges.join(" -> "),'"')}},{key:"insert",value:function(){var t=this;if(this._editor.hasModel()){var n=e.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer),r=n.edits,i=n.snippets;this._snippets=i,this._editor.executeEdits("snippet",r,(function(e){return t._snippets[0].hasPlaceholder?t._move(!0):e.filter((function(e){return!!e.identifier})).map((function(e){return g.Selection.fromPositions(e.range.getEndPosition())}))})),this._editor.revealRange(this._editor.getSelections()[0])}}},{key:"merge",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,r=this;if(this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var i=e.createEditsAndSnippets(this._editor,t,n.overwriteBefore,n.overwriteAfter,!0,n.adjustWhitespace,n.clipboardText,n.overtypingCapturer),o=i.edits,a=i.snippets;this._editor.executeEdits("snippet",o,(function(e){var t=!0,n=!1,i=void 0;try{for(var o,s=r._snippets[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){o.value.merge(a)}}catch(e){n=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw i}}return console.assert(0===a.length),r._snippets[0].hasPlaceholder?r._move(void 0):e.filter((function(e){return!!e.identifier})).map((function(e){return g.Selection.fromPositions(e.range.getEndPosition())}))}))}}},{key:"next",value:function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"prev",value:function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"_move",value:function(e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=this._snippets[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u,c=a.value.move(e);(u=n).push.apply(u,t(l)(c))}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},{key:"isAtFirstPlaceholder",get:function(){return this._snippets[0].isAtFirstPlaceholder}},{key:"isAtLastPlaceholder",get:function(){return this._snippets[0].isAtLastPlaceholder}},{key:"hasPlaceholder",get:function(){return this._snippets[0].hasPlaceholder}},{key:"choice",get:function(){return this._snippets[0].choice}},{key:"isSelectionWithinPlaceholders",value:function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;var n=new Map,r=!0,i=!1,o=void 0;try{for(var a,c=function(r,i){var o=i.value.computePossibleSelections(),a=!0,u=!1,c=void 0;if(0===n.size)try{for(var d,h=o[Symbol.iterator]();!(a=(d=h.next()).done);a=!0){var f=t(s)(d.value,2),g=f[0],v=f[1];v.sort(p.Range.compareRangesUsingStarts);var m=!0,y=!1,b=void 0;try{for(var _,k=e[Symbol.iterator]();!(m=(_=k.next()).done);m=!0){var C=_.value;if(v[0].containsRange(C)){n.set(g,[]);break}}}catch(e){y=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(y)throw b}}}}catch(e){u=!0,c=e}finally{try{a||null==h.return||h.return()}finally{if(u)throw c}}if(0===n.size)return{v:!1};n.forEach((function(e,n){var r;(r=e).push.apply(r,t(l)(o.get(n)))}))},d=this._snippets[Symbol.iterator]();!(r=(a=d.next()).done);r=!0){var h=c(0,a);if("object"===t(u)(h))return h.v}}catch(e){i=!0,o=e}finally{try{r||null==d.return||d.return()}finally{if(i)throw o}}e.sort(p.Range.compareRangesUsingStarts);var f=!0,g=!1,v=void 0;try{for(var m,y=n[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var b=t(s)(m.value,2),_=b[0],k=b[1];if(k.length===e.length){k.sort(p.Range.compareRangesUsingStarts);for(var C=0;C<k.length;C++)if(!k[C].containsRange(e[C])){n.delete(_);continue}}else n.delete(_)}}catch(e){g=!0,v=e}finally{try{f||null==y.return||y.return()}finally{if(g)throw v}}return n.size>0}}],[{key:"adjustWhitespace",value:function(e,t,n,r,i){var o,a=e.getLineContent(t.lineNumber),s=(0,h.getLeadingWhitespace)(a,0,t.column-1);return n.walk((function(t){if(!(t instanceof b.Text)||t.parent instanceof b.Choice)return!0;var i=t.value.split(/\r\n|\r|\n/);if(r){var a=n.offset(t);if(0===a)i[0]=e.normalizeIndentation(i[0]);else{var l=(o=null!=o?o:n.toString()).charCodeAt(a-1);10!==l&&13!==l||(i[0]=e.normalizeIndentation(s+i[0]))}for(var u=1;u<i.length;u++)i[u]=e.normalizeIndentation(s+i[u])}var c=i.join(e.getEOL());return c!==t.value&&(t.parent.replace(t,[new(0,b.Text)(c)]),o=void 0),!0})),s}},{key:"adjustSelection",value:function(e,t,n,r){if(0!==n||0!==r){var i=t.positionLineNumber,o=t.positionColumn,a=o-n,s=o+r,l=e.validateRange({startLineNumber:i,startColumn:a,endLineNumber:i,endColumn:s});t=g.Selection.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t}},{key:"createEditsAndSnippets",value:function(t,n,r,i,o,a,s,l){var u=[],c=[];if(!t.hasModel())return{edits:u,snippets:c};var d=t.getModel(),h=t.invokeWithinContext((function(e){return e.get(m.IWorkspaceContextService,y.optional)})),g=t.invokeWithinContext((function(e){return new(0,_.ModelBasedVariableResolver)(e.get(x.ILabelService,y.optional),d)})),v=function(){return s},k=0,C=d.getValueInRange(e.adjustSelection(d,t.getSelection(),r,0)),S=d.getValueInRange(e.adjustSelection(d,t.getSelection(),0,i)),E=d.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),D=t.getSelections().map((function(e,t){return{selection:e,idx:t}})).sort((function(e,t){return p.Range.compareRangesUsingStarts(e.selection,t.selection)})),I=!0,R=!1,L=void 0;try{for(var A,M=D[Symbol.iterator]();!(I=(A=M.next()).done);I=!0){var T=A.value,N=T.selection,P=T.idx,O=e.adjustSelection(d,N,r,0),F=e.adjustSelection(d,N,0,i);C!==d.getValueInRange(O)&&(O=N),S!==d.getValueInRange(F)&&(F=N);var B=N.setStartPosition(O.startLineNumber,O.startColumn).setEndPosition(F.endLineNumber,F.endColumn),z=(new(0,b.SnippetParser)).parse(n,!0,o),W=B.getStartPosition(),H=e.adjustWhitespace(d,W,z,a||P>0&&E!==d.getLineFirstNonWhitespaceColumn(N.positionLineNumber),!0);z.resolveVariables(new(0,_.CompositeSnippetVariableResolver)([g,new(0,_.ClipboardBasedVariableResolver)(v,P,D.length,"spread"===t.getOption(69)),new(0,_.SelectionBasedVariableResolver)(d,N,P,l),new(0,_.CommentBasedVariableResolver)(d,N),new(0,_.TimeBasedVariableResolver),new(0,_.WorkspaceBasedVariableResolver)(h),new(0,_.RandomBasedVariableResolver)]));var V=d.getOffsetAt(W)+k;k+=z.toString().length-d.getValueLengthInRange(B),u[P]=f.EditOperation.replace(B,z.toString()),u[P].identifier={major:P,minor:0},c[P]=new w(t,z,V,H)}}catch(e){R=!0,L=e}finally{try{I||null==M.return||M.return()}finally{if(R)throw L}}return{edits:u,snippets:c}}}]),e}()})),o.register("2ixon",(function(n,r){e(n.exports,"CompositeSnippetVariableResolver",(function(){return v})),e(n.exports,"SelectionBasedVariableResolver",(function(){return m})),e(n.exports,"ModelBasedVariableResolver",(function(){return y})),e(n.exports,"ClipboardBasedVariableResolver",(function(){return b})),e(n.exports,"CommentBasedVariableResolver",(function(){return _})),e(n.exports,"TimeBasedVariableResolver",(function(){return k})),e(n.exports,"WorkspaceBasedVariableResolver",(function(){return C})),e(n.exports,"RandomBasedVariableResolver",(function(){return x}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("dKkCN"),l=o("4fiaR"),u=o("5Z1yh"),c=o("eHGmT"),d=o("95goo"),h=o("flPya"),f=o("7WwBO"),p=o("1HKEb"),g=o("5MvHl"),v=function(){"use strict";function e(n){t(i)(this,e),this._delegates=n}return t(a)(e,[{key:"resolve",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this._delegates[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value.resolve(e);if(void 0!==a)return a}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}}]),e}(),m=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this._model=n,this._selection=r,this._selectionIdx=o,this._overtypingCapturer=a}return t(a)(e,[{key:"resolve",value:function(e){var t=e.name;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){var n=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){var i=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);i&&(n=i.value,r=i.multiline)}if(n&&r&&e.snippet){var o=this._model.getLineContent(this._selection.startLineNumber),a=(0,h.getLeadingWhitespace)(o,0,this._selection.startColumn-1),s=a;e.snippet.walk((function(t){return t!==e&&(t instanceof c.Text&&(s=(0,h.getLeadingWhitespace)((0,h.splitLines)(t.value).pop())),!0)}));var l=(0,h.commonPrefixLength)(s,a);n=n.replace(/(\r\n|\r|\n)(.*)/g,(function(e,t,n){return"".concat(t).concat(s.substr(l)).concat(n)}))}return n}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){var u=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return u&&u.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}]),e}(),y=function(){"use strict";function e(n,r){t(i)(this,e),this._labelService=n,this._model=r}return t(a)(e,[{key:"resolve",value:function(e){var t=e.name;if("TM_FILENAME"===t)return l.basename(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){var n=l.basename(this._model.uri.fsPath),r=n.lastIndexOf(".");return r<=0?n:n.slice(0,r)}return"TM_DIRECTORY"===t&&this._labelService?"."===l.dirname(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,u.dirname)(this._model.uri)):"TM_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}]),e}(),b=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this._readClipboardText=n,this._selectionIdx=r,this._selectionCount=o,this._spread=a}return t(a)(e,[{key:"resolve",value:function(e){if("CLIPBOARD"===e.name){var t=this._readClipboardText();if(t){if(this._spread){var n=t.split(/\r\n|\n|\r/).filter((function(e){return!(0,h.isFalsyOrWhitespace)(e)}));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}}}]),e}(),_=function(){"use strict";function e(n,r){t(i)(this,e),this._model=n,this._selection=r}return t(a)(e,[{key:"resolve",value:function(e){var t=e.name,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=d.LanguageConfigurationRegistry.getComments(n);if(r)return"LINE_COMMENT"===t?r.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?r.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&r.blockCommentEndToken||void 0}}]),e}(),k=function(){"use strict";function e(){t(i)(this,e),this._date=new Date}return t(a)(e,[{key:"resolve",value:function(t){var n=t.name;return"CURRENT_YEAR"===n?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===n?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===n?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===n?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===n?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===n?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===n?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===n?e.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===n?e.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===n?e.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===n?e.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===n?String(Math.floor(this._date.getTime()/1e3)):void 0}}]),e}();k.dayNames=[s.localize("Sunday","Sunday"),s.localize("Monday","Monday"),s.localize("Tuesday","Tuesday"),s.localize("Wednesday","Wednesday"),s.localize("Thursday","Thursday"),s.localize("Friday","Friday"),s.localize("Saturday","Saturday")],k.dayNamesShort=[s.localize("SundayShort","Sun"),s.localize("MondayShort","Mon"),s.localize("TuesdayShort","Tue"),s.localize("WednesdayShort","Wed"),s.localize("ThursdayShort","Thu"),s.localize("FridayShort","Fri"),s.localize("SaturdayShort","Sat")],k.monthNames=[s.localize("January","January"),s.localize("February","February"),s.localize("March","March"),s.localize("April","April"),s.localize("May","May"),s.localize("June","June"),s.localize("July","July"),s.localize("August","August"),s.localize("September","September"),s.localize("October","October"),s.localize("November","November"),s.localize("December","December")],k.monthNamesShort=[s.localize("JanuaryShort","Jan"),s.localize("FebruaryShort","Feb"),s.localize("MarchShort","Mar"),s.localize("AprilShort","Apr"),s.localize("MayShort","May"),s.localize("JuneShort","Jun"),s.localize("JulyShort","Jul"),s.localize("AugustShort","Aug"),s.localize("SeptemberShort","Sep"),s.localize("OctoberShort","Oct"),s.localize("NovemberShort","Nov"),s.localize("DecemberShort","Dec")];var C=function(){"use strict";function e(n){t(i)(this,e),this._workspaceService=n}return t(a)(e,[{key:"resolve",value:function(e){if(this._workspaceService){var t=(0,f.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(t)return"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0}}},{key:"_resolveWorkspaceName",value:function(e){if((0,f.isSingleFolderWorkspaceIdentifier)(e))return l.basename(e.uri.path);var t=l.basename(e.configPath.path);return t.endsWith(f.WORKSPACE_EXTENSION)&&(t=t.substr(0,t.length-f.WORKSPACE_EXTENSION.length-1)),t}},{key:"_resoveWorkspacePath",value:function(e){if((0,f.isSingleFolderWorkspaceIdentifier)(e))return(0,p.normalizeDriveLetter)(e.uri.fsPath);var t=l.basename(e.configPath.path),n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?(0,p.normalizeDriveLetter)(n):"/"}}]),e}(),x=function(){"use strict";function e(){t(i)(this,e)}return t(a)(e,[{key:"resolve",value:function(e){var t=e.name;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?(0,g.generateUuid)():void 0}}]),e}()})),o.register("7WwBO",(function(t,n){e(t.exports,"WORKSPACE_EXTENSION",(function(){return i})),e(t.exports,"isSingleFolderWorkspaceIdentifier",(function(){return a})),e(t.exports,"toWorkspaceIdentifier",(function(){return s}));var r=o("bErzw"),i="code-workspace";function a(e){var t=e;return"string"==typeof(null==t?void 0:t.id)&&r.URI.isUri(t.uri)}function s(e){return e.configuration?{id:e.id,configPath:e.configuration}:1===e.folders.length?{id:e.id,uri:e.folders[0].uri}:void 0}})),o.register("5MvHl",(function(t,n){e(t.exports,"generateUuid",(function(){return s}));for(var r,i=new Uint8Array(16),o=[],a=0;a<256;a++)o.push(a.toString(16).padStart(2,"0"));function s(){r(i),i[6]=15&i[6]|64,i[8]=63&i[8]|128;var e=0,t="";return t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+="-",t+=o[i[e++]],t+=o[i[e++]],t+="-",t+=o[i[e++]],t+=o[i[e++]],t+="-",t+=o[i[e++]],t+=o[i[e++]],t+="-",t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]]}r="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(var t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e}})),o.register("fTVGP",(function(n,r){e(n.exports,"SuggestController",(function(){return Z}),(function(e){return Z=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("hFMTy"),u=o("aV5UR"),c=o("3mtPc"),d=o("ddsHh"),h=o("9yDnc"),f=o("aLDYa"),p=o("glSIC"),g=o("jhpae"),v=o("kT6fp"),m=o("6JJ1Z"),y=o("Og1nm"),b=o("7Zg88"),_=o("9lVOh"),k=o("eHGmT"),C=o("fsmnI"),x=o("dKkCN"),w=o("1Ms2U"),S=o("6x2MV"),E=o("e1Jmh"),D=o("ca2Gx"),I=o("hkUNz"),R=o("kFnOp"),L=o("jKuIY"),A=o("442Ga"),M=o("cgcB1"),T=o("4YObi"),N=o("1xRRx"),P=o("2lfWM"),O=o("6UkJB"),F=o("17ev3"),B=o("kaKvC"),z=o("4YgGD"),W=o("lvhYu"),H=o("7C9Vb"),V=o("iAca1"),j=o("9H3ov"),K=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},U=function(e,t){return function(n,r){t(n,r,e)}},q=function(){"use strict";function e(n,r){if(t(i)(this,e),this._model=n,this._position=r,n.getLineMaxColumn(r.lineNumber)!==r.column){var o=n.getOffsetAt(r),a=n.getPositionAt(o+1);this._marker=n.deltaDecorations([],[{range:y.Range.fromPositions(r,a),options:{description:"suggest-line-suffix",stickiness:1}}])}}return t(a)(e,[{key:"dispose",value:function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}},{key:"delta",value:function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}]),e}(),Z=function(){"use strict";function e(n,r,o,a,s,l){var u=this;t(i)(this,e),this._memoryService=r,this._commandService=o,this._contextKeyService=a,this._instantiationService=s,this._logService=l,this._lineSuffix=new(0,p.MutableDisposable),this._toDispose=new(0,p.DisposableStore),this.editor=n,this.model=s.createInstance(L.SuggestModel,this.editor);var c=I.Context.InsertMode.bindTo(a);c.set(n.getOption(105).insertMode),this.model.onDidTrigger((function(){return c.set(n.getOption(105).insertMode)})),this.widget=this._toDispose.add(new(0,N.IdleValue)((function(){var e=u,t=u._instantiationService.createInstance(A.SuggestWidget,u.editor);u._toDispose.add(t),u._toDispose.add(t.onDidSelect((function(t){return e._insertSuggestion(t,0)}),u));var n=new(0,O.CommitCharacterController)(u.editor,t,(function(t){return e._insertSuggestion(t,2)}));u._toDispose.add(n),u._toDispose.add(u.model.onDidSuggest((function(e){0===e.completionModel.items.length&&n.reset()})));var r=I.Context.MakesTextEdit.bindTo(u._contextKeyService),i=I.Context.HasInsertAndReplaceRange.bindTo(u._contextKeyService),o=I.Context.CanResolve.bindTo(u._contextKeyService);return u._toDispose.add((0,p.toDisposable)((function(){r.reset(),i.reset(),o.reset()}))),u._toDispose.add(t.onDidFocus((function(t){var n=t.item,a=e.editor.getPosition(),s=n.editStart.column,l=a.column,u=!0;"smart"!==e.editor.getOption(1)||2!==e.model.state||n.completion.command||n.completion.additionalTextEdits||4&n.completion.insertTextRules||l-s!==n.completion.insertText.length||(u=e.editor.getModel().getValueInRange({startLineNumber:a.lineNumber,startColumn:s,endLineNumber:a.lineNumber,endColumn:l})!==n.completion.insertText);r.set(u),i.set(!B.Position.equals(n.editInsertEnd,n.editReplaceEnd)),o.set(Boolean(n.provider.resolveCompletionItem)||Boolean(n.completion.documentation)||n.completion.detail!==n.completion.label)}))),u._toDispose.add(t.onDetailsKeyDown((function(t){t.toKeybinding().equals(new(0,f.SimpleKeybinding)(!0,!1,!1,!1,33))||z.isMacintosh&&t.toKeybinding().equals(new(0,f.SimpleKeybinding)(!1,!1,!1,!0,33))?t.stopPropagation():t.toKeybinding().isModifierKey()||e.editor.focus()}))),t}))),this._overtypingCapturer=this._toDispose.add(new(0,N.IdleValue)((function(){return u._toDispose.add(new(0,F.OvertypingCapturer)(u.editor,u.model))}))),this._alternatives=this._toDispose.add(new(0,N.IdleValue)((function(){return u._toDispose.add(new(0,R.SuggestAlternatives)(u.editor,u._contextKeyService))}))),this._toDispose.add(s.createInstance(M.WordContextKey,n)),this._toDispose.add(this.model.onDidTrigger((function(e){u.widget.value.showTriggered(e.auto,e.shy?250:50),u._lineSuffix.value=new q(u.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((function(e){if(!e.shy){var t=u._memoryService.select(u.editor.getModel(),u.editor.getPosition(),e.completionModel.items);u.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((function(e){e.retrigger||u.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((function(){u.model.cancel(),u.model.clear()})));var d=I.Context.AcceptSuggestionsOnEnter.bindTo(a),h=function(){var e=u.editor.getOption(1);d.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((function(){return h()}))),h()}return t(a)(e,[{key:"dispose",value:function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}},{key:"_insertSuggestion",value:function(e,n){var r=this;if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(this.editor.hasModel()){var i=this.editor.getModel(),o=i.getAlternativeVersionId(),a=e.item,s=[],u=new(0,H.CancellationTokenSource);1&n||this.editor.pushUndoStop();var c=this.getOverwriteInfo(a,Boolean(8&n));if(this._memoryService.memorize(i,this.editor.getPosition(),a),Array.isArray(a.completion.additionalTextEdits)){var d=g.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",a.completion.additionalTextEdits.map((function(e){return m.EditOperation.replace(y.Range.lift(e.range),e.text)}))),d.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!a.isResolved){var f,p=this,v=new(0,j.StopWatch)(!0),b=i.onDidChangeContent((function(e){if(e.isFlush)return u.cancel(),void b.dispose();var t=!0,n=!1,r=void 0;try{for(var i,o=e.changes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=y.Range.getEndPosition(a.range);f&&!B.Position.isBefore(s,f)||(f=s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}})),C=n;n|=2;var x=!1,w=this.editor.onWillType((function(){w.dispose(),x=!0,2&C||p.editor.pushUndoStop()}));s.push(a.resolve(u.token).then((function(){if(!a.completion.additionalTextEdits||u.token.isCancellationRequested)return!1;if(f&&a.completion.additionalTextEdits.some((function(e){return B.Position.isBefore(f,y.Range.getStartPosition(e.range))})))return!1;x&&p.editor.pushUndoStop();var e=g.StableEditorScrollState.capture(p.editor);return p.editor.executeEdits("suggestController.additionalTextEdits.async",a.completion.additionalTextEdits.map((function(e){return m.EditOperation.replace(y.Range.lift(e.range),e.text)}))),e.restoreRelativeVerticalPositionOfCursor(p.editor),!x&&2&C||p.editor.pushUndoStop(),!0})).then((function(e){p._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",v.elapsed(),e),b.dispose(),w.dispose()})))}var S=a.completion.insertText;if(4&a.completion.insertTextRules||(S=k.SnippetParser.escape(S)),_.SnippetController2.get(this.editor).insert(S,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&a.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&n||this.editor.pushUndoStop(),a.completion.command)if(a.completion.command.id===G.id)this.model.trigger({auto:!0,shy:!1},!0);else{var E;s.push((E=this._commandService).executeCommand.apply(E,[a.completion.command.id].concat(t(l)(a.completion.command.arguments?t(l)(a.completion.command.arguments):[]))).catch(h.onUnexpectedError)),this.model.cancel()}else this.model.cancel();4&n&&this._alternatives.value.set(e,(function(e){for(u.cancel();i.canUndo();){o!==i.getAlternativeVersionId()&&i.undo(),r._insertSuggestion(e,3|(8&n?8:0));break}})),this._alertCompletionItem(a),Promise.all(s).finally((function(){r.model.clear(),u.dispose()}))}}},{key:"getOverwriteInfo",value:function(e,t){(0,P.assertType)(this.editor.hasModel());var n="replace"===this.editor.getOption(105).insertMode;t&&(n=!n);var r=e.position.column-e.editStart.column,i=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:r+(this.editor.getPosition().column-e.position.column),overwriteAfter:i+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}},{key:"_alertCompletionItem",value:function(e){if((0,d.isNonEmptyArray)(e.completion.additionalTextEdits)){var t=x.localize("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,c.alert)(t)}}},{key:"triggerSuggest",value:function(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}},{key:"triggerSuggestAndAcceptBest",value:function(e){var t=this;if(this.editor.hasModel()){var n=this.editor.getPosition(),r=function(){n.equals(t.editor.getPosition())&&t._commandService.executeCommand(e.fallback)};T.Event.once(this.model.onDidTrigger)((function(e){var n=t,i=[];T.Event.any(t.model.onDidTrigger,t.model.onDidCancel)((function(){(0,p.dispose)(i),r()}),void 0,i),t.model.onDidSuggest((function(e){var o=e.completionModel;if((0,p.dispose)(i),0!==o.items.length){var a=n._memoryService.select(n.editor.getModel(),n.editor.getPosition(),o.items),s=o.items[a];!function(e){if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;var n=t.editor.getPosition(),r=e.editStart.column,i=n.column;return i-r!==e.completion.insertText.length||t.editor.getModel().getValueInRange({startLineNumber:n.lineNumber,startColumn:r,endLineNumber:n.lineNumber,endColumn:i})!==e.completion.insertText}(s)?r():(n.editor.pushUndoStop(),n._insertSuggestion({index:a,item:s,model:o},7))}else r()}),void 0,i)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(n.lineNumber,0),this.editor.focus()}}},{key:"acceptSelectedSuggestion",value:function(e,t){var n=this.widget.value.getFocusedItem(),r=0;e&&(r|=4),t&&(r|=8),this._insertSuggestion(n,r)}},{key:"acceptNextSuggestion",value:function(){this._alternatives.value.next()}},{key:"acceptPrevSuggestion",value:function(){this._alternatives.value.prev()}},{key:"cancelSuggestWidget",value:function(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}},{key:"selectNextSuggestion",value:function(){this.widget.value.selectNext()}},{key:"selectNextPageSuggestion",value:function(){this.widget.value.selectNextPage()}},{key:"selectLastSuggestion",value:function(){this.widget.value.selectLast()}},{key:"selectPrevSuggestion",value:function(){this.widget.value.selectPrevious()}},{key:"selectPrevPageSuggestion",value:function(){this.widget.value.selectPreviousPage()}},{key:"selectFirstSuggestion",value:function(){this.widget.value.selectFirst()}},{key:"toggleSuggestionDetails",value:function(){this.widget.value.toggleDetails()}},{key:"toggleExplainMode",value:function(){this.widget.value.toggleExplainMode()}},{key:"toggleSuggestionFocus",value:function(){this.widget.value.toggleDetailsFocus()}},{key:"resetWidgetSize",value:function(){this.widget.value.resetPersistedSize()}},{key:"forceRenderingAbove",value:function(){this.widget.value.forceRenderingAbove()}},{key:"stopForceRenderingAbove",value:function(){this.widget.value.stopForceRenderingAbove()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();Z.ID="editor.contrib.suggestController",Z=K([U(1,C.ISuggestMemoryService),U(2,w.ICommandService),U(3,S.IContextKeyService),U(4,E.IInstantiationService),U(5,V.ILogService)],Z);var G=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(){return t(i)(this,r),n.call(this,{id:r.id,label:x.localize("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:S.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}return t(a)(r,[{key:"run",value:function(e,t){var n=Z.get(t);n&&n.triggerSuggest()}}]),r}(v.EditorAction);G.id="editor.action.triggerSuggest",(0,v.registerEditorContribution)(Z.ID,Z),(0,v.registerEditorAction)(G);var Q=190,J=v.EditorCommand.bindToContribution(Z.get);(0,v.registerEditorCommand)(new J({id:"acceptSelectedSuggestion",precondition:I.Context.Visible,handler:function(e){e.acceptSelectedSuggestion(!0,!1)}})),D.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:S.ContextKeyExpr.and(I.Context.Visible,b.EditorContextKeys.textInputFocus),primary:2,weight:Q}),D.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:S.ContextKeyExpr.and(I.Context.Visible,b.EditorContextKeys.textInputFocus,I.Context.AcceptSuggestionsOnEnter,I.Context.MakesTextEdit),primary:3,weight:Q}),W.MenuRegistry.appendMenuItem(I.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:x.localize("accept.insert","Insert")},group:"left",order:1,when:I.Context.HasInsertAndReplaceRange.toNegated()}),W.MenuRegistry.appendMenuItem(I.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:x.localize("accept.insert","Insert")},group:"left",order:1,when:S.ContextKeyExpr.and(I.Context.HasInsertAndReplaceRange,I.Context.InsertMode.isEqualTo("insert"))}),W.MenuRegistry.appendMenuItem(I.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:x.localize("accept.replace","Replace")},group:"left",order:1,when:S.ContextKeyExpr.and(I.Context.HasInsertAndReplaceRange,I.Context.InsertMode.isEqualTo("replace"))}),(0,v.registerEditorCommand)(new J({id:"acceptAlternativeSelectedSuggestion",precondition:S.ContextKeyExpr.and(I.Context.Visible,b.EditorContextKeys.textInputFocus),kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler:function(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:I.suggestWidgetStatusbarMenu,group:"left",order:2,when:S.ContextKeyExpr.and(I.Context.HasInsertAndReplaceRange,I.Context.InsertMode.isEqualTo("insert")),title:x.localize("accept.replace","Replace")},{menuId:I.suggestWidgetStatusbarMenu,group:"left",order:2,when:S.ContextKeyExpr.and(I.Context.HasInsertAndReplaceRange,I.Context.InsertMode.isEqualTo("replace")),title:x.localize("accept.insert","Insert")}]})),w.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,v.registerEditorCommand)(new J({id:"hideSuggestWidget",precondition:I.Context.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,v.registerEditorCommand)(new J({id:"selectNextSuggestion",precondition:S.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,v.registerEditorCommand)(new J({id:"selectNextPageSuggestion",precondition:S.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,v.registerEditorCommand)(new J({id:"selectLastSuggestion",precondition:S.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}})),(0,v.registerEditorCommand)(new J({id:"selectPrevSuggestion",precondition:S.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,v.registerEditorCommand)(new J({id:"selectPrevPageSuggestion",precondition:S.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,v.registerEditorCommand)(new J({id:"selectFirstSuggestion",precondition:S.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}})),(0,v.registerEditorCommand)(new J({id:"toggleSuggestionDetails",precondition:I.Context.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:I.suggestWidgetStatusbarMenu,group:"right",order:1,when:S.ContextKeyExpr.and(I.Context.DetailsVisible,I.Context.CanResolve),title:x.localize("detail.more","show less")},{menuId:I.suggestWidgetStatusbarMenu,group:"right",order:1,when:S.ContextKeyExpr.and(I.Context.DetailsVisible.toNegated(),I.Context.CanResolve),title:x.localize("detail.less","show more")}]})),(0,v.registerEditorCommand)(new J({id:"toggleExplainMode",precondition:I.Context.Visible,handler:function(e){return e.toggleExplainMode()},kbOpts:{weight:100,primary:2133}})),(0,v.registerEditorCommand)(new J({id:"toggleSuggestionFocus",precondition:I.Context.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,v.registerEditorCommand)(new J({id:"insertBestCompletion",precondition:S.ContextKeyExpr.and(b.EditorContextKeys.textInputFocus,S.ContextKeyExpr.equals("config.editor.tabCompletion","on"),M.WordContextKey.AtEnd,I.Context.Visible.toNegated(),R.SuggestAlternatives.OtherSuggestions.toNegated(),_.SnippetController2.InSnippetMode.toNegated()),handler:function(e,t){e.triggerSuggestAndAcceptBest((0,P.isObject)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:Q,primary:2}})),(0,v.registerEditorCommand)(new J({id:"insertNextSuggestion",precondition:S.ContextKeyExpr.and(b.EditorContextKeys.textInputFocus,S.ContextKeyExpr.equals("config.editor.tabCompletion","on"),R.SuggestAlternatives.OtherSuggestions,I.Context.Visible.toNegated(),_.SnippetController2.InSnippetMode.toNegated()),handler:function(e){return e.acceptNextSuggestion()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:2}})),(0,v.registerEditorCommand)(new J({id:"insertPrevSuggestion",precondition:S.ContextKeyExpr.and(b.EditorContextKeys.textInputFocus,S.ContextKeyExpr.equals("config.editor.tabCompletion","on"),R.SuggestAlternatives.OtherSuggestions,I.Context.Visible.toNegated(),_.SnippetController2.InSnippetMode.toNegated()),handler:function(e){return e.acceptPrevSuggestion()},kbOpts:{weight:Q,kbExpr:b.EditorContextKeys.textInputFocus,primary:1026}})),(0,v.registerEditorAction)(function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(){return t(i)(this,r),n.call(this,{id:"editor.action.resetSuggestSize",label:x.localize("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}return t(a)(r,[{key:"run",value:function(e,t){Z.get(t).resetWidgetSize()}}]),r}(v.EditorAction))})),o.register("9lVOh",(function(n,r){e(n.exports,"SnippetController2",(function(){return k}),(function(e){return k=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("glSIC"),u=o("kT6fp"),c=o("Og1nm"),d=o("9cZTD"),h=o("7Zg88"),f=o("hkUNz"),p=o("6x2MV"),g=o("iAca1"),v=o("5EYJC"),m=o("dKkCN"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,r){t(n,r,e)}},_={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},k=function(){"use strict";function e(n,r,o){t(i)(this,e),this._editor=n,this._logService=r,this._snippetListener=new(0,l.DisposableStore),this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(o),this._hasNextTabstop=e.HasNextTabstop.bindTo(o),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(o)}return t(a)(e,[{key:"dispose",value:function(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}},{key:"insert",value:function(e,t){try{this._doInsert(e,void 0===t?_:Object.assign(Object.assign({},_),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}},{key:"_doInsert",value:function(e,t){var n=this;this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new(0,v.SnippetSession)(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((function(e){return e.isFlush&&n.cancel()}))),this._snippetListener.add(this._editor.onDidChangeModel((function(){return n.cancel()}))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((function(){return n._updateState()}))))}},{key:"_updateState",value:function(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}},{key:"_handleChoice",value:function(){if(this._session&&this._editor.hasModel()){var e=this._session.choice;if(e){if(this._currentChoice!==e){var n=this;this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map((function(e){return d.Selection.fromPositions(e.getStartPosition())})));var r=t(s)(e.options,1)[0];(0,f.showSimpleSuggestions)(this._editor,e.options.map((function(e,t){return{kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(t+1),range:c.Range.fromPositions(n._editor.getPosition(),n._editor.getPosition().delta(0,r.value.length))}})))}}else this._currentChoice=void 0}else this._currentChoice=void 0}},{key:"finish",value:function(){for(;this._inSnippet.get();)this.next()}},{key:"cancel",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(e=this._session)||void 0===e||e.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])}},{key:"prev",value:function(){this._session&&this._session.prev(),this._updateState()}},{key:"next",value:function(){this._session&&this._session.next(),this._updateState()}},{key:"isInSnippet",value:function(){return Boolean(this._inSnippet.get())}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();k.ID="snippetController2",k.InSnippetMode=new(0,p.RawContextKey)("inSnippetMode",!1,(0,m.localize)("inSnippetMode","Whether the editor in current in snippet mode")),k.HasNextTabstop=new(0,p.RawContextKey)("hasNextTabstop",!1,(0,m.localize)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),k.HasPrevTabstop=new(0,p.RawContextKey)("hasPrevTabstop",!1,(0,m.localize)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),k=y([b(1,g.ILogService),b(2,p.IContextKeyService)],k),(0,u.registerEditorContribution)(k.ID,k);var C=u.EditorCommand.bindToContribution(k.get);(0,u.registerEditorCommand)(new C({id:"jumpToNextSnippetPlaceholder",precondition:p.ContextKeyExpr.and(k.InSnippetMode,k.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:130,kbExpr:h.EditorContextKeys.editorTextFocus,primary:2}})),(0,u.registerEditorCommand)(new C({id:"jumpToPrevSnippetPlaceholder",precondition:p.ContextKeyExpr.and(k.InSnippetMode,k.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:130,kbExpr:h.EditorContextKeys.editorTextFocus,primary:1026}})),(0,u.registerEditorCommand)(new C({id:"leaveSnippet",precondition:k.InSnippetMode,handler:function(e){return e.cancel(!0)},kbOpts:{weight:130,kbExpr:h.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,u.registerEditorCommand)(new C({id:"acceptSnippet",precondition:k.InSnippetMode,handler:function(e){return e.finish()}}))})),o.register("hkUNz",(function(n,r){e(n.exports,"Context",(function(){return I}),(function(e){return I=e})),e(n.exports,"suggestWidgetStatusbarMenu",(function(){return R}),(function(e){return R=e})),e(n.exports,"CompletionOptions",(function(){return A}),(function(e){return A=e})),e(n.exports,"getSnippetSuggestSupport",(function(){return M}),(function(e){return M=e})),e(n.exports,"provideSuggestionItems",(function(){return N}),(function(e){return N=e})),e(n.exports,"getSuggestionComparator",(function(){return F}),(function(e){return F=e})),e(n.exports,"showSimpleSuggestions",(function(){return z}),(function(e){return z=e}));var i,a=o("fZTNQ"),s=o("j7KTJ"),l=o("56Cfp"),u=o("hFMTy"),c=o("4GLgu"),d=o("9yDnc"),h=o("aQzpN"),f=o("kaKvC"),p=o("6x2MV"),g=o("7C9Vb"),v=o("Og1nm"),m=o("hBaq0"),y=o("glSIC"),b=o("lvhYu"),_=o("eHGmT"),k=o("9H3ov"),C=o("1Ms2U"),x=o("2lfWM"),w=o("bErzw"),S=o("gy8en"),E=o("dKkCN"),D=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},I={Visible:new(0,p.RawContextKey)("suggestWidgetVisible",!1,(0,E.localize)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new(0,p.RawContextKey)("suggestWidgetDetailsVisible",!1,(0,E.localize)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new(0,p.RawContextKey)("suggestWidgetMultipleSuggestions",!1,(0,E.localize)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new(0,p.RawContextKey)("suggestionMakesTextEdit",!0,(0,E.localize)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new(0,p.RawContextKey)("acceptSuggestionOnEnter",!0,(0,E.localize)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new(0,p.RawContextKey)("suggestionHasInsertAndReplaceRange",!1,(0,E.localize)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new(0,p.RawContextKey)("suggestionInsertMode",void 0,{type:"string",description:(0,E.localize)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new(0,p.RawContextKey)("suggestionCanResolve",!1,(0,E.localize)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},R=new(0,b.MenuId)("suggestWidgetStatusBar"),L=function(){"use strict";function e(n,r,i,o){t(a)(this,e),this.position=n,this.completion=r,this.container=i,this.provider=o,this.isInvalid=!1,this.score=m.FuzzyScore.Default,this.distance=0,this.textLabel="string"==typeof r.label?r.label:r.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=r.sortText&&r.sortText.toLowerCase(),this.filterTextLow=r.filterText&&r.filterText.toLowerCase(),v.Range.isIRange(r.range)?(this.editStart=new(0,f.Position)(r.range.startLineNumber,r.range.startColumn),this.editInsertEnd=new(0,f.Position)(r.range.endLineNumber,r.range.endColumn),this.editReplaceEnd=new(0,f.Position)(r.range.endLineNumber,r.range.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(r.range)||r.range.startLineNumber!==n.lineNumber):(this.editStart=new(0,f.Position)(r.range.insert.startLineNumber,r.range.insert.startColumn),this.editInsertEnd=new(0,f.Position)(r.range.insert.endLineNumber,r.range.insert.endColumn),this.editReplaceEnd=new(0,f.Position)(r.range.replace.endLineNumber,r.range.replace.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(r.range.insert)||v.Range.spansMultipleLines(r.range.replace)||r.range.insert.startLineNumber!==n.lineNumber||r.range.replace.startLineNumber!==n.lineNumber||r.range.insert.startColumn!==r.range.replace.startColumn),"function"!=typeof o.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}return t(s)(e,[{key:"isResolved",get:function(){return!!this._isResolved}},{key:"resolve",value:function(e){return D(this,void 0,void 0,t(c).mark((function n(){var r,i;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._resolveCache||(r=this,i=e.onCancellationRequested((function(){r._resolveCache=void 0,r._isResolved=!1})),this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((function(e){Object.assign(r.completion,e),r._isResolved=!0,i.dispose()}),(function(e){(0,d.isPromiseCanceledError)(e)&&(r._resolveCache=void 0,r._isResolved=!1)}))),t.abrupt("return",this._resolveCache);case 2:case"end":return t.stop()}}),n,this)})))}}]),e}(),A=function e(){"use strict";var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t(a)(this,e),this.snippetSortOrder=n,this.kindFilter=r,this.providerFilter=i,this.showDeprecated=o};function M(){return i}A.default=new A;var T=function e(n,r,i,o){"use strict";t(a)(this,e),this.items=n,this.needsClipboard=r,this.durations=i,this.disposable=o};function N(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.default,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{triggerKind:0},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g.CancellationToken.None;return D(this,void 0,void 0,t(c).mark((function s(){var l,u,f,p,g,m,b,C,x,w,S,E,I,R,A,M,N,P,O;return t(c).wrap((function(s){for(;;)switch(s.prev=s.next){case 0:l=this,u=new(0,k.StopWatch)(!0),n=n.clone(),f=e.getWordAtPosition(n),p=f?new(0,v.Range)(n.lineNumber,f.startColumn,n.lineNumber,f.endColumn):v.Range.fromPositions(n),g={replace:p,insert:p.setEndPosition(n.lineNumber,n.column)},m=[],b=new(0,y.DisposableStore),C=[],x=!1,w=function(e,t,i){var o,a,s;if(t){var l=!0,u=!1,c=void 0;try{for(var d,h=t.suggestions[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;if(!r.kindFilter.has(f.kind)){if(!r.showDeprecated&&(null===(o=null==f?void 0:f.tags)||void 0===o?void 0:o.includes(1)))continue;f.range||(f.range=g),f.sortText||(f.sortText="string"==typeof f.label?f.label:f.label.label),!x&&f.insertTextRules&&4&f.insertTextRules&&(x=_.SnippetParser.guessNeedsClipboard(f.insertText)),m.push(new L(n,f,t,e))}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}(0,y.isDisposable)(t)&&b.add(t),C.push({providerName:null!==(a=e._debugDisplayName)&&void 0!==a?a:"unkown_provider",elapsedProvider:null!==(s=t.duration)&&void 0!==s?s:-1,elapsedOverall:i.elapsed()})}},S=D(l,void 0,void 0,t(c).mark((function s(){var l,u;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 2:if(!(r.providerFilter.size>0)||r.providerFilter.has(i)){t.next=4;break}return t.abrupt("return");case 4:return l=new(0,k.StopWatch)(!0),t.next=7,i.provideCompletionItems(e,n,o,a);case 7:u=t.sent,w(i,u,l);case 9:case"end":return t.stop()}}),s)}))),E=!0,I=!1,R=void 0,s.prev=13,A=h.CompletionProviderRegistry.orderedGroups(e)[Symbol.iterator]();case 15:if(E=(M=A.next()).done){s.next=26;break}return N=M.value,P=this,O=m.length,s.next=21,Promise.all(N.map((function(i){return D(P,void 0,void 0,t(c).mark((function s(){var l,u;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.providerFilter.size>0)||r.providerFilter.has(i)){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,l=new(0,k.StopWatch)(!0),t.next=6,i.provideCompletionItems(e,n,o,a);case 6:u=t.sent,w(i,u,l),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(0,d.onUnexpectedExternalError)(t.t0);case 13:case"end":return t.stop()}}),s,null,[[2,10]])})))})));case 21:if(O===m.length&&!a.isCancellationRequested){s.next=23;break}return s.abrupt("break",26);case 23:E=!0,s.next=15;break;case 26:s.next=32;break;case 28:s.prev=28,s.t0=s.catch(13),I=!0,R=s.t0;case 32:s.prev=32,s.prev=33,E||null==A.return||A.return();case 35:if(s.prev=35,!I){s.next=38;break}throw R;case 38:return s.finish(35);case 39:return s.finish(32);case 40:return s.next=42,S;case 42:if(!a.isCancellationRequested){s.next=45;break}return b.dispose(),s.abrupt("return",Promise.reject((0,d.canceled)()));case 45:return s.abrupt("return",new T(m.sort(F(r.snippetSortOrder)),x,{entries:C,elapsed:u.elapsed()},b));case 46:case"end":return s.stop()}}),s,this,[[13,28,32,40],[33,,35,39]])})))}function P(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}var O=new Map;function F(e){return O.get(e)}O.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return P(e,t)})),O.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return P(e,t)})),O.set(1,P),C.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return D(void 0,void 0,void 0,t(c).mark((function n(){var i,o,a,s,u,d,h,p,v,m,y,b,_,k,C;return t(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t(l)(r,4),o=i[0],a=i[1],s=i[2],u=i[3],(0,x.assertType)(w.URI.isUri(o)),(0,x.assertType)(f.Position.isIPosition(a)),(0,x.assertType)("string"==typeof s||!s),(0,x.assertType)("number"==typeof u||!u),n.next=7,e.get(S.ITextModelService).createModelReference(o);case 7:return d=n.sent,n.prev=8,h={incomplete:!1,suggestions:[]},p=[],n.next=13,N(d.object.textEditorModel,f.Position.lift(a),void 0,{triggerCharacter:s,triggerKind:s?1:0});case 13:for(v=n.sent,m=!0,y=!1,b=void 0,n.prev=15,_=v.items[Symbol.iterator]();!(m=(k=_.next()).done);m=!0)C=k.value,p.length<(null!=u?u:0)&&p.push(C.resolve(g.CancellationToken.None)),h.incomplete=h.incomplete||C.container.incomplete,h.suggestions.push(C.completion);n.next=23;break;case 19:n.prev=19,n.t0=n.catch(15),y=!0,b=n.t0;case 23:n.prev=23,n.prev=24,m||null==_.return||_.return();case 26:if(n.prev=26,!y){n.next=29;break}throw b;case 29:return n.finish(26);case 30:return n.finish(23);case 31:return n.prev=31,n.next=34,Promise.all(p);case 34:return n.abrupt("return",h);case 35:return n.prev=35,setTimeout((function(){return v.disposable.dispose()}),100),n.finish(35);case 38:return n.prev=38,d.dispose(),n.finish(38);case 41:case"end":return n.stop()}}),n,null,[[8,,38,41],[15,19,23,31],[24,,26,30],[31,,35,38]])})))}));var B=new(function(){"use strict";function e(){t(a)(this,e),this.onlyOnceSuggestions=[]}return t(s)(e,[{key:"provideCompletionItems",value:function(){var e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}}]),e}());function z(e,n){setTimeout((function(){var r;(r=B.onlyOnceSuggestions).push.apply(r,t(u)(n)),e.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(B))}),0)}h.CompletionProviderRegistry.register("*",B)})),o.register("fsmnI",(function(n,r){e(n.exports,"ISuggestMemoryService",(function(){return I}),(function(e){return I=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("56Cfp"),d=o("aV5UR"),h=o("7K1Ci"),f=o("91bq0"),p=o("aQzpN"),g=o("glSIC"),v=o("1xRRx"),m=o("e1Jmh"),y=o("8KoBX"),b=o("lM5Mj"),_=o("4eQyS"),k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,r){t(n,r,e)}},x=function(){"use strict";function e(n){t(i)(this,e),this.name=n}return t(a)(e,[{key:"select",value:function(e,t,n){if(0===n.length)return 0;for(var r=n[0].score[0],i=0;i<n.length;i++){var o=n[i],a=o.score,s=o.completion;if(a[0]!==r)break;if(s.preselect)return i}return 0}}]),e}(),w=function(e){"use strict";t(u)(r,e);var n=t(d)(r);function r(){return t(i)(this,r),n.call(this,"first")}return t(a)(r,[{key:"memorize",value:function(e,t,n){}},{key:"toJSON",value:function(){}},{key:"fromJSON",value:function(){}}]),r}(x),S=function(e){"use strict";t(u)(r,e);var n=t(d)(r);function r(){var e;return t(i)(this,r),(e=n.call(this,"recentlyUsed"))._cache=new(0,h.LRUCache)(300,.66),e._seq=0,e}return t(a)(r,[{key:"memorize",value:function(e,t,n){var r="".concat(e.getLanguageIdentifier().language,"/").concat(n.textLabel);this._cache.set(r,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}},{key:"select",value:function(e,n,i){if(0===i.length)return 0;var o=e.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(o))return t(s)(t(l)(r.prototype),"select",this).call(this,e,n,i);for(var a=i[0].score[0],u=-1,c=-1,d=-1,h=0;h<i.length&&i[h].score[0]===a;h++){var f="".concat(e.getLanguageIdentifier().language,"/").concat(i[h].textLabel),p=this._cache.peek(f);if(p&&p.touch>d&&p.type===i[h].completion.kind&&p.insertText===i[h].completion.insertText&&(d=p.touch,c=h),i[h].completion.preselect&&-1===u)return h}return-1!==c?c:-1!==u?u:0}},{key:"toJSON",value:function(){return this._cache.toJSON()}},{key:"fromJSON",value:function(e){this._cache.clear();var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=t(c)(o.value,2),l=s[0],u=s[1];u.touch=0,u.type="number"==typeof u.type?u.type:(0,p.completionKindFromString)(u.type),this._cache.set(l,u)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._seq=this._cache.size}}]),r}(x),E=function(e){"use strict";t(u)(r,e);var n=t(d)(r);function r(){var e;return t(i)(this,r),(e=n.call(this,"recentlyUsedByPrefix"))._trie=h.TernarySearchTree.forStrings(),e._seq=0,e}return t(a)(r,[{key:"memorize",value:function(e,t,n){var r=e.getWordUntilPosition(t).word,i="".concat(e.getLanguageIdentifier().language,"/").concat(r);this._trie.set(i,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}},{key:"select",value:function(e,n,i){var o=e.getWordUntilPosition(n).word;if(!o)return t(s)(t(l)(r.prototype),"select",this).call(this,e,n,i);var a="".concat(e.getLanguageIdentifier().language,"/").concat(o),u=this._trie.get(a);if(u||(u=this._trie.findSubstr(a)),u)for(var c=0;c<i.length;c++){var d=i[c].completion,h=d.kind,f=d.insertText;if(h===u.type&&f===u.insertText)return c}return t(s)(t(l)(r.prototype),"select",this).call(this,e,n,i)}},{key:"toJSON",value:function(){var e=[];return this._trie.forEach((function(t,n){return e.push([n,t])})),e.sort((function(e,t){return-(e[1].touch-t[1].touch)})).forEach((function(e,t){return e[1].touch=t})),e.slice(0,200)}},{key:"fromJSON",value:function(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=t(c)(o.value,2),l=s[0],u=s[1];u.type="number"==typeof u.type?u.type:(0,p.completionKindFromString)(u.type),this._trie.set(l,u)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}}]),r}(x),D=function(){"use strict";function e(n,r,o){var a=this;t(i)(this,e),this._storageService=n,this._modeService=r,this._configService=o,this._disposables=new(0,g.DisposableStore),this._persistSoon=new(0,v.RunOnceScheduler)((function(){return a._saveState()}),500),this._disposables.add(n.onWillSaveState((function(e){e.reason===f.WillSaveStateReason.SHUTDOWN&&a._saveState()})))}return t(a)(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._persistSoon.dispose()}},{key:"memorize",value:function(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}},{key:"select",value:function(e,t,n){return this._withStrategy(e,t).select(e,t,n)}},{key:"_withStrategy",value:function(t,n){var r,i,o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:null===(r=this._modeService.getLanguageIdentifier(t.getLanguageIdAtPosition(n.lineNumber,n.column)))||void 0===r?void 0:r.language,resource:t.uri});if((null===(i=this._strategy)||void 0===i?void 0:i.name)!==o){this._saveState();var a=e._strategyCtors.get(o)||w;this._strategy=new a;try{var s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get("".concat(e._storagePrefix,"/").concat(o),s);l&&this._strategy.fromJSON(JSON.parse(l))}catch(e){}}return this._strategy}},{key:"_saveState",value:function(){if(this._strategy){var t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store("".concat(e._storagePrefix,"/").concat(this._strategy.name),n,t,1)}}}]),e}();D._strategyCtors=new Map([["recentlyUsedByPrefix",E],["recentlyUsed",S],["first",w]]),D._storagePrefix="suggest/memories",D=k([C(0,f.IStorageService),C(1,_.IModeService),C(2,y.IConfigurationService)],D);var I=(0,m.createDecorator)("ISuggestMemories");(0,b.registerSingleton)(I,D,!0)})),o.register("kFnOp",(function(n,r){e(n.exports,"SuggestAlternatives",(function(){return c}),(function(e){return c=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("6x2MV"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=function(e,t){return function(n,r){t(n,r,e)}},c=function(){"use strict";function e(n,r){t(i)(this,e),this._editor=n,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(r)}return t(a)(e,[{key:"dispose",value:function(){this.reset()}},{key:"reset",value:function(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}},{key:"set",value:function(t,n){var r=t.model,i=t.index,o=this;0!==r.items.length?e._moveIndex(!0,r,i)!==i?(this._acceptNext=n,this._model=r,this._index=i,this._listener=this._editor.onDidChangeCursorPosition((function(){o._ignore||o.reset()})),this._ckOtherSuggestions.set(!0)):this.reset():this.reset()}},{key:"next",value:function(){this._move(!0)}},{key:"prev",value:function(){this._move(!1)}},{key:"_move",value:function(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}}],[{key:"_moveIndex",value:function(e,t,n){for(var r=n;(r=(r+t.items.length+(e?1:-1))%t.items.length)!==n&&t.items[r].completion.additionalTextEdits;);return r}}]),e}();c.OtherSuggestions=new(0,s.RawContextKey)("hasOtherSuggestions",!1),c=l([u(1,s.IContextKeyService)],c)})),o.register("jKuIY",(function(n,r){e(n.exports,"SuggestModel",(function(){return A}),(function(e){return A=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("4GLgu"),u=o("1xRRx"),c=o("9yDnc"),d=o("4YObi"),h=o("glSIC"),f=o("9cZTD"),p=o("aQzpN"),g=o("gRchQ"),v=o("hkUNz"),m=o("9lVOh"),y=o("7C9Vb"),b=o("3mkAo"),_=o("fSurq"),k=o("flPya"),C=o("iO6iO"),x=o("9nCXB"),w=o("iAca1"),S=o("6x2MV"),E=o("8KoBX"),D=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){return function(n,r){t(n,r,e)}},R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},L=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this.leadingLineContent=n.getLineContent(r.lineNumber).substr(0,r.column-1),this.leadingWord=n.getWordUntilPosition(r),this.lineNumber=r.lineNumber,this.column=r.column,this.auto=o,this.shy=a}return t(a)(e,null,[{key:"shouldAutoTrigger",value:function(e){if(!e.hasModel())return!1;var t=e.getModel(),n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);var r=t.getWordAtPosition(n);return!!r&&(r.endColumn===n.column&&!!isNaN(Number(r.word)))}}]),e}();var A=function(){"use strict";function e(n,r,o,a,s,l,c){var g=this;t(i)(this,e),this._editor=n,this._editorWorkerService=r,this._clipboardService=o,this._telemetryService=a,this._logService=s,this._contextKeyService=l,this._configurationService=c,this._toDispose=new(0,h.DisposableStore),this._quickSuggestDelay=10,this._triggerCharacterListener=new(0,h.DisposableStore),this._triggerQuickSuggest=new(0,u.TimeoutTimer),this._state=0,this._completionDisposables=new(0,h.DisposableStore),this._onDidCancel=new(0,d.Emitter),this._onDidTrigger=new(0,d.Emitter),this._onDidSuggest=new(0,d.Emitter),this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new(0,f.Selection)(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((function(){g._updateTriggerCharacters(),g.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((function(){g._updateTriggerCharacters(),g.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((function(){g._updateTriggerCharacters(),g._updateQuickSuggest()}))),this._toDispose.add(p.CompletionProviderRegistry.onDidChange((function(){g._updateTriggerCharacters(),g._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((function(e){g._onCursorChange(e)})));var v=!1;this._toDispose.add(this._editor.onDidCompositionStart((function(){v=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((function(){v=!1,g._refilterCompletionItems()}))),this._toDispose.add(this._editor.onDidChangeModelContent((function(){v||g._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}return t(a)(e,[{key:"dispose",value:function(){(0,h.dispose)(this._triggerCharacterListener),(0,h.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}},{key:"_updateQuickSuggest",value:function(){this._quickSuggestDelay=this._editor.getOption(78),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}},{key:"_updateTriggerCharacters",value:function(){var e=this;if(this._triggerCharacterListener.clear(),!this._editor.getOption(79)&&this._editor.hasModel()&&this._editor.getOption(108)){var t=new Map,n=!0,r=!1,i=void 0,o=!0,a=!1,s=void 0;try{for(var l,u=p.CompletionProviderRegistry.all(this._editor.getModel())[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;try{for(var d,h=(c.triggerCharacters||[])[Symbol.iterator]();!(n=(d=h.next()).done);n=!0){var f=d.value,g=t.get(f);g||((g=new Set).add((0,v.getSnippetSuggestSupport)()),t.set(f,g)),g.add(c)}}catch(e){r=!0,i=e}finally{try{n||null==h.return||h.return()}finally{if(r)throw i}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var m=function(n){var r,i;if((r=e._contextKeyService,i=e._configurationService,!Boolean(r.getContextKeyValue("inlineSuggestionVisible"))||Boolean(i.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters")))&&!L.shouldAutoTrigger(e._editor)){if(!n){var o=e._editor.getPosition();n=e._editor.getModel().getLineContent(o.lineNumber).substr(0,o.column-1)}var a="";(0,k.isLowSurrogate)(n.charCodeAt(n.length-1))?(0,k.isHighSurrogate)(n.charCodeAt(n.length-2))&&(a=n.substr(n.length-2)):a=n.charAt(n.length-1);var s=t.get(a);if(s){var l=e._completionModel?{items:e._completionModel.adopt(s),clipboardText:e._completionModel.clipboardText}:void 0;e.trigger({auto:!0,shy:!1,triggerCharacter:a},Boolean(e._completionModel),s,l)}}};this._triggerCharacterListener.add(this._editor.onDidType(m)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(m))}}},{key:"state",get:function(){return this._state}},{key:"cancel",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(e=this._requestToken)||void 0===e||e.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))}},{key:"clear",value:function(){this._completionDisposables.clear()}},{key:"_updateActiveSuggestSession",value:function(){0!==this._state&&(this._editor.hasModel()&&p.CompletionProviderRegistry.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}},{key:"_onCursorChange",value:function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),n=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)this.cancel();else if(p.CompletionProviderRegistry.has(t))if(0===this._state&&0===e.reason){var r=this;if(!1===this._editor.getOption(77))return;if(!n.containsRange(this._currentSelection)&&!n.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(105).snippetsPreventQuickSuggestions&&m.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet((function(){if(0===r._state&&L.shouldAutoTrigger(r._editor)&&r._editor.hasModel()){var e=r._editor.getModel(),t=r._editor.getPosition(),n=r._editor.getOption(77);if(!1!==n){if(!0===n);else{e.tokenizeIfCheap(t.lineNumber);var i=e.getLineTokens(t.lineNumber),o=i.getStandardTokenType(i.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(!(n.other&&0===o||n.comments&&1===o||n.strings&&2===o))return}var a,s;if(a=r._contextKeyService,s=r._configurationService,!Boolean(a.getContextKeyValue("inlineSuggestionVisible"))||Boolean(s.getValue("editor.inlineSuggest.allowQuickSuggestions")))r.trigger({auto:!0,shy:!1})}}}),this._quickSuggestDelay)}else 0!==this._state&&3===e.reason&&this._refilterCompletionItems()}}},{key:"_refilterCompletionItems",value:function(){var e=this;Promise.resolve().then((function(){if(0!==e._state&&e._editor.hasModel()){var t=e._editor.getModel(),n=e._editor.getPosition(),r=new L(t,n,2===e._state,!1);e._onNewContext(r)}}))}},{key:"trigger",value:function(n){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,u=this;if(this._editor.hasModel()){var d=this._editor.getModel(),h=n.auto,f=new L(d,this._editor.getPosition(),h,n.shy);this.cancel(i),this._state=h?2:1,this._onDidTrigger.fire({auto:h,shy:n.shy,position:this._editor.getPosition()}),this._context=f;var p={triggerKind:null!==(r=n.triggerKind)&&void 0!==r?r:0};n.triggerCharacter&&(p={triggerKind:1,triggerCharacter:n.triggerCharacter}),this._requestToken=new(0,y.CancellationTokenSource);var m=this._editor.getOption(100),b=1;switch(m){case"top":b=0;break;case"bottom":b=2}var k=e._createSuggestFilter(this._editor),C=k.itemKind,x=k.showDeprecated,w=_.WordDistance.create(this._editorWorkerService,this._editor),S=(0,v.provideSuggestionItems)(d,this._editor.getPosition(),new(0,v.CompletionOptions)(b,C,o,x),p,this._requestToken.token);Promise.all([S,w]).then((function(e){var r=t(s)(e,2),i=r[0],o=r[1];return R(u,void 0,void 0,t(l).mark((function e(){var r,s,u,c,d,f;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this._requestToken)||void 0===r||r.dispose(),this._editor.hasModel()){e.next=4;break}return e.abrupt("return");case 4:if((s=null==a?void 0:a.clipboardText)||!i.needsClipboard){e.next=9;break}return e.next=8,this._clipboardService.readText();case 8:s=e.sent;case 9:if(0!==this._state){e.next=11;break}return e.abrupt("return");case 11:u=this._editor.getModel(),c=i.items,a&&(d=(0,v.getSuggestionComparator)(b),c=c.concat(a.items).sort(d)),f=new L(u,this._editor.getPosition(),h,n.shy),this._completionModel=new(0,g.CompletionModel)(c,this._context.column,{leadingLineContent:f.leadingLineContent,characterCountDelta:f.column-this._context.column},o,this._editor.getOption(105),this._editor.getOption(100),s),this._completionDisposables.add(i.disposable),this._onNewContext(f),this._reportDurationsTelemetry(i.durations);case 19:case"end":return e.stop()}}),e,this)})))})).catch(c.onUnexpectedError)}}},{key:"_reportDurationsTelemetry",value:function(e){var t=this;this._telemetryGate++%230==0&&setTimeout((function(){t._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),t._logService.debug("suggest.durations.json",e)}))}},{key:"_onNewContext",value:function(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if((0,k.getLeadingWhitespace)(e.leadingLineContent)===(0,k.getLeadingWhitespace)(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){var t=new Set(p.CompletionProviderRegistry.all(this._editor.getModel())),n=!0,r=!1,i=void 0;try{for(var o,a=this._completionModel.allProvider[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.delete(s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var l=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,t,{items:l,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){var u=this._completionModel.incomplete,c=this._completionModel.adopt(u);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,u,{items:c,clipboardText:this._completionModel.clipboardText})}else{var d=this._completionModel.lineContext,h=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(L.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=d,(h=this._completionModel.items.length>0)&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:h})}}else this.cancel();else this.cancel()}}],[{key:"_createSuggestFilter",value:function(e){var t=new Set;"none"===e.getOption(100)&&t.add(27);var n=e.getOption(105);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}}]),e}();A=D([I(1,b.IEditorWorkerService),I(2,C.IClipboardService),I(3,x.ITelemetryService),I(4,w.ILogService),I(5,S.IContextKeyService),I(6,E.IConfigurationService)],A)})),o.register("gRchQ",(function(n,r){e(n.exports,"CompletionModel",(function(){return d}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("hBaq0"),u=o("flPya"),c=o("ddsHh"),d=function(){"use strict";function e(n,r,o,a,s,l,u){t(i)(this,e),this.clipboardText=u,this._snippetCompareFn=e._compareCompletionItems,this._items=n,this._column=r,this._wordDistance=a,this._options=s,this._refilterKind=1,this._lineContext=o,"top"===l?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:"bottom"===l&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}return t(a)(e,[{key:"lineContext",get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}},{key:"items",get:function(){return this._ensureCachedState(),this._filteredItems}},{key:"allProvider",get:function(){return this._ensureCachedState(),this._providerInfo.keys()}},{key:"incomplete",get:function(){this._ensureCachedState();var e=new Set,n=!0,r=!1,i=void 0;try{for(var o,a=this._providerInfo[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=t(s)(o.value,2),u=l[0];l[1]&&e.add(u)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}},{key:"adopt",value:function(e){for(var t=[],n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}},{key:"stats",get:function(){return this._ensureCachedState(),this._stats}},{key:"_ensureCachedState",value:function(){0!==this._refilterKind&&this._createCachedState()}},{key:"_createCachedState",value:function(){this._providerInfo=new Map;for(var e=[],t=this._lineContext,n=t.leadingLineContent,r=t.characterCountDelta,i="",o="",a=1===this._refilterKind?this._items:this._filteredItems,s=[],d=!this._options.filterGraceful||a.length>2e3?l.fuzzyScore:l.fuzzyScoreGracefulAggressive,h=0;h<a.length;h++){var f=a[h];if(!f.isInvalid){this._providerInfo.set(f.provider,Boolean(f.container.incomplete));var p=f.position.column-f.editStart.column,g=p+r-(f.position.column-this._column);if(i.length!==g&&(o=(i=0===g?"":n.slice(-g)).toLowerCase()),f.word=i,0===g)f.score=l.FuzzyScore.Default;else{for(var v=0;v<p;){var m=i.charCodeAt(v);if(32!==m&&9!==m)break;v+=1}if(v>=g)f.score=l.FuzzyScore.Default;else if("string"==typeof f.completion.filterText){var y=d(i,o,v,f.completion.filterText,f.filterTextLow,0,!1);if(!y)continue;0===(0,u.compareIgnoreCase)(f.completion.filterText,f.textLabel)?f.score=y:(f.score=(0,l.anyScore)(i,o,v,f.textLabel,f.labelLow,0),f.score[0]=y[0])}else{var b=d(i,o,v,f.textLabel,f.labelLow,0,!1);if(!b)continue;f.score=b}}f.idx=h,f.distance=this._wordDistance.distance(f.position,f.completion),s.push(f),e.push(f.textLabel.length)}}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,c.quickSelect)(e.length-.85,e,(function(e,t){return e-t})):0}}}],[{key:"_compareCompletionItems",value:function(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}},{key:"_compareCompletionItemsSnippetsDown",value:function(t,n){if(t.completion.kind!==n.completion.kind){if(27===t.completion.kind)return 1;if(27===n.completion.kind)return-1}return e._compareCompletionItems(t,n)}},{key:"_compareCompletionItemsSnippetsUp",value:function(t,n){if(t.completion.kind!==n.completion.kind){if(27===t.completion.kind)return-1;if(27===n.completion.kind)return 1}return e._compareCompletionItems(t,n)}}]),e}()})),o.register("fSurq",(function(n,r){e(n.exports,"WordDistance",(function(){return g}),(function(e){return g=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("56Cfp"),u=o("aV5UR"),c=o("4GLgu"),d=o("ddsHh"),h=o("Og1nm"),f=o("8pfoh"),p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},g=function(){"use strict";function e(){t(i)(this,e)}return t(a)(e,null,[{key:"create",value:function(n,r){return p(this,void 0,void 0,t(c).mark((function o(){var p,g,v,m,y,b;return t(c).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r.getOption(105).localityBonus){o.next=2;break}return o.abrupt("return",e.None);case 2:if(r.hasModel()){o.next=4;break}return o.abrupt("return",e.None);case 4:if(p=r.getModel(),g=r.getPosition(),n.canComputeWordRanges(p.uri)){o.next=8;break}return o.abrupt("return",e.None);case 8:return o.t0=t(l),o.next=11,(new(0,f.BracketSelectionRangeProvider)).provideSelectionRanges(p,[g]);case 11:if(o.t1=o.sent,v=(0,o.t0)(o.t1,1),0!==(m=v[0]).length){o.next=16;break}return o.abrupt("return",e.None);case 16:return o.next=18,n.computeWordRanges(p.uri,m[0].range);case 18:if(y=o.sent){o.next=21;break}return o.abrupt("return",e.None);case 21:return b=p.getWordUntilPosition(g),delete y[b.word],o.abrupt("return",new(function(e){t(s)(o,e);var n=t(u)(o);function o(){return t(i)(this,o),n.apply(this,arguments)}return t(a)(o,[{key:"distance",value:function(e,t){if(!g.equals(r.getPosition()))return 0;if(17===t.kind)return 2097152;var n="string"==typeof t.label?t.label:t.label.label,i=y[n];if((0,d.isFalsyOrEmpty)(i))return 2097152;var o=(0,d.binarySearch)(i,h.Range.fromPositions(e),h.Range.compareRangesUsingStarts),a=o>=0?i[o]:i[Math.max(0,~o-1)],s=m.length,l=!0,u=!1,c=void 0;try{for(var f,p=m[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var v=f.value;if(!h.Range.containsRange(v.range,a))break;s-=1}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}return s}}]),o}(e)));case 24:case"end":return o.stop()}}),o)})))}}]),e}();g.None=new(function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"distance",value:function(){return 0}}]),r}(g))})),o.register("8pfoh",(function(n,r){e(n.exports,"BracketSelectionRangeProvider",(function(){return h}),(function(e){return h=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("4GLgu"),l=o("kaKvC"),u=o("Og1nm"),c=o("eCDIT"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},h=function(){"use strict";function e(){t(i)(this,e)}return t(a)(e,[{key:"provideSelectionRanges",value:function(n,r){return d(this,void 0,void 0,t(s).mark((function i(){var o,a,l,u,c,d,h,f,p;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=[],a=!0,l=!1,u=void 0,t.prev=2,c=r[Symbol.iterator]();case 4:if(a=(d=c.next()).done){t.next=16;break}return h=d.value,f=[],o.push(f),p=new Map,t.next=11,new Promise((function(t){return e._bracketsRightYield(t,0,n,h,p)}));case 11:return t.next=13,new Promise((function(t){return e._bracketsLeftYield(t,0,n,h,p,f)}));case 13:a=!0,t.next=4;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(2),l=!0,u=t.t0;case 22:t.prev=22,t.prev=23,a||null==c.return||c.return();case 25:if(t.prev=25,!l){t.next=28;break}throw u;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return t.abrupt("return",o);case 31:case"end":return t.stop()}}),i,null,[[2,18,22,30],[23,,25,29]])})))}}],[{key:"_bracketsRightYield",value:function(t,n,r,i,o){for(var a=new Map,s=Date.now();;){if(n>=e._maxRounds){t();break}if(!i){t();break}var l=r.findNextBracket(i);if(!l){t();break}if(Date.now()-s>e._maxDuration){setTimeout((function(){return e._bracketsRightYield(t,n+1,r,i,o)}));break}var u=l.close[0];if(l.isOpen){var d=a.has(u)?a.get(u):0;a.set(u,d+1)}else{var h=a.has(u)?a.get(u):0;if(h-=1,a.set(u,Math.max(0,h)),h<0){var f=o.get(u);f||(f=new(0,c.LinkedList),o.set(u,f)),f.push(l.range)}}i=l.range.getEndPosition()}}},{key:"_bracketsLeftYield",value:function(t,n,r,i,o,a){for(var s=new Map,l=Date.now();;){if(n>=e._maxRounds&&0===o.size){t();break}if(!i){t();break}var c=r.findPrevBracket(i);if(!c){t();break}if(Date.now()-l>e._maxDuration){setTimeout((function(){return e._bracketsLeftYield(t,n+1,r,i,o,a)}));break}var d=c.close[0];if(c.isOpen){var h=s.has(d)?s.get(d):0;if(h-=1,s.set(d,Math.max(0,h)),h<0){var f=o.get(d);if(f){var p=f.shift();0===f.size&&o.delete(d);var g=u.Range.fromPositions(c.range.getEndPosition(),p.getStartPosition()),v=u.Range.fromPositions(c.range.getStartPosition(),p.getEndPosition());a.push({range:g}),a.push({range:v}),e._addBracketLeading(r,v,a)}}}else{var m=s.has(d)?s.get(d):0;s.set(d,m+1)}i=c.range.getStartPosition()}}},{key:"_addBracketLeading",value:function(e,t,n){if(t.startLineNumber!==t.endLineNumber){var r=t.startLineNumber,i=e.getLineFirstNonWhitespaceColumn(r);0!==i&&i!==t.startColumn&&(n.push({range:u.Range.fromPositions(new(0,l.Position)(r,i),t.getEndPosition())}),n.push({range:u.Range.fromPositions(new(0,l.Position)(r,1),t.getEndPosition())}));var o=r-1;if(o>0){var a=e.getLineFirstNonWhitespaceColumn(o);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(o)&&(n.push({range:u.Range.fromPositions(new(0,l.Position)(o,a),t.getEndPosition())}),n.push({range:u.Range.fromPositions(new(0,l.Position)(o,1),t.getEndPosition())}))}}}}]),e}();h._maxDuration=30,h._maxRounds=2})),o.register("442Ga",(function(n,r){e(n.exports,"SuggestWidget",(function(){return H}),(function(e){return H=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("4GLgu");o("7bfxu"),o("9x6AH");var l=o("dKkCN"),u=o("flPya"),c=o("i3Iko"),d=o("4YObi"),h=o("9yDnc"),f=o("glSIC"),p=o("1KaVa"),g=o("6x2MV"),v=o("hkUNz"),m=o("dxsg8"),y=o("4qRit"),b=o("eZPXr"),_=o("91bq0"),k=o("1xRRx"),C=o("e1Jmh"),x=o("aUs13"),w=o("15Sxi"),S=o("fD606"),E=o("1NRfx"),D=o("ao8rP"),I=o("aeTwS"),R=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,r){t(n,r,e)}},A=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},M=(0,b.registerColor)("editorSuggestWidget.background",{dark:b.editorWidgetBackground,light:b.editorWidgetBackground,hc:b.editorWidgetBackground},l.localize("editorSuggestWidgetBackground","Background color of the suggest widget.")),T=(0,b.registerColor)("editorSuggestWidget.border",{dark:b.editorWidgetBorder,light:b.editorWidgetBorder,hc:b.editorWidgetBorder},l.localize("editorSuggestWidgetBorder","Border color of the suggest widget.")),N=(0,b.registerColor)("editorSuggestWidget.foreground",{dark:b.editorForeground,light:b.editorForeground,hc:b.editorForeground},l.localize("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),P=(0,b.registerColor)("editorSuggestWidget.selectedForeground",{dark:b.quickInputListFocusForeground,light:b.quickInputListFocusForeground,hc:b.quickInputListFocusForeground},l.localize("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),O=(0,b.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:b.quickInputListFocusIconForeground,light:b.quickInputListFocusIconForeground,hc:b.quickInputListFocusIconForeground},l.localize("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),F=(0,b.registerColor)("editorSuggestWidget.selectedBackground",{dark:b.quickInputListFocusBackground,light:b.quickInputListFocusBackground,hc:b.quickInputListFocusBackground},l.localize("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),B=(0,b.registerColor)("editorSuggestWidget.highlightForeground",{dark:b.listHighlightForeground,light:b.listHighlightForeground,hc:b.listHighlightForeground},l.localize("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),z=(0,b.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:b.listFocusHighlightForeground,light:b.listFocusHighlightForeground,hc:b.listFocusHighlightForeground},l.localize("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),W=function(){"use strict";function e(n,r){t(i)(this,e),this._service=n,this._key="suggestWidget.size/".concat(r.getEditorType(),"/").concat(r instanceof D.EmbeddedCodeEditorWidget)}return t(a)(e,[{key:"restore",value:function(){var e,t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{var n=JSON.parse(t);if(c.Dimension.is(n))return c.Dimension.lift(n)}catch(e){}}},{key:"store",value:function(e){this._service.store(this._key,JSON.stringify(e),0,1)}},{key:"reset",value:function(){this._service.remove(this._key,0)}}]),e}(),H=function(){"use strict";function e(n,r,o,a,s){var h=this;t(i)(this,e),this.editor=n,this._storageService=r,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new(0,k.TimeoutTimer),this._disposables=new(0,f.DisposableStore),this._onDidSelect=new(0,d.Emitter),this._onDidFocus=new(0,d.Emitter),this._onDidHide=new(0,d.Emitter),this._onDidShow=new(0,d.Emitter),this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new(0,d.Emitter),this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new(0,E.ResizableHTMLElement),this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new V(this,n),this._persistedSize=new W(r,n);var g,y=function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t(i)(this,e),this.persistedSize=n,this.currentSize=r,this.persistHeight=o,this.persistWidth=a};this._disposables.add(this.element.onDidWillResize((function(){h._contentWidget.lockPreference(),g=new y(h._persistedSize.restore(),h.element.size)}))),this._disposables.add(this.element.onDidResize((function(e){var t,n,r,i;if(h._resize(e.dimension.width,e.dimension.height),g&&(g.persistHeight=g.persistHeight||!!e.north||!!e.south,g.persistWidth=g.persistWidth||!!e.east||!!e.west),e.done){if(g){var o=h.getLayoutInfo(),a=o.itemHeight,s=o.defaultSize,l=Math.round(a/2),u=h.element.size,d=u.width,f=u.height;(!g.persistHeight||Math.abs(g.currentSize.height-f)<=l)&&(f=null!==(n=null===(t=g.persistedSize)||void 0===t?void 0:t.height)&&void 0!==n?n:s.height),(!g.persistWidth||Math.abs(g.currentSize.width-d)<=l)&&(d=null!==(i=null===(r=g.persistedSize)||void 0===r?void 0:r.width)&&void 0!==i?i:s.width),h._persistedSize.store(new c.Dimension(d,f))}h._contentWidget.unlockPreference(),g=void 0}}))),this._messageElement=c.append(this.element.domNode,c.$(".message")),this._listElement=c.append(this.element.domNode,c.$(".tree"));var _=s.createInstance(x.SuggestDetailsWidget,this.editor);_.onDidClose(this.toggleDetails,this,this._disposables),this._details=new(0,x.SuggestDetailsOverlay)(_,this.editor);var C=function(){return h.element.domNode.classList.toggle("no-icons",!h.editor.getOption(105).showIcons)};C();var D=s.createInstance(S.ItemRenderer,this.editor);this._disposables.add(D),this._disposables.add(D.onDidToggleDetails((function(){return h.toggleDetails()}))),this._list=new(0,p.List)("SuggestWidget",this._listElement,{getHeight:function(e){return h.getLayoutInfo().itemHeight},getTemplateId:function(e){return"suggestion"}},[D],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:function(){return"option"},getAriaLabel:function(e){if(e.isResolved&&h._isDetailsVisible()){var t=e.completion,n=t.documentation,r=t.detail,i=u.format("{0}{1}",r||"",n?"string"==typeof n?n:n.value:"");return l.localize("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",e.textLabel,i)}return e.textLabel},getWidgetAriaLabel:function(){return l.localize("suggest","Suggest")},getWidgetRole:function(){return"listbox"}}}),this._status=s.createInstance(w.SuggestWidgetStatus,this.element.domNode);var I=function(){return h.element.domNode.classList.toggle("with-status-bar",h.editor.getOption(105).showStatusBar)};I(),this._disposables.add((0,m.attachListStyler)(this._list,a,{listInactiveFocusBackground:F,listInactiveFocusOutline:b.activeContrastBorder})),this._disposables.add(a.onDidColorThemeChange((function(e){return h._onThemeChange(e)}))),this._onThemeChange(a.getColorTheme()),this._disposables.add(this._list.onMouseDown((function(e){return h._onListMouseDownOrTap(e)}))),this._disposables.add(this._list.onTap((function(e){return h._onListMouseDownOrTap(e)}))),this._disposables.add(this._list.onDidChangeSelection((function(e){return h._onListSelection(e)}))),this._disposables.add(this._list.onDidChangeFocus((function(e){return h._onListFocus(e)}))),this._disposables.add(this.editor.onDidChangeCursorSelection((function(){return h._onCursorSelectionChanged()}))),this._disposables.add(this.editor.onDidChangeConfiguration((function(e){e.hasChanged(105)&&(I(),C())}))),this._ctxSuggestWidgetVisible=v.Context.Visible.bindTo(o),this._ctxSuggestWidgetDetailsVisible=v.Context.DetailsVisible.bindTo(o),this._ctxSuggestWidgetMultipleSuggestions=v.Context.MultipleSuggestions.bindTo(o),this._disposables.add(c.addStandardDisposableListener(this._details.widget.domNode,"keydown",(function(e){h._onDetailsKeydown.fire(e)}))),this._disposables.add(this.editor.onMouseDown((function(e){return h._onEditorMouseDown(e)})))}return t(a)(e,[{key:"dispose",value:function(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}},{key:"_onEditorMouseDown",value:function(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}},{key:"_onCursorSelectionChanged",value:function(){0!==this._state&&this._contentWidget.layout()}},{key:"_onListMouseDownOrTap",value:function(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}},{key:"_onListSelection",value:function(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}},{key:"_select",value:function(e,t){var n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}},{key:"_onThemeChange",value:function(e){var t=e.getColor(M);t&&(this.element.domNode.style.backgroundColor=t.toString(),this._messageElement.style.backgroundColor=t.toString(),this._details.widget.domNode.style.backgroundColor=t.toString());var n=e.getColor(T);n&&(this.element.domNode.style.borderColor=n.toString(),this._messageElement.style.borderColor=n.toString(),this._status.element.style.borderTopColor=n.toString(),this._details.widget.domNode.style.borderColor=n.toString(),this._detailsBorderColor=n.toString());var r=e.getColor(b.focusBorder);r&&(this._detailsFocusBorderColor=r.toString()),this._details.widget.borderWidth="hc"===e.type?2:1}},{key:"_onListFocus",value:function(e){var n;if(!this._ignoreFocusEvents){if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(this._completionModel){var r=e.elements[0],i=e.indexes[0];if(r!==this._focusedItem){var o=this;null===(n=this._currentSuggestionDetails)||void 0===n||n.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=r,this._list.reveal(i),this._currentSuggestionDetails=(0,k.createCancelablePromise)((function(e){return A(o,void 0,void 0,t(s).mark((function n(){var i,o,a;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this,o=(0,k.disposableTimeout)((function(){i._isDetailsVisible()&&i.showDetails(!0)}),250),e.onCancellationRequested((function(){return o.dispose()})),t.next=5,r.resolve(e);case 5:return a=t.sent,o.dispose(),t.abrupt("return",a);case 8:case"end":return t.stop()}}),n,this)})))})),this._currentSuggestionDetails.then((function(){i>=o._list.length||r!==o._list.element(i)||(o._ignoreFocusEvents=!0,o._list.splice(i,1,[r]),o._list.setFocus([i]),o._ignoreFocusEvents=!1,o._isDetailsVisible()?o.showDetails(!1):o.element.domNode.classList.remove("docs-side"),o.editor.setAriaOptions({activeDescendant:(0,S.getAriaId)(i)}))})).catch(h.onUnexpectedError)}this._onDidFocus.fire({item:r,index:i,model:this._completionModel})}}}},{key:"_setState",value:function(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:c.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,c.hide(this._listElement,this._status.element),c.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,c.hide(this._listElement,this._status.element),c.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:c.hide(this._messageElement),c.show(this._listElement,this._status.element),this._show();break;case 5:c.hide(this._messageElement),c.show(this._listElement,this._status.element),this._details.show(),this._show()}}},{key:"_show",value:function(){var e=this;this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((function(){e.element.domNode.classList.add("visible"),e._onDidShow.fire(e)}),100)}},{key:"showTriggered",value:function(e,t){var n=this;0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,k.disposableTimeout)((function(){return n._setState(1)}),t)))}},{key:"showSuggestions",value:function(e,t,n,r){var i,o;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(i=this._loadingTimeout)||void 0===i||i.dispose(),null===(o=this._currentSuggestionDetails)||void 0===o||o.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&2!==this._state&&0!==this._state)this._setState(4);else{var a=this._completionModel.items.length,s=0===a;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),s)return this._setState(r?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}}},{key:"selectNextPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}},{key:"selectNext",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}},{key:"selectLast",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}},{key:"selectPreviousPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}},{key:"selectPrevious",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}},{key:"selectFirst",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}},{key:"getFocusedItem",value:function(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}},{key:"toggleDetailsFocus",value:function(){5===this._state?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}},{key:"toggleDetails",value:function(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!(0,x.canExpandCompletionItem)(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}},{key:"showDetails",value:function(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}},{key:"toggleExplainMode",value:function(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}},{key:"resetPersistedSize",value:function(){this._persistedSize.reset()}},{key:"hideWidget",value:function(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();var t=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}},{key:"isFrozen",value:function(){return 4===this._state}},{key:"_afterRender",value:function(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}},{key:"_layout",value:function(e){var t,n,r;if(this.editor.hasModel()&&this.editor.getDomNode()){var i=c.getClientArea(document.body),o=this.getLayoutInfo();e||(e=o.defaultSize);var a=e.height,s=e.width;if(this._status.element.style.lineHeight="".concat(o.itemHeight,"px"),2===this._state||1===this._state)a=o.itemHeight+o.borderHeight,s=o.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new c.Dimension(s,a),this._contentWidget.setPreference(2);else{var l=i.width-o.borderHeight-2*o.horizontalPadding;s>l&&(s=l);var u=this._completionModel?this._completionModel.stats.pLabelLen*o.typicalHalfwidthCharacterWidth:s,d=o.statusBarHeight+this._list.contentHeight+o.borderHeight,h=o.itemHeight+o.statusBarHeight,f=c.getDomNodePagePosition(this.editor.getDomNode()),p=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),g=f.top+p.top+p.height,v=Math.min(i.height-g-o.verticalPadding,d),m=Math.min(f.top+p.top-o.verticalPadding,d),y=Math.min(Math.max(m,v)+o.borderHeight,d);a===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<h&&(a=h),a>y&&(a=y);a>v||this._forceRenderingAbove&&m>100?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),y=m):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),y=v),this.element.preferredSize=new c.Dimension(u,o.defaultSize.height),this.element.maxSize=new c.Dimension(l,y),this.element.minSize=new c.Dimension(220,h),this._cappedHeight=a===d?{wanted:null!==(r=null===(n=this._cappedHeight)||void 0===n?void 0:n.wanted)&&void 0!==r?r:e.height,capped:a}:void 0}this._resize(s,a)}}},{key:"_resize",value:function(e,t){var n=this.element.maxSize,r=n.width,i=n.height;e=Math.min(r,e),t=Math.min(i,t);var o=this.getLayoutInfo().statusBarHeight;this._list.layout(t-o,e),this._listElement.style.height="".concat(t-o,"px"),this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}},{key:"_positionDetails",value:function(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}},{key:"getLayoutInfo",value:function(){var e=this.editor.getOption(41),t=(0,I.clamp)(this.editor.getOption(107)||e.lineHeight,8,1e3),n=this.editor.getOption(105).showStatusBar&&2!==this._state&&1!==this._state?t:0,r=this._details.widget.borderWidth,i=2*r;return{itemHeight:t,statusBarHeight:n,borderWidth:r,borderHeight:i,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new c.Dimension(430,n+12*t+i)}}},{key:"_isDetailsVisible",value:function(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}},{key:"_setDetailsVisible",value:function(e){this._storageService.store("expandSuggestionDocs",e,0,0)}},{key:"forceRenderingAbove",value:function(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}},{key:"stopForceRenderingAbove",value:function(){this._forceRenderingAbove=!1}}]),e}();H.LOADING_MESSAGE=l.localize("suggestWidget.loading","Loading..."),H.NO_SUGGESTIONS_MESSAGE=l.localize("suggestWidget.noSuggestions","No suggestions."),H=R([L(1,_.IStorageService),L(2,g.IContextKeyService),L(3,y.IThemeService),L(4,C.IInstantiationService)],H);var V=function(){"use strict";function e(n,r){t(i)(this,e),this._widget=n,this._editor=r,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}return t(a)(e,[{key:"dispose",value:function(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}},{key:"getId",value:function(){return"editor.widget.suggestWidget"}},{key:"getDomNode",value:function(){return this._widget.element.domNode}},{key:"show",value:function(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}},{key:"hide",value:function(){this._hidden||(this._hidden=!0,this.layout())}},{key:"layout",value:function(){this._editor.layoutContentWidget(this)}},{key:"getPosition",value:function(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}},{key:"beforeRender",value:function(){var e=this._widget.element.size,t=e.height,n=e.width,r=this._widget.getLayoutInfo(),i=r.borderWidth,o=r.horizontalPadding;return new c.Dimension(n+2*i+o,t+2*i)}},{key:"afterRender",value:function(e){this._widget._afterRender(e)}},{key:"setPreference",value:function(e){this._preferenceLocked||(this._preference=e)}},{key:"lockPreference",value:function(){this._preferenceLocked=!0}},{key:"unlockPreference",value:function(){this._preferenceLocked=!1}},{key:"setPosition",value:function(e){this._position=e}}]),e}();(0,y.registerThemingParticipant)((function(e,t){var n=e.getColor(B);n&&t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ".concat(n,"; }"));var r=e.getColor(z);n&&t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ".concat(r,"; }"));var i=e.getColor(N);i&&t.addRule(".monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ".concat(i,"; }"));var o=e.getColor(P);o&&t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ".concat(o,"; }"));var a=e.getColor(O);a&&t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ".concat(a,"; }"));var s=e.getColor(b.textLinkForeground);s&&t.addRule(".monaco-editor .suggest-details a { color: ".concat(s,"; }"));var l=e.getColor(b.textCodeBlockBackground);l&&t.addRule(".monaco-editor .suggest-details code { background-color: ".concat(l,"; }"))}))})),o.register("9x6AH",(function(e,t){var n=o("dKkCN"),r=o("4qRit"),i=o("eZPXr"),a=o("9k9F9"),s=(0,i.registerColor)("symbolIcon.arrayForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,i.registerColor)("symbolIcon.booleanForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,i.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,n.localize)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,i.registerColor)("symbolIcon.colorForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,i.registerColor)("symbolIcon.constantForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h=(0,i.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,n.localize)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,i.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,n.localize)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,i.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,n.localize)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,i.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,n.localize)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,i.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,n.localize)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,i.registerColor)("symbolIcon.fileForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,i.registerColor)("symbolIcon.folderForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,i.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,n.localize)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,i.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,n.localize)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,i.registerColor)("symbolIcon.keyForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,i.registerColor)("symbolIcon.keywordForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,i.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,n.localize)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,i.registerColor)("symbolIcon.moduleForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,i.registerColor)("symbolIcon.namespaceForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,i.registerColor)("symbolIcon.nullForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,i.registerColor)("symbolIcon.numberForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,i.registerColor)("symbolIcon.objectForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,i.registerColor)("symbolIcon.operatorForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,i.registerColor)("symbolIcon.packageForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,i.registerColor)("symbolIcon.propertyForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,i.registerColor)("symbolIcon.referenceForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,i.registerColor)("symbolIcon.snippetForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,i.registerColor)("symbolIcon.stringForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,i.registerColor)("symbolIcon.structForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,i.registerColor)("symbolIcon.textForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,i.registerColor)("symbolIcon.typeParameterForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,i.registerColor)("symbolIcon.unitForeground",{dark:i.foreground,light:i.foreground,hc:i.foreground},(0,n.localize)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,i.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,n.localize)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,r.registerThemingParticipant)((function(e,t){var n=e.getColor(s);n&&t.addRule("".concat(a.Codicon.symbolArray.cssSelector," { color: ").concat(n,"; }"));var r=e.getColor(l);r&&t.addRule("".concat(a.Codicon.symbolBoolean.cssSelector," { color: ").concat(r,"; }"));var i=e.getColor(u);i&&t.addRule("".concat(a.Codicon.symbolClass.cssSelector," { color: ").concat(i,"; }"));var o=e.getColor(x);o&&t.addRule("".concat(a.Codicon.symbolMethod.cssSelector," { color: ").concat(o,"; }"));var W=e.getColor(c);W&&t.addRule("".concat(a.Codicon.symbolColor.cssSelector," { color: ").concat(W,"; }"));var H=e.getColor(d);H&&t.addRule("".concat(a.Codicon.symbolConstant.cssSelector," { color: ").concat(H,"; }"));var V=e.getColor(h);V&&t.addRule("".concat(a.Codicon.symbolConstructor.cssSelector," { color: ").concat(V,"; }"));var j=e.getColor(f);j&&t.addRule("\n\t\t\t".concat(a.Codicon.symbolValue.cssSelector,",").concat(a.Codicon.symbolEnum.cssSelector," { color: ").concat(j,"; }"));var K=e.getColor(p);K&&t.addRule("".concat(a.Codicon.symbolEnumMember.cssSelector," { color: ").concat(K,"; }"));var U=e.getColor(g);U&&t.addRule("".concat(a.Codicon.symbolEvent.cssSelector," { color: ").concat(U,"; }"));var q=e.getColor(v);q&&t.addRule("".concat(a.Codicon.symbolField.cssSelector," { color: ").concat(q,"; }"));var Z=e.getColor(m);Z&&t.addRule("".concat(a.Codicon.symbolFile.cssSelector," { color: ").concat(Z,"; }"));var G=e.getColor(y);G&&t.addRule("".concat(a.Codicon.symbolFolder.cssSelector," { color: ").concat(G,"; }"));var Q=e.getColor(b);Q&&t.addRule("".concat(a.Codicon.symbolFunction.cssSelector," { color: ").concat(Q,"; }"));var J=e.getColor(_);J&&t.addRule("".concat(a.Codicon.symbolInterface.cssSelector," { color: ").concat(J,"; }"));var Y=e.getColor(k);Y&&t.addRule("".concat(a.Codicon.symbolKey.cssSelector," { color: ").concat(Y,"; }"));var X=e.getColor(C);X&&t.addRule("".concat(a.Codicon.symbolKeyword.cssSelector," { color: ").concat(X,"; }"));var $=e.getColor(w);$&&t.addRule("".concat(a.Codicon.symbolModule.cssSelector," { color: ").concat($,"; }"));var ee=e.getColor(S);ee&&t.addRule("".concat(a.Codicon.symbolNamespace.cssSelector," { color: ").concat(ee,"; }"));var te=e.getColor(E);te&&t.addRule("".concat(a.Codicon.symbolNull.cssSelector," { color: ").concat(te,"; }"));var ne=e.getColor(D);ne&&t.addRule("".concat(a.Codicon.symbolNumber.cssSelector," { color: ").concat(ne,"; }"));var re=e.getColor(I);re&&t.addRule("".concat(a.Codicon.symbolObject.cssSelector," { color: ").concat(re,"; }"));var ie=e.getColor(R);ie&&t.addRule("".concat(a.Codicon.symbolOperator.cssSelector," { color: ").concat(ie,"; }"));var oe=e.getColor(L);oe&&t.addRule("".concat(a.Codicon.symbolPackage.cssSelector," { color: ").concat(oe,"; }"));var ae=e.getColor(A);ae&&t.addRule("".concat(a.Codicon.symbolProperty.cssSelector," { color: ").concat(ae,"; }"));var se=e.getColor(M);se&&t.addRule("".concat(a.Codicon.symbolReference.cssSelector," { color: ").concat(se,"; }"));var le=e.getColor(T);le&&t.addRule("".concat(a.Codicon.symbolSnippet.cssSelector," { color: ").concat(le,"; }"));var ue=e.getColor(N);ue&&t.addRule("".concat(a.Codicon.symbolString.cssSelector," { color: ").concat(ue,"; }"));var ce=e.getColor(P);ce&&t.addRule("".concat(a.Codicon.symbolStruct.cssSelector," { color: ").concat(ce,"; }"));var de=e.getColor(O);de&&t.addRule("".concat(a.Codicon.symbolText.cssSelector," { color: ").concat(de,"; }"));var he=e.getColor(F);he&&t.addRule("".concat(a.Codicon.symbolTypeParameter.cssSelector," { color: ").concat(he,"; }"));var fe=e.getColor(B);fe&&t.addRule("".concat(a.Codicon.symbolUnit.cssSelector," { color: ").concat(fe,"; }"));var pe=e.getColor(z);pe&&t.addRule("".concat(a.Codicon.symbolVariable.cssSelector," { color: ").concat(pe,"; }"))}))})),o.register("aUs13",(function(n,r){e(n.exports,"canExpandCompletionItem",(function(){return b}),(function(e){return b=e})),e(n.exports,"SuggestDetailsWidget",(function(){return _}),(function(e){return _=e})),e(n.exports,"SuggestDetailsOverlay",(function(){return k}),(function(e){return k=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("dKkCN"),l=o("glSIC"),u=o("i3Iko"),c=o("jXMBk"),d=o("7iTRb"),h=o("2Y8KV"),f=o("9k9F9"),p=o("4YObi"),g=o("1NRfx"),v=o("e1Jmh"),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}};function b(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}var _=function(){"use strict";function e(n,r){var o=this;t(i)(this,e),this._editor=n,this._onDidClose=new(0,p.Emitter),this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new(0,p.Emitter),this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new(0,l.DisposableStore),this._renderDisposeable=new(0,l.DisposableStore),this._borderWidth=1,this._size=new u.Dimension(330,0),this.domNode=u.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=r.createInstance(d.MarkdownRenderer,{editor:n}),this._body=u.$(".body"),this._scrollbar=new(0,c.DomScrollableElement)(this._body,{}),u.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=u.append(this._body,u.$(".header")),this._close=u.append(this._header,u.$("span"+f.Codicon.close.cssSelector)),this._close.title=s.localize("details.close","Close"),this._type=u.append(this._header,u.$("p.type")),this._docs=u.append(this._body,u.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(41)&&o._configureFont()})))}return t(a)(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._renderDisposeable.dispose()}},{key:"_configureFont",value:function(){var e=this._editor.getOptions(),t=e.get(41),n=t.fontFamily,r=e.get(106)||t.fontSize,i=e.get(107)||t.lineHeight,o=t.fontWeight,a="".concat(r,"px"),s="".concat(i,"px");this.domNode.style.fontSize=a,this.domNode.style.lineHeight=s,this.domNode.style.fontWeight=o,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=s,this._close.style.width=s}},{key:"getLayoutInfo",value:function(){var e=this._editor.getOption(107)||this._editor.getOption(41).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}},{key:"renderLoading",value:function(){this._type.textContent=s.localize("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}},{key:"renderItem",value:function(e,t){var n,r,i=this;this._renderDisposeable.clear();var o=e.completion,a=o.detail,s=o.documentation;if(t){var l="";l+="score: ".concat(e.score[0],"\n"),l+="prefix: ".concat(null!==(n=e.word)&&void 0!==n?n:"(no prefix)","\n"),l+="word: ".concat(e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel,"\n"),l+="distance: ".concat(e.distance," (localityBonus-setting)\n"),l+="index: ".concat(e.idx,", based on ").concat(e.completion.sortText&&'sortText: "'.concat(e.completion.sortText,'"')||"label","\n"),l+="commit_chars: ".concat(null===(r=e.completion.commitCharacters)||void 0===r?void 0:r.join(""),"\n"),s=(new(0,h.MarkdownString)).appendCodeblock("empty",l),a="Provider: ".concat(e.provider._debugDisplayName)}if(t||b(e)){if(this.domNode.classList.remove("no-docs","no-type"),a){var c=a.length>1e5?"".concat(a.substr(0,1e5),"…"):a;this._type.textContent=c,this._type.title=c,u.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(c))}else u.clearNode(this._type),this._type.title="",u.hide(this._type),this.domNode.classList.add("no-type");if(u.clearNode(this._docs),"string"==typeof s)this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){var d=this;this._docs.classList.add("markdown-docs"),u.clearNode(this._docs);var f=this._markdownRenderer.render(s);this._docs.appendChild(f.element),this._renderDisposeable.add(f),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((function(){d.layout(d._size.width,d._type.clientHeight+d._docs.clientHeight),d._onDidChangeContents.fire(d)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this._close.onclick=function(e){e.preventDefault(),e.stopPropagation(),i._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}},{key:"clearContents",value:function(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}},{key:"size",get:function(){return this._size}},{key:"layout",value:function(e,t){var n=new u.Dimension(e,t);u.Dimension.equals(n,this._size)||(this._size=n,u.size(this.domNode,e,t)),this._scrollbar.scanDomNode()}},{key:"scrollDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;this._body.scrollTop+=e}},{key:"scrollUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;this._body.scrollTop-=e}},{key:"scrollTop",value:function(){this._body.scrollTop=0}},{key:"scrollBottom",value:function(){this._body.scrollTop=this._body.scrollHeight}},{key:"pageDown",value:function(){this.scrollDown(80)}},{key:"pageUp",value:function(){this.scrollUp(80)}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e}}]),e}();_=m([y(1,v.IInstantiationService)],_);var k=function(){"use strict";function e(n,r){var o,a,s=this;t(i)(this,e),this.widget=n,this._editor=r,this._disposables=new(0,l.DisposableStore),this._added=!1,this._resizable=new(0,g.ResizableHTMLElement),this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(n.domNode),this._resizable.enableSashes(!1,!0,!0,!1);var u=0,c=0;this._disposables.add(this._resizable.onDidWillResize((function(){o=s._topLeft,a=s._resizable.size}))),this._disposables.add(this._resizable.onDidResize((function(e){if(o&&a){s.widget.layout(e.dimension.width,e.dimension.height);var t=!1;e.west&&(c=a.width-e.dimension.width,t=!0),e.north&&(u=a.height-e.dimension.height,t=!0),t&&s._applyTopLeft({top:o.top+u,left:o.left+c})}e.done&&(o=void 0,a=void 0,u=0,c=0,s._userSize=e.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((function(){var e;s._anchorBox&&s._placeAtAnchor(s._anchorBox,null!==(e=s._userSize)&&void 0!==e?e:s.widget.size)})))}return t(a)(e,[{key:"dispose",value:function(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}},{key:"getId",value:function(){return"suggest.details"}},{key:"getDomNode",value:function(){return this._resizable.domNode}},{key:"getPosition",value:function(){return null}},{key:"show",value:function(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}},{key:"placeAtAnchor",value:function(e){var t,n=u.getDomNodePagePosition(e);this._anchorBox=n,this._placeAtAnchor(this._anchorBox,null!==(t=this._userSize)&&void 0!==t?t:this.widget.size)}},{key:"_placeAtAnchor",value:function(e,t){var n,r,i,o,a=u.getClientArea(document.body),s=this.widget.getLayoutInfo(),l=new u.Dimension(220,2*s.lineHeight),c=0,d=e.top,h=e.top+e.height-s.borderHeight,f=a.width-(e.left+e.width+s.borderWidth+s.horizontalPadding);c=-s.borderWidth+e.left+e.width,o=!0,r=(n=new u.Dimension(f,a.height-e.top-s.borderHeight-s.verticalPadding)).with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding),t.width>f&&(e.left>f&&(f=e.left-s.borderWidth-s.horizontalPadding,o=!1,c=Math.max(s.horizontalPadding,e.left-t.width-s.borderWidth),r=(n=n.with(f)).with(void 0,r.height)),e.width>1.3*f&&a.height-(e.top+e.height)>e.height&&(f=e.width,c=e.left,d=-s.borderWidth+e.top+e.height,r=(n=new u.Dimension(e.width-s.borderHeight,a.height-e.top-e.height-s.verticalPadding)).with(void 0,e.top-s.verticalPadding),l=l.with(n.width)));var p,g=t.height,v=Math.max(n.height,r.height);g>v&&(g=v),g<=n.height?(i=!0,p=n):(i=!1,p=r),this._applyTopLeft({left:c,top:i?d:h-g}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!i,o,i,!o),this._resizable.minSize=l,this._resizable.maxSize=p,this._resizable.layout(g,Math.min(p.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}},{key:"_applyTopLeft",value:function(e){this._topLeft=e,this.getDomNode().style.left="".concat(this._topLeft.left,"px"),this.getDomNode().style.top="".concat(this._topLeft.top,"px")}}]),e}()})),o.register("1NRfx",(function(n,r){e(n.exports,"ResizableHTMLElement",(function(){return d}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("4YObi"),l=o("glSIC"),u=o("i3Iko"),c=o("2XCLZ"),d=function(){"use strict";function e(){var n,r=this;t(i)(this,e),this._onDidWillResize=new(0,s.Emitter),this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new(0,s.Emitter),this.onDidResize=this._onDidResize.event,this._sashListener=new(0,l.DisposableStore),this._size=new(0,u.Dimension)(0,0),this._minSize=new(0,u.Dimension)(0,0),this._maxSize=new(0,u.Dimension)(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new(0,c.Sash)(this.domNode,{getVerticalSashLeft:function(){return r._size.width}},{orientation:0}),this._westSash=new(0,c.Sash)(this.domNode,{getVerticalSashLeft:function(){return 0}},{orientation:0}),this._northSash=new(0,c.Sash)(this.domNode,{getHorizontalSashTop:function(){return 0}},{orientation:1,orthogonalEdge:c.OrthogonalEdge.North}),this._southSash=new(0,c.Sash)(this.domNode,{getHorizontalSashTop:function(){return r._size.height}},{orientation:1,orthogonalEdge:c.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;var o=0,a=0;this._sashListener.add(s.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((function(){void 0===n&&(r._onDidWillResize.fire(),n=r._size,o=0,a=0)}))),this._sashListener.add(s.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((function(){void 0!==n&&(n=void 0,o=0,a=0,r._onDidResize.fire({dimension:r._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((function(e){n&&(a=e.currentX-e.startX,r.layout(n.height+o,n.width+a),r._onDidResize.fire({dimension:r._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((function(e){n&&(a=-(e.currentX-e.startX),r.layout(n.height+o,n.width+a),r._onDidResize.fire({dimension:r._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((function(e){n&&(o=-(e.currentY-e.startY),r.layout(n.height+o,n.width+a),r._onDidResize.fire({dimension:r._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((function(e){n&&(o=e.currentY-e.startY,r.layout(n.height+o,n.width+a),r._onDidResize.fire({dimension:r._size,done:!1,south:!0}))}))),this._sashListener.add(s.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)((function(e){r._preferredSize&&(r.layout(r._size.height,r._preferredSize.width),r._onDidResize.fire({dimension:r._size,done:!0}))}))),this._sashListener.add(s.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)((function(e){r._preferredSize&&(r.layout(r._preferredSize.height,r._size.width),r._onDidResize.fire({dimension:r._size,done:!0}))})))}return t(a)(e,[{key:"dispose",value:function(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}},{key:"enableSashes",value:function(e,t,n,r){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=r?3:0}},{key:"layout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size.height,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size.width,n=this._minSize,r=n.height,i=n.width,o=this._maxSize,a=o.height,s=o.width;e=Math.max(r,Math.min(a,e)),t=Math.max(i,Math.min(s,t));var l=new(0,u.Dimension)(t,e);u.Dimension.equals(l,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=l,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}},{key:"clearSashHoverState",value:function(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=e}},{key:"minSize",get:function(){return this._minSize},set:function(e){this._minSize=e}},{key:"preferredSize",get:function(){return this._preferredSize},set:function(e){this._preferredSize=e}}]),e}()})),o.register("15Sxi",(function(n,r){e(n.exports,"SuggestWidgetStatus",(function(){return S}),(function(e){return S=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("56Cfp"),d=o("hFMTy"),h=o("aV5UR"),f=o("i3Iko"),p=o("bV6e3"),g=o("glSIC"),v=o("hkUNz"),m=o("dKkCN"),y=o("gYNxV"),b=o("lvhYu"),_=o("6x2MV"),k=o("e1Jmh"),C=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},x=function(e,t){return function(n,r){t(n,r,e)}},w=function(e){"use strict";t(u)(r,e);var n=t(h)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"updateLabel",value:function(){var e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return t(s)(t(l)(r.prototype),"updateLabel",this).call(this);this.label&&(this.label.textContent=(0,m.localize)("ddd","{0} ({1})",this._action.label,r.symbolPrintEnter(e)))}}],[{key:"symbolPrintEnter",value:function(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"⏎")}}]),r}(y.MenuEntryActionViewItem),S=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this._menuService=o,this._contextKeyService=a,this._menuDisposables=new(0,g.DisposableStore),this.element=f.append(n,f.$(".suggest-status-bar"));var s=function(e){return e instanceof b.MenuItemAction?r.createInstance(w,e,void 0):void 0};this._leftActions=new(0,p.ActionBar)(this.element,{actionViewItemProvider:s}),this._rightActions=new(0,p.ActionBar)(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}return t(a)(e,[{key:"dispose",value:function(){this._menuDisposables.dispose(),this.element.remove()}},{key:"show",value:function(){var e=this,n=this._menuService.createMenu(v.suggestWidgetStatusbarMenu,this._contextKeyService);this._menuDisposables.add(n.onDidChange((function(){return function(){var r,i,o=[],a=[],s=!0,l=!1,u=void 0;try{for(var h,f=n.getActions()[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var p=t(c)(h.value,2),g=p[0],v=p[1];"left"===g?(r=o).push.apply(r,t(d)(v)):(i=a).push.apply(i,t(d)(v))}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}e._leftActions.clear(),e._leftActions.push(o),e._rightActions.clear(),e._rightActions.push(a)}()}))),this._menuDisposables.add(n)}},{key:"hide",value:function(){this._menuDisposables.clear()}}]),e}();S=C([x(1,k.IInstantiationService),x(2,b.IMenuService),x(3,_.IContextKeyService)],S)})),o.register("fD606",(function(n,r){e(n.exports,"getAriaId",(function(){return D}),(function(e){return D=e})),e(n.exports,"ItemRenderer",(function(){return L}),(function(e){return L=e}));var i,a=o("fZTNQ"),s=o("j7KTJ"),l=o("hFMTy"),u=o("dKkCN"),c=o("hBaq0"),d=o("glSIC"),h=o("i3Iko"),f=o("4qRit"),p=o("4eQyS"),g=o("aQzpN"),v=o("9jdvr"),m=o("fH0SB"),y=o("8nQ63"),b=o("bErzw"),_=o("lSVNl"),k=o("ddsHh"),C=o("aUs13"),x=o("9k9F9"),w=o("4YObi"),S=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,r){t(n,r,e)}};function D(e){return"suggest-aria-id:".concat(e)}var I=(0,o("4boq2").registerIcon)("suggest-more-info",x.Codicon.chevronRight,u.localize("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),R=new((i=function(){"use strict";function e(){t(a)(this,e)}return t(s)(e,[{key:"extract",value:function(t,n){if(t.textLabel.match(e._regexStrict))return n[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return n[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){var r=e._regexRelaxed.exec(t.completion.documentation);if(r&&(0===r.index||r.index+r[0].length===t.completion.documentation.length))return n[0]=r[0],!0}return!1}}]),e}())._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,i._regexStrict=new RegExp("^".concat(i._regexRelaxed.source,"$"),"i"),i),L=function(){"use strict";function e(n,r,i,o){t(a)(this,e),this._editor=n,this._modelService=r,this._modeService=i,this._themeService=o,this._onDidToggleDetails=new(0,w.Emitter),this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}return t(s)(e,[{key:"dispose",value:function(){this._onDidToggleDetails.dispose()}},{key:"renderTemplate",value:function(e){var t=this,n=Object.create(null);n.disposables=new(0,d.DisposableStore),n.root=e,n.root.classList.add("show-file-icons"),n.icon=(0,h.append)(e,(0,h.$)(".icon")),n.colorspan=(0,h.append)(n.icon,(0,h.$)("span.colorspan"));var r=(0,h.append)(e,(0,h.$)(".contents")),i=(0,h.append)(r,(0,h.$)(".main"));n.iconContainer=(0,h.append)(i,(0,h.$)(".icon-label.codicon")),n.left=(0,h.append)(i,(0,h.$)("span.left")),n.right=(0,h.append)(i,(0,h.$)("span.right")),n.iconLabel=new(0,v.IconLabel)(n.left,{supportHighlights:!0,supportIcons:!0}),n.disposables.add(n.iconLabel),n.parametersLabel=(0,h.append)(n.left,(0,h.$)("span.signature-label")),n.qualifierLabel=(0,h.append)(n.left,(0,h.$)("span.qualifier-label")),n.detailsLabel=(0,h.append)(n.right,(0,h.$)("span.details-label")),n.readMore=(0,h.append)(n.right,(0,h.$)("span.readMore"+f.ThemeIcon.asCSSSelector(I))),n.readMore.title=u.localize("readMore","Read More");var o=function(){var e=t._editor.getOptions(),r=e.get(41),o=r.fontFamily,a=r.fontFeatureSettings,s=e.get(106)||r.fontSize,l=e.get(107)||r.lineHeight,u=r.fontWeight,c="".concat(s,"px"),d="".concat(l,"px");n.root.style.fontSize=c,n.root.style.fontWeight=u,i.style.fontFamily=o,i.style.fontFeatureSettings=a,i.style.lineHeight=d,n.icon.style.height=d,n.icon.style.width=d,n.readMore.style.height=d,n.readMore.style.width=d};return o(),n.disposables.add(this._editor.onDidChangeConfiguration((function(e){(e.hasChanged(41)||e.hasChanged(106)||e.hasChanged(107))&&o()}))),n}},{key:"renderElement",value:function(e,n,r){var i=e.completion;r.root.id=D(n),r.colorspan.style.backgroundColor="";var o={labelEscapeNewLines:!0,matches:(0,c.createMatches)(e.score)},a=[];if(19===i.kind&&R.extract(e,a))r.icon.className="icon customcolor",r.iconContainer.className="icon hide",r.colorspan.style.backgroundColor=a[0];else if(20===i.kind&&this._themeService.getFileIconTheme().hasFileIcons){r.icon.className="icon hide",r.iconContainer.className="icon hide";var s=(0,m.getIconClasses)(this._modelService,this._modeService,b.URI.from({scheme:"fake",path:e.textLabel}),_.FileKind.FILE),u=(0,m.getIconClasses)(this._modelService,this._modeService,b.URI.from({scheme:"fake",path:i.detail}),_.FileKind.FILE);o.extraClasses=s.length>u.length?s:u}else if(23===i.kind&&this._themeService.getFileIconTheme().hasFolderIcons)r.icon.className="icon hide",r.iconContainer.className="icon hide",o.extraClasses=(0,k.flatten)([(0,m.getIconClasses)(this._modelService,this._modeService,b.URI.from({scheme:"fake",path:e.textLabel}),_.FileKind.FOLDER),(0,m.getIconClasses)(this._modelService,this._modeService,b.URI.from({scheme:"fake",path:i.detail}),_.FileKind.FOLDER)]);else{var d;r.icon.className="icon hide",r.iconContainer.className="",(d=r.iconContainer.classList).add.apply(d,["suggest-icon"].concat(t(l)((0,g.completionKindToCssClass)(i.kind).split(" "))))}if(i.tags&&i.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),r.iconLabel.setLabel(e.textLabel,void 0,o),"string"==typeof i.label?(r.parametersLabel.textContent="",r.detailsLabel.textContent=A(i.detail||""),r.root.classList.add("string-label")):(r.parametersLabel.textContent=A(i.label.detail||""),r.detailsLabel.textContent=A(i.label.description||""),r.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,h.show)(r.detailsLabel):(0,h.hide)(r.detailsLabel),(0,C.canExpandCompletionItem)(e)){var f=this;r.right.classList.add("can-expand-details"),(0,h.show)(r.readMore),r.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},r.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),f._onDidToggleDetails.fire()}}else r.right.classList.remove("can-expand-details"),(0,h.hide)(r.readMore),r.readMore.onmousedown=null,r.readMore.onclick=null}},{key:"disposeTemplate",value:function(e){e.disposables.dispose()}}]),e}();function A(e){return e.replace(/\r\n|\r|\n/g,"")}L=S([E(1,y.IModelService),E(2,p.IModeService),E(3,f.IThemeService)],L)})),o.register("fH0SB",(function(t,n){e(t.exports,"getIconClasses",(function(){return l}));var r=o("98cBO"),i=o("5Z1yh"),a=o("65I0K"),s=o("lSVNl");function l(e,t,n,o){var l=o===s.FileKind.ROOT_FOLDER?["rootfolder-icon"]:o===s.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(n){var c;if(n.scheme===r.Schemas.data)c=i.DataUri.parseMetaData(n).get(i.DataUri.META_DATA_LABEL);else c=u((0,i.basenameOrAuthority)(n).toLowerCase());if(o===s.FileKind.FOLDER)l.push("".concat(c,"-name-folder-icon"));else{if(c){if(l.push("".concat(c,"-name-file-icon")),c.length<=255)for(var d=c.split("."),h=1;h<d.length;h++)l.push("".concat(d.slice(h).join("."),"-ext-file-icon"));l.push("ext-file-icon")}var f=function(e,t,n){if(!n)return null;var o=null;if(n.scheme===r.Schemas.data){var s=i.DataUri.parseMetaData(n).get(i.DataUri.META_DATA_MIME);s&&(o=t.getModeId(s))}else{var l=e.getModel(n);l&&(o=l.getModeId())}return o&&o!==a.PLAINTEXT_MODE_ID?o:t.getModeIdByFilepathOrFirstLine(n)}(e,t,n);f&&l.push("".concat(u(f),"-lang-file-icon"))}}return l}function u(e){return e.replace(/[\11\12\14\15\40]/g,"/")}})),o.register("lSVNl",(function(t,n){var r,i;e(t.exports,"FileKind",(function(){return r})),(i=r||(r={}))[i.FILE=0]="FILE",i[i.FOLDER=1]="FOLDER",i[i.ROOT_FOLDER=2]="ROOT_FOLDER"})),o.register("cgcB1",(function(n,r){e(n.exports,"WordContextKey",(function(){return c}),(function(e){return c=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("6x2MV"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=function(e,t){return function(n,r){t(n,r,e)}},c=function(){"use strict";function e(n,r){var o=this;t(i)(this,e),this._editor=n,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(r),this._configListener=this._editor.onDidChangeConfiguration((function(e){return e.hasChanged(110)&&o._update()})),this._update()}return t(a)(e,[{key:"dispose",value:function(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}},{key:"_update",value:function(){var e="on"===this._editor.getOption(110);if(this._enabled!==e)if(this._enabled=e,this._enabled){var t=this,n=function(){if(t._editor.hasModel()){var e=t._editor.getModel(),n=t._editor.getSelection(),r=e.getWordAtPosition(n.getStartPosition());r?t._ckAtEnd.set(r.endColumn===n.getStartPosition().column):t._ckAtEnd.set(!1)}else t._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(n),n()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}}]),e}();c.AtEnd=new(0,s.RawContextKey)("atEndOfWord",!1),c=l([u(1,s.IContextKeyService)],c)})),o.register("6UkJB",(function(n,r){e(n.exports,"CommitCharacterController",(function(){return c}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("ddsHh"),l=o("glSIC"),u=o("8ewkN"),c=function(){"use strict";function e(n,r,o){var a=this;t(i)(this,e),this._disposables=new(0,l.DisposableStore),this._disposables.add(r.onDidShow((function(){return a._onItem(r.getFocusedItem())}))),this._disposables.add(r.onDidFocus(this._onItem,this)),this._disposables.add(r.onDidHide(this.reset,this)),this._disposables.add(n.onWillType((function(e){if(a._active&&!r.isFrozen()){var t=e.charCodeAt(e.length-1);a._active.acceptCharacters.has(t)&&n.getOption(0)&&o(a._active.item)}})))}return t(a)(e,[{key:"_onItem",value:function(e){if(e&&(0,s.isNonEmptyArray)(e.item.completion.commitCharacters)){if(!this._active||this._active.item.item!==e.item){var t=new(0,u.CharacterSet),n=!0,r=!1,i=void 0;try{for(var o,a=e.item.completion.commitCharacters[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.length>0&&t.add(l.charCodeAt(0))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._active={acceptCharacters:t,item:e}}}else this.reset()}},{key:"reset",value:function(){this._active=void 0}},{key:"dispose",value:function(){this._disposables.dispose()}}]),e}()})),o.register("17ev3",(function(n,r){e(n.exports,"OvertypingCapturer",(function(){return l}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("glSIC"),l=function(){"use strict";function e(n,r){var o=this;t(i)(this,e),this._disposables=new(0,s.DisposableStore),this._lastOvertyped=[],this._empty=!0,this._disposables.add(n.onWillType((function(){if(o._empty&&n.hasModel()){for(var t=n.getSelections(),r=t.length,i=!1,a=0;a<r;a++)if(!t[a].isEmpty()){i=!0;break}if(i){o._lastOvertyped=[];for(var s=n.getModel(),l=0;l<r;l++){var u=t[l];if(s.getValueLengthInRange(u)>e._maxSelectionLength)return;o._lastOvertyped[l]={value:s.getValueInRange(u),multiline:u.startLineNumber!==u.endLineNumber}}o._empty=!1}}}))),this._disposables.add(r.onDidCancel((function(e){o._empty||e.retrigger||(o._empty=!0)})))}return t(a)(e,[{key:"getLastOvertypedInfo",value:function(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}},{key:"dispose",value:function(){this._disposables.dispose()}}]),e}();l._maxSelectionLength=51200})),o.register("7M4f1",(function(t,n){function r(e,t){return{object:e,dispose:function(){return null==t?void 0:t.dispose()}}}e(t.exports,"createDisposableRef",(function(){return r}))})),o.register("5QBOC",(function(n,r){e(n.exports,"ColorHoverParticipant",(function(){return C}),(function(e){return C=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hFMTy"),l=o("4GLgu"),u=o("glSIC"),c=o("Og1nm"),d=o("7C9Vb"),h=o("jfPgk"),f=o("72MC1"),p=o("3bv5f"),g=o("hDHwG"),v=o("lvz6Y"),m=o("4qRit"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,r){t(n,r,e)}},_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},k=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this.owner=n,this.range=r,this.model=o,this.provider=a,this.forceShowAtRange=!0}return t(a)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),C=function(){"use strict";function e(n,r,o){t(i)(this,e),this._editor=n,this._hover=r,this._themeService=o}return t(a)(e,[{key:"computeSync",value:function(e,t){return[]}},{key:"computeAsync",value:function(e,n,r){return _(this,void 0,void 0,t(l).mark((function e(){var r,i,o,a,s,u,c,d,h;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._editor.hasModel()){e.next=2;break}return e.abrupt("return",[]);case 2:r=f.ColorDetector.get(this._editor),i=!0,o=!1,a=void 0,e.prev=4,s=n[Symbol.iterator]();case 6:if(i=(u=s.next()).done){e.next=17;break}if(c=u.value,!(d=r.getColorData(c.range.getStartPosition()))){e.next=14;break}return e.next=12,this._createColorHover(this._editor.getModel(),d.colorInfo,d.provider);case 12:return h=e.sent,e.abrupt("return",[h]);case 14:i=!0,e.next=6;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),o=!0,a=e.t0;case 23:e.prev=23,e.prev=24,i||null==s.return||s.return();case 26:if(e.prev=26,!o){e.next=29;break}throw a;case 29:return e.finish(26);case 30:return e.finish(23);case 31:return e.abrupt("return",[]);case 32:case"end":return e.stop()}}),e,this,[[4,19,23,31],[24,,26,30]])})))}},{key:"_createColorHover",value:function(e,n,r){return _(this,void 0,void 0,t(l).mark((function i(){var o,a,s,u,f,v,m,y,b,_;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getValueInRange(n.range),a=n.color,s=a.red,u=a.green,f=a.blue,v=a.alpha,m=new(0,p.RGBA)(Math.round(255*s),Math.round(255*u),Math.round(255*f),v),y=new(0,p.Color)(m),t.next=6,(0,h.getColorPresentations)(e,n,r,d.CancellationToken.None);case 6:return b=t.sent,(_=new(0,g.ColorPickerModel)(y,[],0)).colorPresentations=b||[],_.guessColorPresentation(y,o),t.abrupt("return",new k(this,c.Range.lift(n.range),_,r));case 11:case"end":return t.stop()}}),i,this)})))}},{key:"renderHoverParts",value:function(e,n,r){var i=this;if(0===e.length||!this._editor.hasModel())return u.Disposable.None;var o=new(0,u.DisposableStore),a=e[0],l=this._editor.getModel(),f=a.model,p=o.add(new(0,v.ColorPickerWidget)(n,f,this._editor.getOption(127),this._themeService)),g=new(0,c.Range)(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn),m=function(){var e,n;if(f.presentation.textEdit){e=[f.presentation.textEdit],n=new(0,c.Range)(f.presentation.textEdit.range.startLineNumber,f.presentation.textEdit.range.startColumn,f.presentation.textEdit.range.endLineNumber,f.presentation.textEdit.range.endColumn);var r=i._editor.getModel()._setTrackedRange(null,n,3);i._editor.pushUndoStop(),i._editor.executeEdits("colorpicker",e),n=i._editor.getModel()._getTrackedRange(r)||n}else e=[{identifier:null,range:g,text:f.presentation.label,forceMoveMarkers:!1}],n=g.setEndPosition(g.endLineNumber,g.startColumn+f.presentation.label.length),i._editor.pushUndoStop(),i._editor.executeEdits("colorpicker",e);f.presentation.additionalTextEdits&&(e=t(s)(f.presentation.additionalTextEdits),i._editor.executeEdits("colorpicker",e),i._hover.hide()),i._editor.pushUndoStop(),g=n},y=function(e){return(0,h.getColorPresentations)(l,{range:g,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},a.provider,d.CancellationToken.None).then((function(e){f.colorPresentations=e||[]}))};return o.add(f.onColorFlushed((function(e){y(e).then(m)}))),o.add(f.onDidChangeColor(y)),this._hover.setColorPicker(p),o}}]),e}();C=y([b(2,m.IThemeService)],C)})),o.register("hDHwG",(function(n,r){e(n.exports,"ColorPickerModel",(function(){return l}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("4YObi"),l=function(){"use strict";function e(n,r,o){t(i)(this,e),this.presentationIndex=o,this._onColorFlushed=new(0,s.Emitter),this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new(0,s.Emitter),this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new(0,s.Emitter),this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=n,this._color=n,this._colorPresentations=r}return t(a)(e,[{key:"color",get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}},{key:"presentation",get:function(){return this.colorPresentations[this.presentationIndex]}},{key:"colorPresentations",get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}},{key:"selectNextColorPresentation",value:function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}},{key:"guessColorPresentation",value:function(e,t){for(var n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}},{key:"flushColor",value:function(){this._onColorFlushed.fire(this._color)}}]),e}()})),o.register("lvz6Y",(function(n,r){e(n.exports,"ColorPickerWidget",(function(){return E}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("hgtn2"),u=o("aV5UR"),c=o("iHzs9"),d=o("i3Iko"),h=o("6EYP0"),f=o("2lK1h"),p=o("3bv5f"),g=o("4YObi"),v=o("glSIC"),m=o("eZPXr"),y=o("4qRit"),b=d.$,_=function(e){"use strict";t(l)(r,e);var n=t(u)(r);function r(e,o,s){var l;t(a)(this,r),(l=n.call(this)).model=o,l.domNode=b(".colorpicker-header"),d.append(e,l.domNode),l.pickedColorNode=d.append(l.domNode,b(".picked-color"));var u=d.append(l.domNode,b(".original-color"));return u.style.backgroundColor=p.Color.Format.CSS.format(l.model.originalColor)||"",l.backgroundColor=s.getColorTheme().getColor(m.editorHoverBackground)||p.Color.white,l._register((0,y.registerThemingParticipant)((function(e,t){l.backgroundColor=e.getColor(m.editorHoverBackground)||p.Color.white}))),l._register(d.addDisposableListener(l.pickedColorNode,d.EventType.CLICK,(function(){return l.model.selectNextColorPresentation()}))),l._register(d.addDisposableListener(u,d.EventType.CLICK,(function(){l.model.color=l.model.originalColor,l.model.flushColor()}))),l._register(o.onDidChangeColor(l.onDidChangeColor,t(i)(l))),l._register(o.onDidChangePresentation(l.onDidChangePresentation,t(i)(l))),l.pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(o.color)||"",l.pickedColorNode.classList.toggle("light",o.color.rgba.a<.5?l.backgroundColor.isLighter():o.color.isLighter()),l}return t(s)(r,[{key:"onDidChangeColor",value:function(e){this.pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}},{key:"onDidChangePresentation",value:function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}]),r}(v.Disposable),k=function(e){"use strict";t(l)(r,e);var n=t(u)(r);function r(e,o,s){var l;return t(a)(this,r),(l=n.call(this)).model=o,l.pixelRatio=s,l.domNode=b(".colorpicker-body"),d.append(e,l.domNode),l.saturationBox=new C(l.domNode,l.model,l.pixelRatio),l._register(l.saturationBox),l._register(l.saturationBox.onDidChange(l.onDidSaturationValueChange,t(i)(l))),l._register(l.saturationBox.onColorFlushed(l.flushColor,t(i)(l))),l.opacityStrip=new w(l.domNode,l.model),l._register(l.opacityStrip),l._register(l.opacityStrip.onDidChange(l.onDidOpacityChange,t(i)(l))),l._register(l.opacityStrip.onColorFlushed(l.flushColor,t(i)(l))),l.hueStrip=new S(l.domNode,l.model),l._register(l.hueStrip),l._register(l.hueStrip.onDidChange(l.onDidHueChange,t(i)(l))),l._register(l.hueStrip.onColorFlushed(l.flushColor,t(i)(l))),l}return t(s)(r,[{key:"flushColor",value:function(){this.model.flushColor()}},{key:"onDidSaturationValueChange",value:function(e){var t=e.s,n=e.v,r=this.model.color.hsva;this.model.color=new(0,p.Color)(new(0,p.HSVA)(r.h,t,n,r.a))}},{key:"onDidOpacityChange",value:function(e){var t=this.model.color.hsva;this.model.color=new(0,p.Color)(new(0,p.HSVA)(t.h,t.s,t.v,e))}},{key:"onDidHueChange",value:function(e){var t=this.model.color.hsva,n=360*(1-e);this.model.color=new(0,p.Color)(new(0,p.HSVA)(360===n?0:n,t.s,t.v,t.a))}},{key:"layout",value:function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}]),r}(v.Disposable),C=function(e){"use strict";t(l)(r,e);var n=t(u)(r);function r(e,o,s){var l;return t(a)(this,r),(l=n.call(this)).model=o,l.pixelRatio=s,l._onDidChange=new(0,g.Emitter),l.onDidChange=l._onDidChange.event,l._onColorFlushed=new(0,g.Emitter),l.onColorFlushed=l._onColorFlushed.event,l.domNode=b(".saturation-wrap"),d.append(e,l.domNode),l.canvas=document.createElement("canvas"),l.canvas.className="saturation-box",d.append(l.domNode,l.canvas),l.selection=b(".saturation-selection"),d.append(l.domNode,l.selection),l.layout(),l._register(d.addDisposableGenericMouseDownListner(l.domNode,(function(e){return l.onMouseDown(e)}))),l._register(l.model.onDidChangeColor(l.onDidChangeColor,t(i)(l))),l.monitor=null,l}return t(s)(r,[{key:"onMouseDown",value:function(e){var t=this;this.monitor=this._register(new(0,h.GlobalMouseMoveMonitor));var n=d.getDomNodePagePosition(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,h.standardMouseMoveMerger,(function(e){return t.onDidChangePosition(e.posx-n.left,e.posy-n.top)}),(function(){return null}));var r=d.addDisposableGenericMouseUpListner(document,(function(){t._onColorFlushed.fire(),r.dispose(),t.monitor&&(t.monitor.stopMonitoring(!0),t.monitor=null)}),!0)}},{key:"onDidChangePosition",value:function(e,t){var n=Math.max(0,Math.min(1,e/this.width)),r=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,r),this._onDidChange.fire({s:n,v:r})}},{key:"layout",value:function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var e=this.model.color.hsva;this.paintSelection(e.s,e.v)}},{key:"paint",value:function(){var e=this.model.color.hsva,t=new(0,p.Color)(new(0,p.HSVA)(e.h,1,1,1)),n=this.canvas.getContext("2d"),r=n.createLinearGradient(0,0,this.canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");var i=n.createLinearGradient(0,0,0,this.canvas.height);i.addColorStop(0,"rgba(0, 0, 0, 0)"),i.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=p.Color.Format.CSS.format(t),n.fill(),n.fillStyle=r,n.fill(),n.fillStyle=i,n.fill()}},{key:"paintSelection",value:function(e,t){this.selection.style.left="".concat(e*this.width,"px"),this.selection.style.top="".concat(this.height-t*this.height,"px")}},{key:"onDidChangeColor",value:function(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}]),r}(v.Disposable),x=function(e){"use strict";t(l)(r,e);var n=t(u)(r);function r(e,i){var o;return t(a)(this,r),(o=n.call(this)).model=i,o._onDidChange=new(0,g.Emitter),o.onDidChange=o._onDidChange.event,o._onColorFlushed=new(0,g.Emitter),o.onColorFlushed=o._onColorFlushed.event,o.domNode=d.append(e,b(".strip")),o.overlay=d.append(o.domNode,b(".overlay")),o.slider=d.append(o.domNode,b(".slider")),o.slider.style.top="0px",o._register(d.addDisposableGenericMouseDownListner(o.domNode,(function(e){return o.onMouseDown(e)}))),o.layout(),o}return t(s)(r,[{key:"layout",value:function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var e=this.getValue(this.model.color);this.updateSliderPosition(e)}},{key:"onMouseDown",value:function(e){var t=this,n=this._register(new(0,h.GlobalMouseMoveMonitor)),r=d.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),n.startMonitoring(e.target,e.buttons,h.standardMouseMoveMerger,(function(e){return t.onDidChangeTop(e.posy-r.top)}),(function(){return null}));var i=d.addDisposableGenericMouseUpListner(document,(function(){t._onColorFlushed.fire(),i.dispose(),n.stopMonitoring(!0),t.domNode.classList.remove("grabbing")}),!0)}},{key:"onDidChangeTop",value:function(e){var t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}},{key:"updateSliderPosition",value:function(e){this.slider.style.top="".concat((1-e)*this.height,"px")}}]),r}(v.Disposable),w=function(e){"use strict";t(l)(r,e);var n=t(u)(r);function r(e,o){var s;return t(a)(this,r),(s=n.call(this,e,o)).domNode.classList.add("opacity-strip"),s._register(o.onDidChangeColor(s.onDidChangeColor,t(i)(s))),s.onDidChangeColor(s.model.color),s}return t(s)(r,[{key:"onDidChangeColor",value:function(e){var t=e.rgba,n=t.r,r=t.g,i=t.b,o=new(0,p.Color)(new(0,p.RGBA)(n,r,i,1)),a=new(0,p.Color)(new(0,p.RGBA)(n,r,i,0));this.overlay.style.background="linear-gradient(to bottom, ".concat(o," 0%, ").concat(a," 100%)")}},{key:"getValue",value:function(e){return e.hsva.a}}]),r}(x),S=function(e){"use strict";t(l)(r,e);var n=t(u)(r);function r(e,i){var o;return t(a)(this,r),(o=n.call(this,e,i)).domNode.classList.add("hue-strip"),o}return t(s)(r,[{key:"getValue",value:function(e){return 1-e.hsva.h/360}}]),r}(x),E=function(e){"use strict";t(l)(r,e);var n=t(u)(r);function r(e,i,o,s){var l;t(a)(this,r),(l=n.call(this)).model=i,l.pixelRatio=o,l._register((0,c.onDidChangeZoomLevel)((function(){return l.layout()})));var u=b(".colorpicker-widget");e.appendChild(u);var d=new _(u,l.model,s);return l.body=new k(u,l.model,l.pixelRatio),l._register(d),l._register(l.body),l}return t(s)(r,[{key:"layout",value:function(){this.body.layout()}}]),r}(f.Widget)})),o.register("8oVvA",(function(n,r){e(n.exports,"ModesGlyphHoverWidget",(function(){return k}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("hFMTy"),d=o("aV5UR"),h=o("i3Iko"),f=o("2Y8KV"),p=o("glSIC"),g=o("keW5P"),v=o("kz0zH"),m=o("7iTRb"),y=o("KDpXQ"),b=o("ddsHh"),_=function(){"use strict";function e(n){t(i)(this,e),this._editor=n,this._lineNumber=-1,this._result=[]}return t(a)(e,[{key:"setLineNumber",value:function(e){this._lineNumber=e,this._result=[]}},{key:"clearResult",value:function(){this._result=[]}},{key:"computeSync",value:function(){var e=function(e){return{value:e}},n=this._editor.getLineDecorations(this._lineNumber),r=[];if(!n)return r;var i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u,d=s.value;if(d.options.glyphMarginClassName){var h=d.options.glyphMarginHoverMessage;h&&!(0,f.isEmptyMarkdownString)(h)&&(u=r).push.apply(u,t(c)((0,b.asArray)(h).map(e)))}}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return r}},{key:"onResult",value:function(e,t){this._result=this._result.concat(e)}},{key:"getResult",value:function(){return this._result}},{key:"getResultWithLoadingMessage",value:function(){return this.getResult()}}]),e}(),k=function(e){"use strict";t(u)(r,e);var n=t(d)(r);function r(e,o){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.NullOpenerService;return t(i)(this,r),(a=n.call(this,r.ID,e))._renderDisposeables=a._register(new(0,p.DisposableStore)),a._messages=[],a._lastLineNumber=-1,a._markdownRenderer=a._register(new(0,m.MarkdownRenderer)({editor:a._editor},o,s)),a._computer=new _(a._editor),a._hoverOperation=new(0,g.HoverOperation)(a._computer,(function(e){return a._withResult(e)}),void 0,(function(e){return a._withResult(e)}),300),a}return t(a)(r,[{key:"dispose",value:function(){this._hoverOperation.cancel(),t(s)(t(l)(r.prototype),"dispose",this).call(this)}},{key:"onModelDecorationsChanged",value:function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}},{key:"hide",value:function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),t(s)(t(l)(r.prototype),"hide",this).call(this)}},{key:"_withResult",value:function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(e,t){this._renderDisposeables.clear();var n=document.createDocumentFragment(),r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=this._markdownRenderer.render(l.value);this._renderDisposeables.add(u),n.appendChild((0,h.$)("div.hover-row",void 0,u.element))}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}this.updateContents(n),this.showAt(e)}}]),r}(v.GlyphHoverWidget);k.ID="editor.contrib.modesGlyphHoverWidget"})),o.register("kz0zH",(function(n,r){e(n.exports,"GlyphHoverWidget",(function(){return f}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("k0Xaj"),u=o("5464t"),c=o("hgtn2"),d=o("hFMTy"),h=o("aV5UR"),f=function(e){"use strict";t(c)(r,e);var n=t(h)(r);function r(e,o){var s;return t(a)(this,r),(s=n.call(this))._id=e,s._editor=o,s._isVisible=!1,s._domNode=document.createElement("div"),s._domNode.className="monaco-hover hidden",s._domNode.setAttribute("aria-hidden","true"),s._domNode.setAttribute("role","tooltip"),s._showAtLineNumber=-1,s._register(s._editor.onDidChangeConfiguration((function(e){e.hasChanged(41)&&s.updateFont()}))),s._editor.addOverlayWidget(t(i)(s)),s}return t(s)(r,[{key:"isVisible",get:function(){return this._isVisible},set:function(e){this._isVisible=e,this._domNode.classList.toggle("hidden",!this._isVisible)}},{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"showAt",value:function(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),r=this._editor.getScrollTop(),i=this._editor.getOption(57),o=n-r-(this._domNode.clientHeight-i)/2;this._domNode.style.left="".concat(t.glyphMarginLeft+t.glyphMarginWidth,"px"),this._domNode.style.top="".concat(Math.max(Math.round(o),0),"px")}},{key:"hide",value:function(){this.isVisible&&(this.isVisible=!1)}},{key:"getPosition",value:function(){return null}},{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),t(l)(t(u)(r.prototype),"dispose",this).call(this)}},{key:"updateFont",value:function(){var e=this,n=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),r=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));t(d)(n).concat(t(d)(r)).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"updateContents",value:function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()}}]),r}(o("2lK1h").Widget)})),o.register("cBNQz",(function(n,r){e(n.exports,"GotoDefinitionAtPositionEditorContribution",(function(){return L}),(function(e){return L=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("dKkCN"),u=o("1xRRx"),c=o("9yDnc"),d=o("2Y8KV"),h=o("4eQyS"),f=o("Og1nm"),p=o("aQzpN"),g=o("kT6fp"),v=o("aRzzD"),m=o("glSIC"),y=o("gy8en"),b=o("4qRit"),_=o("eZPXr"),k=o("jhpae"),C=o("1Lt9q"),x=o("lxkvT"),w=o("kaKvC"),S=o("2lfWM"),E=o("2G5Pg"),D=o("6x2MV"),I=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},R=function(e,t){return function(n,r){t(n,r,e)}},L=function(){"use strict";function e(n,r,o){var a=this;t(i)(this,e),this.textModelResolverService=r,this.modeService=o,this.toUnhook=new(0,m.DisposableStore),this.toUnhookForKeyboard=new(0,m.DisposableStore),this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=n;var l=new(0,x.ClickLinkGesture)(n);this.toUnhook.add(l),this.toUnhook.add(l.onMouseMoveOrRelevantKeyDown((function(e){var n=t(s)(e,2),r=n[0],i=n[1];a.startFindDefinitionFromMouse(r,(0,S.withNullAsUndefined)(i))}))),this.toUnhook.add(l.onExecute((function(e){var t=a;a.isEnabled(e)&&a.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((function(){t.removeLinkDecorations()}),(function(e){t.removeLinkDecorations(),(0,c.onUnexpectedError)(e)}))}))),this.toUnhook.add(l.onCancel((function(){a.removeLinkDecorations(),a.currentWordAtPosition=null})))}return t(a)(e,[{key:"startFindDefinitionFromCursor",value:function(e){var t=this;return this.startFindDefinition(e).then((function(){var e=t;t.toUnhookForKeyboard.add(t.editor.onDidChangeCursorPosition((function(){e.currentWordAtPosition=null,e.removeLinkDecorations(),e.toUnhookForKeyboard.clear()}))),t.toUnhookForKeyboard.add(t.editor.onKeyDown((function(t){t&&(e.currentWordAtPosition=null,e.removeLinkDecorations(),e.toUnhookForKeyboard.clear())})))}))}},{key:"startFindDefinitionFromMouse",value:function(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();var n=e.target.position;this.startFindDefinition(n)}}},{key:"startFindDefinition",value:function(e){var t,n=this;this.toUnhookForKeyboard.clear();var r=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!r)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===r.startColumn&&this.currentWordAtPosition.endColumn===r.endColumn&&this.currentWordAtPosition.word===r.word)return Promise.resolve(0);this.currentWordAtPosition=r;var i=new(0,k.EditorState)(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,u.createCancelablePromise)((function(t){return n.findDefinition(e,t)})),this.previousPromise.then((function(t){if(t&&t.length&&i.validate(n.editor))if(t.length>1)n.addDecoration(new(0,f.Range)(e.lineNumber,r.startColumn,e.lineNumber,r.endColumn),(new(0,d.MarkdownString)).appendText(l.localize("multipleResults","Click to show {0} definitions.",t.length)));else{var o=n,a=t[0];if(!a.uri)return;n.textModelResolverService.createModelReference(a.uri).then((function(t){if(t.object&&t.object.textEditorModel){var n=t.object.textEditorModel,i=a.range.startLineNumber;if(i<1||i>n.getLineCount())t.dispose();else{var s,l=o.getPreviewValue(n,i,a);s=a.originSelectionRange?f.Range.lift(a.originSelectionRange):new(0,f.Range)(e.lineNumber,r.startColumn,e.lineNumber,r.endColumn);var u=o.modeService.getModeIdByFilepathOrFirstLine(n.uri);o.addDecoration(s,(new(0,d.MarkdownString)).appendCodeblock(u||"",l)),t.dispose()}}else t.dispose()}))}else n.removeLinkDecorations()})).then(void 0,c.onUnexpectedError)}},{key:"getPreviewValue",value:function(t,n,r){var i=r.targetSelectionRange?r.range:this.getPreviewRangeBasedOnBrackets(t,n);return i.endLineNumber-i.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(i=this.getPreviewRangeBasedOnIndentation(t,n)),this.stripIndentationFromPreviewRange(t,n,i)}},{key:"stripIndentationFromPreviewRange",value:function(e,t,n){for(var r=e.getLineFirstNonWhitespaceColumn(t),i=t+1;i<n.endLineNumber;i++){var o=e.getLineFirstNonWhitespaceColumn(i);r=Math.min(r,o)}return e.getValueInRange(n).replace(new RegExp("^\\s{".concat(r-1,"}"),"gm"),"").trim()}},{key:"getPreviewRangeBasedOnIndentation",value:function(t,n){for(var r=t.getLineFirstNonWhitespaceColumn(n),i=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),o=n+1;o<i;o++){if(r===t.getLineFirstNonWhitespaceColumn(o))break}return new(0,f.Range)(n,1,o+1,1)}},{key:"getPreviewRangeBasedOnBrackets",value:function(t,n){for(var r=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),i=[],o=!0,a=t.findNextBracket(new(0,w.Position)(n,1));null!==a;){if(0===i.length)i.push(a);else{var s=i[i.length-1];if(s.open[0]===a.open[0]&&s.isOpen&&!a.isOpen?i.pop():i.push(a),0===i.length){if(!o)return new(0,f.Range)(n,1,a.range.endLineNumber+1,1);o=!1}}var l=t.getLineMaxColumn(n),u=a.range.endLineNumber,c=a.range.endColumn;if(l===a.range.endColumn&&(u++,c=1),u>r)return new(0,f.Range)(n,1,r+1,1);a=t.findNextBracket(new(0,w.Position)(u,c))}return new(0,f.Range)(n,1,r+1,1)}},{key:"addDecoration",value:function(e,t){var n={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])}},{key:"removeLinkDecorations",value:function(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}},{key:"isEnabled",value:function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&p.DefinitionProviderRegistry.has(this.editor.getModel())}},{key:"findDefinition",value:function(e,t){var n=this.editor.getModel();return n?(0,v.getDefinitionsAtPosition)(n,e,t):Promise.resolve(null)}},{key:"gotoDefinition",value:function(e,t){var n=this;return this.editor.setPosition(e),this.editor.invokeWithinContext((function(e){var r=!t&&n.editor.getOption(76)&&!n.isInPeekEditor(e);return new(0,C.DefinitionAction)({openToSide:t,openInPeek:r,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,n.editor)}))}},{key:"isInPeekEditor",value:function(e){var t=e.get(D.IContextKeyService);return E.PeekContext.inPeekEditor.getValue(t)}},{key:"dispose",value:function(){this.toUnhook.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();L.ID="editor.contrib.gotodefinitionatposition",L.MAX_SOURCE_PREVIEW_LINES=8,L=I([R(1,y.ITextModelService),R(2,h.IModeService)],L),(0,g.registerEditorContribution)(L.ID,L),(0,b.registerThemingParticipant)((function(e,t){var n=e.getColor(_.editorActiveLinkForeground);n&&t.addRule(".monaco-editor .goto-definition-link { color: ".concat(n," !important; }"))}))})),o.register("aRzzD",(function(n,r){e(n.exports,"getDefinitionsAtPosition",(function(){return p}),(function(e){return p=e})),e(n.exports,"getDeclarationsAtPosition",(function(){return g}),(function(e){return g=e})),e(n.exports,"getImplementationsAtPosition",(function(){return v}),(function(e){return v=e})),e(n.exports,"getTypeDefinitionsAtPosition",(function(){return m}),(function(e){return m=e})),e(n.exports,"getReferencesAtPosition",(function(){return y}),(function(e){return y=e}));var i=o("hFMTy"),a=o("4GLgu"),s=o("7C9Vb"),l=o("9yDnc"),u=o("kT6fp"),c=o("aQzpN"),d=o("cTZWx"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function f(e,n,r,o){var a=r.ordered(e).map((function(t){return Promise.resolve(o(t,e,n)).then(void 0,(function(e){(0,l.onUnexpectedExternalError)(e)}))}));return Promise.all(a).then((function(e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u,c=s.value;Array.isArray(c)?(u=n).push.apply(u,t(i)(c)):c&&n.push(c)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}))}function p(e,t,n){return f(e,t,c.DefinitionProviderRegistry,(function(e,t,r){return e.provideDefinition(t,r,n)}))}function g(e,t,n){return f(e,t,c.DeclarationProviderRegistry,(function(e,t,r){return e.provideDeclaration(t,r,n)}))}function v(e,t,n){return f(e,t,c.ImplementationProviderRegistry,(function(e,t,r){return e.provideImplementation(t,r,n)}))}function m(e,t,n){return f(e,t,c.TypeDefinitionProviderRegistry,(function(e,t,r){return e.provideTypeDefinition(t,r,n)}))}function y(e,n,r,i){var o=this;return f(e,n,c.ReferenceProviderRegistry,(function(e,n,s){return h(o,void 0,void 0,t(a).mark((function o(){var l,u;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.provideReferences(n,s,{includeDeclaration:!0},i);case 2:if(l=t.sent,r&&l&&2===l.length){t.next=5;break}return t.abrupt("return",l);case 5:return t.next=7,e.provideReferences(n,s,{includeDeclaration:!1},i);case 7:if(!(u=t.sent)||1!==u.length){t.next=10;break}return t.abrupt("return",u);case 10:return t.abrupt("return",l);case 11:case"end":return t.stop()}}),o)})))}))}function b(e){return h(this,void 0,void 0,t(a).mark((function n(){var r,i,o;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return r=t.sent,i=new(0,d.ReferencesModel)(r,""),o=i.references.map((function(e){return e.link})),i.dispose(),t.abrupt("return",o);case 7:case"end":return t.stop()}}),n)})))}(0,u.registerModelAndPositionCommand)("_executeDefinitionProvider",(function(e,t){return b((function(){return p(e,t,s.CancellationToken.None)}))})),(0,u.registerModelAndPositionCommand)("_executeDeclarationProvider",(function(e,t){return b((function(){return g(e,t,s.CancellationToken.None)}))})),(0,u.registerModelAndPositionCommand)("_executeImplementationProvider",(function(e,t){return b((function(){return v(e,t,s.CancellationToken.None)}))})),(0,u.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(function(e,t){return b((function(){return m(e,t,s.CancellationToken.None)}))})),(0,u.registerModelAndPositionCommand)("_executeReferenceProvider",(function(e,t){return b((function(){return y(e,t,!1,s.CancellationToken.None)}))}))})),o.register("cTZWx",(function(n,r){e(n.exports,"OneReference",(function(){return b}),(function(e){return b=e})),e(n.exports,"FileReferences",(function(){return k}),(function(e){return k=e})),e(n.exports,"ReferencesModel",(function(){return C}),(function(e){return C=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("4GLgu"),u=o("dKkCN"),c=o("4YObi"),d=o("5Z1yh"),h=o("glSIC"),f=o("flPya"),p=o("jF1dS"),g=o("Og1nm"),v=o("7K1Ci"),m=o("9yDnc"),y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},b=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this.isProviderFirst=n,this.parent=r,this.link=o,this._rangeCallback=a,this.id=p.defaultGenerator.nextId()}return t(a)(e,[{key:"uri",get:function(){return this.link.uri}},{key:"range",get:function(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range},set:function(e){this._range=e,this._rangeCallback(this)}},{key:"ariaMessage",get:function(){var e,t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?(0,u.localize)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,d.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,u.localize)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,d.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}]),e}(),_=function(){"use strict";function e(n){t(i)(this,e),this._modelReference=n}return t(a)(e,[{key:"dispose",value:function(){this._modelReference.dispose()}},{key:"preview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=this._modelReference.object.textEditorModel;if(n){var r=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,a=e.endColumn,s=n.getWordUntilPosition({lineNumber:r,column:i-t}),l=new(0,g.Range)(r,s.startColumn,r,i),u=new(0,g.Range)(o,a,o,1073741824),c=n.getValueInRange(l).replace(/^\s+/,""),d=n.getValueInRange(e),h=n.getValueInRange(u).replace(/\s+$/,"");return{value:c+d+h,highlight:{start:c.length,end:c.length+d.length}}}}}]),e}(),k=function(){"use strict";function e(n,r){t(i)(this,e),this.parent=n,this.uri=r,this.children=[],this._previews=new(0,v.ResourceMap)}return t(a)(e,[{key:"dispose",value:function(){(0,h.dispose)(this._previews.values()),this._previews.clear()}},{key:"getPreview",value:function(e){return this._previews.get(e.uri)}},{key:"ariaMessage",get:function(){var e=this.children.length;return 1===e?(0,u.localize)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,d.basename)(this.uri),this.uri.fsPath):(0,u.localize)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,d.basename)(this.uri),this.uri.fsPath)}},{key:"resolve",value:function(e){return y(this,void 0,void 0,t(l).mark((function n(){var r,i,o,a,s,u,c;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this._previews.size){t.next=2;break}return t.abrupt("return",this);case 2:r=!0,i=!1,o=void 0,t.prev=3,a=this.children[Symbol.iterator]();case 5:if(r=(s=a.next()).done){t.next=22;break}if(u=s.value,!this._previews.has(u.uri)){t.next=9;break}return t.abrupt("continue",19);case 9:return t.prev=9,t.next=12,e.createModelReference(u.uri);case 12:c=t.sent,this._previews.set(u.uri,new _(c)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),(0,m.onUnexpectedError)(t.t0);case 19:r=!0,t.next=5;break;case 22:t.next=28;break;case 24:t.prev=24,t.t1=t.catch(3),i=!0,o=t.t1;case 28:t.prev=28,t.prev=29,r||null==a.return||a.return();case 31:if(t.prev=31,!i){t.next=34;break}throw o;case 34:return t.finish(31);case 35:return t.finish(28);case 36:return t.abrupt("return",this);case 37:case"end":return t.stop()}}),n,this,[[3,24,28,36],[9,16],[29,,31,35]])})))}}]),e}(),C=function(){"use strict";function e(n,r){t(i)(this,e),this.groups=[],this.references=[],this._onDidChangeReferenceRange=new(0,c.Emitter),this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=n,this._title=r;var o,a=t(s)(n,1)[0];n.sort(e._compareReferences);var l=!0,u=!1,h=void 0;try{for(var f,p=n[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var g=f.value;if(o&&d.extUri.isEqual(o.uri,g.uri,!0)||(o=new k(this,g.uri),this.groups.push(o)),0===o.children.length||0!==e._compareReferences(g,o.children[o.children.length-1])){var v=this,m=new b(a===g,o,g,(function(e){return v._onDidChangeReferenceRange.fire(e)}));this.references.push(m),o.children.push(m)}}}catch(e){u=!0,h=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw h}}}return t(a)(e,[{key:"dispose",value:function(){(0,h.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}},{key:"clone",value:function(){return new e(this._links,this._title)}},{key:"title",get:function(){return this._title}},{key:"isEmpty",get:function(){return 0===this.groups.length}},{key:"ariaMessage",get:function(){return this.isEmpty?(0,u.localize)("aria.result.0","No results found"):1===this.references.length?(0,u.localize)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,u.localize)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,u.localize)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}},{key:"nextOrPreviousReference",value:function(e,t){var n=e.parent,r=n.children.indexOf(e),i=n.children.length,o=n.parent.groups.length;return 1===o||t&&r+1<i||!t&&r>0?(r=t?(r+1)%i:(r+i-1)%i,n.children[r]):(r=n.parent.groups.indexOf(n),t?(r=(r+1)%o,n.parent.groups[r].children[0]):(r=(r+o-1)%o,n.parent.groups[r].children[n.parent.groups[r].children.length-1]))}},{key:"nearestReference",value:function(e,t){var n=this.references.map((function(n,r){return{idx:r,prefixLen:f.commonPrefixLength(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}})).sort((function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0}))[0];if(n)return this.references[n.idx]}},{key:"referenceAt",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=this.references[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.uri.toString()===e.toString()&&g.Range.containsPosition(s.range,t))return s}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"firstReference",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.references[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;if(o.isProviderFirst)return o}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.references[0]}}],[{key:"_compareReferences",value:function(e,t){return d.extUri.compare(e.uri,t.uri)||g.Range.compareRangesUsingStarts(e.range,t.range)}}]),e}()})),o.register("1Lt9q",(function(n,r){e(n.exports,"DefinitionAction",(function(){return $}),(function(e){return $=e}));var i,a,s,l,u,c,d,h,f=o("fZTNQ"),p=o("j7KTJ"),g=o("k0Xaj"),v=o("5464t"),m=o("hgtn2"),y=o("aV5UR"),b=o("4GLgu"),_=o("3mtPc"),k=o("1xRRx"),C=o("aLDYa"),x=o("4YgGD"),w=o("gEzVq"),S=o("kT6fp"),E=o("flIZY"),D=o("kaKvC"),I=o("Og1nm"),R=o("7Zg88"),L=o("aQzpN"),A=o("5ph9j"),M=o("2G5Pg"),T=o("ed3sE"),N=o("cTZWx"),P=o("dKkCN"),O=o("lvhYu"),F=o("6x2MV"),B=o("ds0Oh"),z=o("5rgie"),W=o("aRzzD"),H=o("1Ms2U"),V=o("jhpae"),j=o("3bUdn"),K=o("iHzs9"),U=o("bErzw"),q=o("e1Jmh"),Z=o("2lfWM"),G=o("ao8rP"),Q=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};O.MenuRegistry.appendMenuItem(O.MenuId.EditorContext,{submenu:O.MenuId.EditorContextPeek,title:P.localize("peek.submenu","Peek"),group:"navigation",order:100});var J=new Set;function Y(e){var t=new e;return(0,S.registerInstantiatedEditorAction)(t),J.add(t.id),t}var X=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(e,i){var o;return t(f)(this,r),(o=n.call(this,i))._configuration=e,o}return t(p)(r,[{key:"run",value:function(e,n){var r=this;if(!n.hasModel())return Promise.resolve(void 0);var i=e.get(B.INotificationService),o=e.get(E.ICodeEditorService),a=e.get(z.IEditorProgressService),s=e.get(j.ISymbolNavigationService),l=n.getModel(),u=n.getPosition(),c=new(0,V.EditorStateCancellationTokenSource)(n,5),d=(0,k.raceCancellation)(this._getLocationModel(l,u,c.token),c.token).then((function(e){return Q(r,void 0,void 0,t(b).mark((function r(){var i,a,d,h;return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!c.token.isCancellationRequested){t.next=2;break}return t.abrupt("return");case 2:if((0,_.alert)(e.ariaMessage),e.referenceAt(l.uri,u)&&(a=this._getAlternativeCommand(n))!==this.id&&J.has(a)&&(i=n.getAction(a)),0!==(d=e.references.length)){t.next=10;break}this._configuration.muteMessage||(h=l.getWordAtPosition(u),A.MessageController.get(n).showMessage(this._getNoResultFoundMessage(h),u)),t.next=15;break;case 10:if(1!==d||!i){t.next=14;break}i.run(),t.next=15;break;case 14:return t.abrupt("return",this._onResult(o,s,n,e));case 15:case"end":return t.stop()}}),r,this)})))}),(function(e){i.error(e)})).finally((function(){c.dispose()}));return a.showWhile(d,250),d}},{key:"_onResult",value:function(e,n,r,i){return Q(this,void 0,void 0,t(b).mark((function o(){var a,s,l,u;return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this._getGoToPreference(r),r instanceof G.EmbeddedCodeEditorWidget||!(this._configuration.openInPeek||"peek"===a&&i.references.length>1)){t.next=5;break}this._openInPeek(r,i),t.next=12;break;case 5:return s=i.firstReference(),l=i.references.length>1&&"gotoAndPeek"===a,t.next=9,this._openReference(r,e,s,this._configuration.openToSide,!l);case 9:u=t.sent,l&&u?this._openInPeek(u,i):i.dispose(),"goto"===a&&n.put(s);case 12:case"end":return t.stop()}}),o,this)})))}},{key:"_openReference",value:function(e,n,r,i,o){return Q(this,void 0,void 0,t(b).mark((function a(){var s,l,u,c;return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=void 0,(0,L.isLocationLink)(r)&&(s=r.targetSelectionRange),s||(s=r.range),s){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.next=7,n.openCodeEditor({resource:r.uri,options:{selection:I.Range.collapseToStart(s),selectionRevealType:3}},e,i);case 7:if(l=t.sent){t.next=10;break}return t.abrupt("return",void 0);case 10:return o&&(u=l.getModel(),c=l.deltaDecorations([],[{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]),setTimeout((function(){l.getModel()===u&&l.deltaDecorations(c,[])}),350)),t.abrupt("return",l);case 12:case"end":return t.stop()}}),a)})))}},{key:"_openInPeek",value:function(e,t){var n=T.ReferencesController.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),(0,k.createCancelablePromise)((function(e){return Promise.resolve(t)})),this._configuration.openInPeek):t.dispose()}}]),r}(S.EditorAction),$=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.apply(this,arguments)}return t(p)(r,[{key:"_getLocationModel",value:function(e,n,r){return Q(this,void 0,void 0,t(b).mark((function i(){return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N.ReferencesModel,t.next=3,(0,W.getDefinitionsAtPosition)(e,n,r);case 3:return t.t1=t.sent,t.t2=P.localize("def.title","Definitions"),t.abrupt("return",new t.t0(t.t1,t.t2));case 6:case"end":return t.stop()}}),i)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?P.localize("noResultWord","No definition found for '{0}'",e.word):P.localize("generic.noResults","No definition found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(48).alternativeDefinitionCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(48).multipleDefinitions}}]),r}(X),ee=x.isWeb&&!K.isStandalone?2118:70;Y(((i=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){t(f)(this,r);var e=n.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:r.id,label:P.localize("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasDefinitionProvider,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:R.EditorContextKeys.editorTextFocus,primary:ee,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:O.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:P.localize({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}});return H.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",r.id),e}return r}($)).id="editor.action.revealDefinition",i)),Y(((a=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){t(f)(this,r);var e=n.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:r.id,label:P.localize("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasDefinitionProvider,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:R.EditorContextKeys.editorTextFocus,primary:(0,C.KeyChord)(2089,ee),weight:100}});return H.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",r.id),e}return r}($)).id="editor.action.revealDefinitionAside",a)),Y(((s=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){t(f)(this,r);var e=n.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:r.id,label:P.localize("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasDefinitionProvider,M.PeekContext.notInPeekEditor,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:R.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:O.MenuId.EditorContextPeek,group:"peek",order:2}});return H.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",r.id),e}return r}($)).id="editor.action.peekDefinition",s));var te=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.apply(this,arguments)}return t(p)(r,[{key:"_getLocationModel",value:function(e,n,r){return Q(this,void 0,void 0,t(b).mark((function i(){return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N.ReferencesModel,t.next=3,(0,W.getDeclarationsAtPosition)(e,n,r);case 3:return t.t1=t.sent,t.t2=P.localize("decl.title","Declarations"),t.abrupt("return",new t.t0(t.t1,t.t2));case 6:case"end":return t.stop()}}),i)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?P.localize("decl.noResultWord","No declaration found for '{0}'",e.word):P.localize("decl.generic.noResults","No declaration found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(48).alternativeDeclarationCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(48).multipleDeclarations}}]),r}(X);Y(((l=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:r.id,label:P.localize("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasDeclarationProvider,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:O.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:P.localize({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})}return t(p)(r,[{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?P.localize("decl.noResultWord","No declaration found for '{0}'",e.word):P.localize("decl.generic.noResults","No declaration found")}}]),r}(te)).id="editor.action.revealDeclaration",l)),Y(function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:P.localize("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasDeclarationProvider,M.PeekContext.notInPeekEditor,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:O.MenuId.EditorContextPeek,group:"peek",order:3}})}return r}(te));var ne=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.apply(this,arguments)}return t(p)(r,[{key:"_getLocationModel",value:function(e,n,r){return Q(this,void 0,void 0,t(b).mark((function i(){return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N.ReferencesModel,t.next=3,(0,W.getTypeDefinitionsAtPosition)(e,n,r);case 3:return t.t1=t.sent,t.t2=P.localize("typedef.title","Type Definitions"),t.abrupt("return",new t.t0(t.t1,t.t2));case 6:case"end":return t.stop()}}),i)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?P.localize("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):P.localize("goToTypeDefinition.generic.noResults","No type definition found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(48).alternativeTypeDefinitionCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(48).multipleTypeDefinitions}}]),r}(X);Y(((u=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:r.ID,label:P.localize("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasTypeDefinitionProvider,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:R.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:O.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:P.localize({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})}return r}(ne)).ID="editor.action.goToTypeDefinition",u)),Y(((c=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:r.ID,label:P.localize("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasTypeDefinitionProvider,M.PeekContext.notInPeekEditor,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:O.MenuId.EditorContextPeek,group:"peek",order:4}})}return r}(ne)).ID="editor.action.peekTypeDefinition",c));var re=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.apply(this,arguments)}return t(p)(r,[{key:"_getLocationModel",value:function(e,n,r){return Q(this,void 0,void 0,t(b).mark((function i(){return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N.ReferencesModel,t.next=3,(0,W.getImplementationsAtPosition)(e,n,r);case 3:return t.t1=t.sent,t.t2=P.localize("impl.title","Implementations"),t.abrupt("return",new t.t0(t.t1,t.t2));case 6:case"end":return t.stop()}}),i)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?P.localize("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):P.localize("goToImplementation.generic.noResults","No implementation found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(48).alternativeImplementationCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(48).multipleImplementations}}]),r}(X);Y(((d=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:r.ID,label:P.localize("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasImplementationProvider,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:R.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:O.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:P.localize({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}return r}(re)).ID="editor.action.goToImplementation",d)),Y(((h=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:r.ID,label:P.localize("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasImplementationProvider,M.PeekContext.notInPeekEditor,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:R.EditorContextKeys.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:O.MenuId.EditorContextPeek,group:"peek",order:5}})}return r}(re)).ID="editor.action.peekImplementation",h));var ie=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.apply(this,arguments)}return t(p)(r,[{key:"_getNoResultFoundMessage",value:function(e){return e?P.localize("references.no","No references found for '{0}'",e.word):P.localize("references.noGeneric","No references found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(48).alternativeReferenceCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(48).multipleReferences}}]),r}(X);Y(function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:P.localize("goToReferences.label","Go to References"),alias:"Go to References",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasReferenceProvider,M.PeekContext.notInPeekEditor,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:R.EditorContextKeys.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:O.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:P.localize({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})}return t(p)(r,[{key:"_getLocationModel",value:function(e,n,r){return Q(this,void 0,void 0,t(b).mark((function i(){return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N.ReferencesModel,t.next=3,(0,W.getReferencesAtPosition)(e,n,!0,r);case 3:return t.t1=t.sent,t.t2=P.localize("ref.title","References"),t.abrupt("return",new t.t0(t.t1,t.t2));case 6:case"end":return t.stop()}}),i)})))}}]),r}(ie)),Y(function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:P.localize("references.action.label","Peek References"),alias:"Peek References",precondition:F.ContextKeyExpr.and(R.EditorContextKeys.hasReferenceProvider,M.PeekContext.notInPeekEditor,R.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:O.MenuId.EditorContextPeek,group:"peek",order:6}})}return t(p)(r,[{key:"_getLocationModel",value:function(e,n,r){return Q(this,void 0,void 0,t(b).mark((function i(){return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N.ReferencesModel,t.next=3,(0,W.getReferencesAtPosition)(e,n,!1,r);case 3:return t.t1=t.sent,t.t2=P.localize("ref.title","References"),t.abrupt("return",new t.t0(t.t1,t.t2));case 6:case"end":return t.stop()}}),i)})))}}]),r}(ie));var oe=function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(e,i,o){var a;return t(f)(this,r),(a=n.call(this,e,{id:"editor.action.goToLocation",label:P.localize("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:F.ContextKeyExpr.and(M.PeekContext.notInPeekEditor,R.EditorContextKeys.isInWalkThroughSnippet.toNegated())}))._references=i,a._gotoMultipleBehaviour=o,a}return t(p)(r,[{key:"_getLocationModel",value:function(e,n,r){return Q(this,void 0,void 0,t(b).mark((function e(){return t(b).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(0,N.ReferencesModel)(this._references,P.localize("generic.title","Locations")));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&P.localize("generic.noResult","No results for '{0}'",e.word)||""}},{key:"_getGoToPreference",value:function(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(48).multipleReferences}},{key:"_getAlternativeCommand",value:function(){return""}}]),r}(X);H.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:U.URI},{name:"position",description:"The position at which to start",constraint:D.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:function(e,n,r,i,o,a,s){return Q(void 0,void 0,void 0,t(b).mark((function l(){var u,c;return t(b).wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return(0,Z.assertType)(U.URI.isUri(n)),(0,Z.assertType)(D.Position.isIPosition(r)),(0,Z.assertType)(Array.isArray(i)),(0,Z.assertType)(void 0===o||"string"==typeof o),(0,Z.assertType)(void 0===s||"boolean"==typeof s),u=e.get(E.ICodeEditorService),l.next=8,u.openCodeEditor({resource:n},u.getFocusedCodeEditor());case 8:if(c=l.sent,!(0,w.isCodeEditor)(c)){l.next=13;break}return c.setPosition(r),c.revealPositionInCenterIfOutsideViewport(r,0),l.abrupt("return",c.invokeWithinContext((function(e){var n=new(function(e){"use strict";t(m)(r,e);var n=t(y)(r);function r(){return t(f)(this,r),n.apply(this,arguments)}return t(p)(r,[{key:"_getNoResultFoundMessage",value:function(e){return a||t(g)(t(v)(r.prototype),"_getNoResultFoundMessage",this).call(this,e)}}]),r}(oe))({muteMessage:!Boolean(a),openInPeek:Boolean(s),openToSide:!1},i,o);e.get(q.IInstantiationService).invokeFunction(n.run.bind(n),c)})));case 13:case"end":return l.stop()}}),l)})))}}),H.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:U.URI},{name:"position",description:"The position at which to start",constraint:D.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,n,r,i,o){return Q(void 0,void 0,void 0,t(b).mark((function a(){return t(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.get(H.ICommandService).executeCommand("editor.action.goToLocations",n,r,i,o,void 0,!0);case 1:case"end":return t.stop()}}),a)})))}}),H.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:function(e,t,n){(0,Z.assertType)(U.URI.isUri(t)),(0,Z.assertType)(D.Position.isIPosition(n));var r=e.get(E.ICodeEditorService);return r.openCodeEditor({resource:t},r.getFocusedCodeEditor()).then((function(e){if((0,w.isCodeEditor)(e)&&e.hasModel()){var t=T.ReferencesController.get(e);if(t){var r=(0,k.createCancelablePromise)((function(t){return(0,W.getReferencesAtPosition)(e.getModel(),D.Position.lift(n),!1,t).then((function(e){return new(0,N.ReferencesModel)(e,P.localize("ref.title","References"))}))})),i=new(0,I.Range)(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(t.toggleWidget(i,r,!1))}}}))}}),H.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")})),o.register("ed3sE",(function(n,r){e(n.exports,"ReferencesController",(function(){return A}),(function(e){return A=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("4GLgu"),l=o("dKkCN"),u=o("9yDnc"),c=o("glSIC"),d=o("flIZY"),h=o("e1Jmh"),f=o("6x2MV"),p=o("8KoBX"),g=o("91bq0"),v=o("cTZWx"),m=o("1C1ad"),y=o("Og1nm"),b=o("kaKvC"),_=o("ds0Oh"),k=o("1xRRx"),C=o("2G5Pg"),x=o("fakrc"),w=o("ca2Gx"),S=o("aLDYa"),E=o("1Ms2U"),D=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){return function(n,r){t(n,r,e)}},R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},L=new(0,f.RawContextKey)("referenceSearchVisible",!1,l.localize("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),A=function(){"use strict";function e(n,r,o,a,s,l,u,d){t(i)(this,e),this._defaultTreeKeyboardSupport=n,this._editor=r,this._editorService=a,this._notificationService=s,this._instantiationService=l,this._storageService=u,this._configurationService=d,this._disposables=new(0,c.DisposableStore),this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=L.bindTo(o)}return t(a)(e,[{key:"dispose",value:function(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}},{key:"toggleWidget",value:function(e,t,n){var r,i=this;if(this._widget&&(r=this._widget.position),this.closeWidget(),!r||!e.containsPosition(r)){this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){i.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((function(){i._ignoreModelChangeEvent||i.closeWidget()})));var o="peekViewLayout",a=m.LayoutData.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(m.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(l.localize("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((function(){t.cancel(),i._widget&&(i._storageService.store(o,JSON.stringify(i._widget.layoutData),0,1),i._widget=void 0),i.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((function(e){var t=e.element,r=e.kind;if(t)switch(r){case"open":"editor"===e.source&&i._configurationService.getValue("editor.stablePeek")||i.openReference(t,!1,!1);break;case"side":i.openReference(t,!0,!1);break;case"goto":n?i._gotoReference(t):i.openReference(t,!1,!0)}})));var s=++this._requestIdPool;t.then((function(t){var n,r=i;if(s===i._requestIdPool&&i._widget)return null===(n=i._model)||void 0===n||n.dispose(),i._model=t,i._widget.setModel(i._model).then((function(){if(r._widget&&r._model&&r._editor.hasModel()){var t=r;r._model.isEmpty?r._widget.setMetaTitle(""):r._widget.setMetaTitle(l.localize("metaTitle.N","{0} ({1})",r._model.title,r._model.references.length));var n=r._editor.getModel().uri,i=new(0,b.Position)(e.startLineNumber,e.startColumn),o=r._model.nearestReference(n,i);if(o)return r._widget.setSelection(o).then((function(){t._widget&&"editor"===t._editor.getOption(75)&&t._widget.focusOnPreviewEditor()}))}}));t.dispose()}),(function(e){i._notificationService.error(e)}))}}},{key:"changeFocusBetweenPreviewAndReferences",value:function(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}},{key:"goToNextOrPreviousReference",value:function(e){return R(this,void 0,void 0,t(s).mark((function n(){var r,i,o,a,l;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._editor.hasModel()&&this._model&&this._widget){t.next=2;break}return t.abrupt("return");case 2:if(r=this._widget.position){t.next=5;break}return t.abrupt("return");case 5:if(i=this._model.nearestReference(this._editor.getModel().uri,r)){t.next=8;break}return t.abrupt("return");case 8:return o=this._model.nextOrPreviousReference(i,e),a=this._editor.hasTextFocus(),l=this._widget.isPreviewEditorFocused(),t.next=13,this._widget.setSelection(o);case 13:return t.next=15,this._gotoReference(o);case 15:a?this._editor.focus():this._widget&&l&&this._widget.focusOnPreviewEditor();case 16:case"end":return t.stop()}}),n,this)})))}},{key:"revealReference",value:function(e){return R(this,void 0,void 0,t(s).mark((function n(){return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._editor.hasModel()&&this._model&&this._widget){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this._widget.revealReference(e);case 4:case"end":return t.stop()}}),n,this)})))}},{key:"closeWidget",value:function(){var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,n&&this._editor.focus(),this._requestIdPool+=1}},{key:"_gotoReference",value:function(t){var n=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var r=y.Range.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:r}},this._editor).then((function(t){var i;if(n._ignoreModelChangeEvent=!1,t&&n._widget)if(n._editor===t)n._widget.show(r),n._widget.focusOnReferenceTree();else{var o=e.get(t),a=n._model.clone();n.closeWidget(),t.focus(),o.toggleWidget(r,(0,k.createCancelablePromise)((function(e){return Promise.resolve(a)})),null!==(i=n._peekMode)&&void 0!==i&&i)}else n.closeWidget()}),(function(e){n._ignoreModelChangeEvent=!1,(0,u.onUnexpectedError)(e)}))}},{key:"openReference",value:function(e,t,n){t||this.closeWidget();var r=e.uri,i=e.range;this._editorService.openCodeEditor({resource:r,options:{selection:i,pinned:n}},this._editor,t)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();function M(e,t){var n=(0,C.getOuterEditor)(e);if(n){var r=A.get(n);r&&t(r)}}A.ID="editor.contrib.referencesController",A=D([I(2,f.IContextKeyService),I(3,d.ICodeEditorService),I(4,_.INotificationService),I(5,h.IInstantiationService),I(6,g.IStorageService),I(7,p.IConfigurationService)],A),w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,S.KeyChord)(2089,60),when:f.ContextKeyExpr.or(L,C.PeekContext.inPeekEditor),handler:function(e){M(e,(function(e){e.changeFocusBetweenPreviewAndReferences()}))}}),w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:f.ContextKeyExpr.or(L,C.PeekContext.inPeekEditor),handler:function(e){M(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:f.ContextKeyExpr.or(L,C.PeekContext.inPeekEditor),handler:function(e){M(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),E.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),E.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),E.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),E.CommandsRegistry.registerCommand("closeReferenceSearch",(function(e){return M(e,(function(e){return e.closeWidget()}))})),w.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:f.ContextKeyExpr.and(C.PeekContext.inPeekEditor,f.ContextKeyExpr.not("config.editor.stablePeek"))}),w.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:f.ContextKeyExpr.and(L,f.ContextKeyExpr.not("config.editor.stablePeek"))}),w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:f.ContextKeyExpr.and(L,x.WorkbenchListFocusContextKey),handler:function(e){var t,n=null===(t=e.get(x.IListService).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof v.OneReference&&M(e,(function(e){return e.revealReference(n[0])}))}}),w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:f.ContextKeyExpr.and(L,x.WorkbenchListFocusContextKey),handler:function(e){var t,n=null===(t=e.get(x.IListService).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof v.OneReference&&M(e,(function(e){return e.openReference(n[0],!0,!0)}))}}),E.CommandsRegistry.registerCommand("openReference",(function(e){var t,n=null===(t=e.get(x.IListService).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof v.OneReference&&M(e,(function(e){return e.openReference(n[0],!1,!0)}))}))})),o.register("1C1ad",(function(n,r){e(n.exports,"LayoutData",(function(){return H}),(function(e){return H=e})),e(n.exports,"ReferenceWidget",(function(){return j}),(function(e){return j=e}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("k0Xaj"),u=o("5464t"),c=o("hgtn2"),d=o("56Cfp"),h=o("hFMTy"),f=o("aV5UR"),p=o("4GLgu"),g=o("i3Iko"),v=o("3bv5f"),m=o("4YObi"),y=o("glSIC"),b=o("98cBO"),_=o("5Z1yh"),k=o("ao8rP"),C=o("Og1nm"),x=o("3bY1c"),w=o("gy8en"),S=o("jaE6L"),E=o("dKkCN"),D=o("e1Jmh"),I=o("hnqmL"),R=o("fakrc"),L=o("eZPXr"),A=o("4qRit"),M=o("2G5Pg"),T=o("cTZWx"),N=o("goGUw"),P=o("i27or"),O=o("hwMdw"),F=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},B=function(e,t){return function(n,r){t(n,r,e)}},z=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},W=function(){"use strict";function e(n,r){var i=this;t(a)(this,e),this._editor=n,this._model=r,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new(0,y.DisposableStore),this._callOnModelChange=new(0,y.DisposableStore),this._callOnDispose.add(this._editor.onDidChangeModel((function(){return i._onModelChanged()}))),this._onModelChanged()}return t(s)(e,[{key:"dispose",value:function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}},{key:"_onModelChanged",value:function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this._model.references[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a.uri.toString()===e.uri.toString())return void this._addDecorations(a.parent)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}}},{key:"_addDecorations",value:function(t){var n=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((function(){return n._onDecorationChanged()})));for(var r=[],i=[],o=0,a=t.children.length;o<a;o++){var s=t.children[o];this._decorationIgnoreSet.has(s.id)||s.uri.toString()===this._editor.getModel().uri.toString()&&(r.push({range:s.range,options:e.DecorationOptions}),i.push(o))}for(var l=this._editor.deltaDecorations([],r),u=0;u<l.length;u++)this._decorations.set(l[u],t.children[i[u]])}}},{key:"_onDecorationChanged",value:function(){var e=[],n=this._editor.getModel();if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=this._decorations[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=t(d)(a.value,2),u=l[0],c=l[1],h=n.getDecorationRange(u);if(h){var f=!1;if(!C.Range.equalsRange(h,c.range)){if(C.Range.spansMultipleLines(h))f=!0;else c.range.endColumn-c.range.startColumn!==h.endColumn-h.startColumn&&(f=!0);f?(this._decorationIgnoreSet.add(c.id),e.push(u)):c.range=h}}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}for(var p=0,g=e.length;p<g;p++)this._decorations.delete(e[p]);this._editor.deltaDecorations(e,[])}}},{key:"removeDecorations",value:function(){this._editor.deltaDecorations(t(h)(this._decorations.keys()),[]),this._decorations.clear()}}]),e}();W.DecorationOptions=x.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});var H=function(){"use strict";function e(){t(a)(this,e),this.ratio=.7,this.heightInLines=18}return t(s)(e,null,[{key:"fromJSON",value:function(e){var t,n;try{var r=JSON.parse(e);t=r.ratio,n=r.heightInLines}catch(e){}return{ratio:t||.7,heightInLines:n||18}}}]),e}(),V=function(e){"use strict";t(c)(r,e);var n=t(f)(r);function r(){return t(a)(this,r),n.apply(this,arguments)}return r}(R.WorkbenchAsyncDataTree),j=function(e){"use strict";t(c)(r,e);var n=t(f)(r);function r(e,o,s,l,u,c,d,h,f,p){var v;return t(a)(this,r),(v=n.call(this,e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},c))._defaultTreeKeyboardSupport=o,v.layoutData=s,v._textModelResolverService=u,v._instantiationService=c,v._peekViewService=d,v._uriLabel=h,v._undoRedoService=f,v._keybindingService=p,v._disposeOnNewModel=new(0,y.DisposableStore),v._callOnDispose=new(0,y.DisposableStore),v._onDidSelectReference=new(0,m.Emitter),v.onDidSelectReference=v._onDidSelectReference.event,v._dim=new g.Dimension(0,0),v._applyTheme(l.getColorTheme()),v._callOnDispose.add(l.onDidColorThemeChange(v._applyTheme.bind(t(i)(v)))),v._peekViewService.addExclusiveWidget(e,t(i)(v)),v.create(),v}return t(s)(r,[{key:"dispose",value:function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,y.dispose)(this._preview),(0,y.dispose)(this._previewNotAvailableMessage),(0,y.dispose)(this._tree),(0,y.dispose)(this._previewModelReference),this._splitView.dispose(),t(l)(t(u)(r.prototype),"dispose",this).call(this)}},{key:"_applyTheme",value:function(e){var t=e.getColor(M.peekViewBorder)||v.Color.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(M.peekViewTitleBackground)||v.Color.transparent,primaryHeadingColor:e.getColor(M.peekViewTitleForeground),secondaryHeadingColor:e.getColor(M.peekViewTitleInfoForeground)})}},{key:"show",value:function(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),t(l)(t(u)(r.prototype),"show",this).call(this,e,this.layoutData.heightInLines||18)}},{key:"focusOnReferenceTree",value:function(){this._tree.domFocus()}},{key:"focusOnPreviewEditor",value:function(){this._preview.focus()}},{key:"isPreviewEditorFocused",value:function(){return this._preview.hasTextFocus()}},{key:"_onTitleClick",value:function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}},{key:"_fillBody",value:function(e){var t=this;this.setCssClass("reference-zone-widget"),this._messageContainer=g.append(e,g.$("div.messages")),g.hide(this._messageContainer),this._splitView=new(0,N.SplitView)(e,{orientation:1}),this._previewContainer=g.append(e,g.$("div.preview.inline"));this._preview=this._instantiationService.createInstance(k.EmbeddedCodeEditorWidget,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),g.hide(this._previewContainer),this._previewNotAvailableMessage=new(0,x.TextModel)(E.localize("missingPreviewMessage","no preview available"),x.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=g.append(e,g.$("div.ref-tree.inline"));var n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new(0,S.AccessibilityProvider),keyboardNavigationLabelProvider:this._instantiationService.createInstance(S.StringRepresentationProvider),identityProvider:new(0,S.IdentityProvider),openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:M.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(g.addStandardDisposableListener(this._treeContainer,"keydown",(function(e){e.equals(9)&&(t._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(V,"ReferencesWidget",this._treeContainer,new(0,S.Delegate),[this._instantiationService.createInstance(S.FileReferencesRenderer),this._instantiationService.createInstance(S.OneReferenceRenderer)],this._instantiationService.createInstance(S.DataSource),n),this._splitView.addView({onDidChange:m.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(e){t._preview.layout({height:t._dim.height,width:e})}},N.Sizing.Distribute),this._splitView.addView({onDidChange:m.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(e){t._treeContainer.style.height="".concat(t._dim.height,"px"),t._treeContainer.style.width="".concat(e,"px"),t._tree.layout(t._dim.height,e)}},N.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange((function(){t._dim.width&&(t.layoutData.ratio=t._splitView.getViewSize(0)/t._dim.width)}),void 0));var r=function(e,n){e instanceof T.OneReference&&("show"===n&&t._revealReference(e,!1),t._onDidSelectReference.fire({element:e,kind:n,source:"tree"}))};this._tree.onDidOpen((function(e){e.sideBySide?r(e.element,"side"):e.editorOptions.pinned?r(e.element,"goto"):r(e.element,"show")})),g.hide(this._treeContainer)}},{key:"_onWidth",value:function(e){this._dim&&this._doLayoutBody(this._dim.height,e)}},{key:"_doLayoutBody",value:function(e,n){t(l)(t(u)(r.prototype),"_doLayoutBody",this).call(this,e,n),this._dim=new g.Dimension(n,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)}},{key:"setSelection",value:function(e){var t=this;return this._revealReference(e,!0).then((function(){t._model&&(t._tree.setSelection([e]),t._tree.setFocus([e]))}))}},{key:"setModel",value:function(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}},{key:"_onNewModel",value:function(){var e=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=E.localize("noResults","No results"),g.show(this._messageContainer),Promise.resolve(void 0)):(g.hide(this._messageContainer),this._decorationsManager=new W(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((function(t){return e._tree.rerender(t)}))),this._disposeOnNewModel.add(this._preview.onMouseDown((function(t){var n=t.event,r=t.target;if(2===n.detail){var i=e._getFocusedReference();i&&e._onDidSelectReference.fire({element:{uri:i.uri,range:r.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})}}))),this.container.classList.add("results-loaded"),g.show(this._treeContainer),g.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}},{key:"_getFocusedReference",value:function(){var e=t(d)(this._tree.getFocus(),1)[0];return e instanceof T.OneReference?e:e instanceof T.FileReferences&&e.children.length>0?e.children[0]:void 0}},{key:"revealReference",value:function(e){return z(this,void 0,void 0,t(p).mark((function n(){return t(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._revealReference(e,!1);case 2:this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"});case 3:case"end":return t.stop()}}),n,this)})))}},{key:"_revealReference",value:function(e,n){return z(this,void 0,void 0,t(p).mark((function r(){var i,o,a,s,l;return t(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._revealedReference!==e){t.next=2;break}return t.abrupt("return");case 2:if(this._revealedReference=e,e.uri.scheme!==b.Schemas.inMemory?this.setTitle((0,_.basenameOrAuthority)(e.uri),this._uriLabel.getUriLabel((0,_.dirname)(e.uri))):this.setTitle(E.localize("peekView.alternateTitle","References")),i=this._textModelResolverService.createModelReference(e.uri),this._tree.getInput()!==e.parent){t.next=9;break}this._tree.reveal(e),t.next=13;break;case 9:return n&&this._tree.reveal(e.parent),t.next=12,this._tree.expand(e.parent);case 12:this._tree.reveal(e);case 13:return t.next=15,i;case 15:if(o=t.sent,this._model){t.next=19;break}return o.dispose(),t.abrupt("return");case 19:(0,y.dispose)(this._previewModelReference),(a=o.object)?(s=this._preview.getModel()===a.textEditorModel?0:1,l=C.Range.lift(e.range).collapseToStart(),this._previewModelReference=o,this._preview.setModel(a.textEditorModel),this._preview.setSelection(l),this._preview.revealRangeInCenter(l,s)):(this._preview.setModel(this._previewNotAvailableMessage),o.dispose());case 22:case"end":return t.stop()}}),r,this)})))}}]),r}(M.PeekViewWidget);j=F([B(3,A.IThemeService),B(4,w.ITextModelService),B(5,D.IInstantiationService),B(6,M.IPeekViewService),B(7,I.ILabelService),B(8,P.IUndoRedoService),B(9,O.IKeybindingService)],j),(0,A.registerThemingParticipant)((function(e,t){var n=e.getColor(M.peekViewResultsMatchHighlight);n&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ".concat(n,"; }"));var r=e.getColor(M.peekViewEditorMatchHighlight);r&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ".concat(r,"; }"));var i=e.getColor(M.peekViewEditorMatchHighlightBorder);i&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ".concat(i,"; box-sizing: border-box; }"));var o=e.getColor(L.activeContrastBorder);o&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ".concat(o,"; box-sizing: border-box; }"));var a=e.getColor(M.peekViewResultsBackground);a&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: ".concat(a,"; }"));var s=e.getColor(M.peekViewResultsMatchForeground);s&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: ".concat(s,"; }"));var l=e.getColor(M.peekViewResultsFileForeground);l&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ".concat(l,"; }"));var u=e.getColor(M.peekViewResultsSelectionBackground);u&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ".concat(u,"; }"));var c=e.getColor(M.peekViewResultsSelectionForeground);c&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ".concat(c," !important; }"));var d=e.getColor(M.peekViewEditorBackground);d&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {"+"\tbackground-color: ".concat(d,";")+"}");var h=e.getColor(M.peekViewEditorGutterBackground);h&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {"+"\tbackground-color: ".concat(h,";")+"}")}))})),o.register("jaE6L",(function(n,r){e(n.exports,"DataSource",(function(){return D}),(function(e){return D=e})),e(n.exports,"Delegate",(function(){return I}),(function(e){return I=e})),e(n.exports,"FileReferencesRenderer",(function(){return M}),(function(e){return M=e})),e(n.exports,"OneReferenceRenderer",(function(){return N}),(function(e){return N=e})),e(n.exports,"StringRepresentationProvider",(function(){return R}),(function(e){return R=e})),e(n.exports,"IdentityProvider",(function(){return L}),(function(e){return L=e})),e(n.exports,"AccessibilityProvider",(function(){return P}),(function(e){return P=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("cTZWx"),c=o("gy8en"),d=o("9jdvr"),h=o("GNPNB"),f=o("hnqmL"),p=o("4qRit"),g=o("dxsg8"),v=o("i3Iko"),m=o("dKkCN"),y=o("1HKEb"),b=o("5Z1yh"),_=o("glSIC"),k=o("e1Jmh"),C=o("hwMdw"),x=o("hBaq0"),w=o("kf4PV"),S=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,r){t(n,r,e)}},D=function(){"use strict";function e(n){t(i)(this,e),this._resolverService=n}return t(a)(e,[{key:"hasChildren",value:function(e){return e instanceof u.ReferencesModel||e instanceof u.FileReferences}},{key:"getChildren",value:function(e){if(e instanceof u.ReferencesModel)return e.groups;if(e instanceof u.FileReferences)return e.resolve(this._resolverService).then((function(e){return e.children}));throw new Error("bad tree")}}]),e}();D=S([E(0,c.ITextModelService)],D);var I=function(){"use strict";function e(){t(i)(this,e)}return t(a)(e,[{key:"getHeight",value:function(){return 23}},{key:"getTemplateId",value:function(e){return e instanceof u.FileReferences?M.id:N.id}}]),e}(),R=function(){"use strict";function e(n){t(i)(this,e),this._keybindingService=n}return t(a)(e,[{key:"getKeyboardNavigationLabel",value:function(e){var t;if(e instanceof u.OneReference){var n=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(n)return n.value}return(0,b.basename)(e.uri)}}]),e}();R=S([E(0,C.IKeybindingService)],R);var L=function(){"use strict";function e(){t(i)(this,e)}return t(a)(e,[{key:"getId",value:function(e){return e instanceof u.OneReference?e.id:e.uri}}]),e}(),A=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o,a){var s;t(i)(this,r),(s=n.call(this))._uriLabel=o;var l=document.createElement("div");return l.classList.add("reference-file"),s.file=s._register(new(0,d.IconLabel)(l,{supportHighlights:!0})),s.badge=new(0,h.CountBadge)(v.append(l,v.$(".count"))),s._register((0,g.attachBadgeStyler)(s.badge,a)),e.appendChild(l),s}return t(a)(r,[{key:"set",value:function(e,t){var n=(0,b.dirname)(e.uri);this.file.setLabel((0,y.getBaseLabel)(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});var r=e.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat((0,m.localize)("referencesCount","{0} references",r)):this.badge.setTitleFormat((0,m.localize)("referenceCount","{0} reference",r))}}]),r}(_.Disposable);A=S([E(1,f.ILabelService),E(2,p.IThemeService)],A);var M=function(){"use strict";function e(n){t(i)(this,e),this._instantiationService=n,this.templateId=e.id}return t(a)(e,[{key:"renderTemplate",value:function(e){return this._instantiationService.createInstance(A,e)}},{key:"renderElement",value:function(e,t,n){n.set(e.element,(0,x.createMatches)(e.filterData))}},{key:"disposeTemplate",value:function(e){e.dispose()}}]),e}();M.id="FileReferencesRenderer",M=S([E(0,k.IInstantiationService)],M);var T=function(){"use strict";function e(n){t(i)(this,e),this.label=new(0,w.HighlightedLabel)(n,!1)}return t(a)(e,[{key:"set",value:function(e,t){var n,r=null===(n=e.parent.getPreview(e))||void 0===n?void 0:n.preview(e.range);if(r&&r.value){var i=r.value,o=r.highlight;t&&!x.FuzzyScore.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(i,(0,x.createMatches)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(i,[o]))}else this.label.set("".concat((0,b.basename)(e.uri),":").concat(e.range.startLineNumber+1,":").concat(e.range.startColumn+1))}}]),e}(),N=function(){"use strict";function e(){t(i)(this,e),this.templateId=e.id}return t(a)(e,[{key:"renderTemplate",value:function(e){return new T(e)}},{key:"renderElement",value:function(e,t,n){n.set(e.element,e.filterData)}},{key:"disposeTemplate",value:function(){}}]),e}();N.id="OneReferenceRenderer";var P=function(){"use strict";function e(){t(i)(this,e)}return t(a)(e,[{key:"getWidgetAriaLabel",value:function(){return(0,m.localize)("treeAriaLabel","References")}},{key:"getAriaLabel",value:function(e){return e.ariaMessage}}]),e}()})),o.register("3bUdn",(function(n,r){e(n.exports,"ISymbolNavigationService",(function(){return S}),(function(e){return S=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("6x2MV"),c=o("e1Jmh"),d=o("lM5Mj"),h=o("ca2Gx"),f=o("kT6fp"),p=o("flIZY"),g=o("Og1nm"),v=o("glSIC"),m=o("4YObi"),y=o("dKkCN"),b=o("hwMdw"),_=o("ds0Oh"),k=o("5Z1yh"),C=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},x=function(e,t){return function(n,r){t(n,r,e)}},w=new(0,u.RawContextKey)("hasSymbols",!1,(0,y.localize)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),S=(0,c.createDecorator)("ISymbolNavigationService"),E=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this._editorService=r,this._notificationService=o,this._keybindingService=a,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=w.bindTo(n)}return t(a)(e,[{key:"reset",value:function(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}},{key:"put",value:function(e){var t=this,n=e.parent.parent;if(n.references.length<=1)this.reset();else{this._currentModel=n,this._currentIdx=n.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var r=new D(this._editorService),i=r.onDidChange((function(e){if(!t._ignoreEditorChange){var r=t._editorService.getActiveCodeEditor();if(r){var i=r.getModel(),o=r.getPosition();if(i&&o){var a=!1,s=!1,l=!0,u=!1,c=void 0;try{for(var d,h=n.references[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;if((0,k.isEqual)(f.uri,i.uri))a=!0,s=s||g.Range.containsPosition(f.range,o);else if(a)break}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}a&&s||t.reset()}}}}));this._currentState=(0,v.combinedDisposable)(r,i)}}},{key:"revealNext",value:function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:g.Range.collapseToStart(n.range),selectionRevealType:3}},e).finally((function(){t._ignoreEditorChange=!1}))}},{key:"_showMessage",value:function(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();var t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?(0,y.localize)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,y.localize)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}}]),e}();E=C([x(0,u.IContextKeyService),x(1,p.ICodeEditorService),x(2,_.INotificationService),x(3,b.IKeybindingService)],E),(0,d.registerSingleton)(S,E,!0),(0,f.registerEditorCommand)(new(function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:w,kbOpts:{weight:100,primary:70}})}return t(a)(r,[{key:"runEditorCommand",value:function(e,t){return e.get(S).revealNext(t)}}]),r}(f.EditorCommand))),h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:w,primary:9,handler:function(e){e.get(S).reset()}});var D=function(){"use strict";function e(n){t(i)(this,e),this._listener=new Map,this._disposables=new(0,v.DisposableStore),this._onDidChange=new(0,m.Emitter),this.onDidChange=this._onDidChange.event,this._disposables.add(n.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(n.onCodeEditorAdd(this._onDidAddEditor,this)),n.listCodeEditors().forEach(this._onDidAddEditor,this)}return t(a)(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._onDidChange.dispose(),(0,v.dispose)(this._listener.values())}},{key:"_onDidAddEditor",value:function(e){var t=this;this._listener.set(e,(0,v.combinedDisposable)(e.onDidChangeCursorPosition((function(n){return t._onDidChange.fire({editor:e})})),e.onDidChangeModelContent((function(n){return t._onDidChange.fire({editor:e})}))))}},{key:"_onDidRemoveEditor",value:function(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}}]),e}();D=C([x(0,p.ICodeEditorService)],D)})),o.register("lxkvT",(function(n,r){e(n.exports,"ClickLinkGesture",(function(){return m}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("glSIC"),c=o("4YObi"),d=o("4YgGD");function h(e,t){return!!e[t]}var f=function e(n,r){"use strict";t(i)(this,e),this.target=n.target,this.hasTriggerModifier=h(n.event,r.triggerModifier),this.hasSideBySideModifier=h(n.event,r.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=n.event.detail<=1},p=function e(n,r){"use strict";t(i)(this,e),this.keyCodeIsTriggerKey=n.keyCode===r.triggerKey,this.keyCodeIsSideBySideKey=n.keyCode===r.triggerSideBySideKey,this.hasTriggerModifier=h(n,r.triggerModifier)},g=function(){"use strict";function e(n,r,o,a){t(i)(this,e),this.triggerKey=n,this.triggerModifier=r,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=a}return t(a)(e,[{key:"equals",value:function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}]),e}();function v(e){return"altKey"===e?d.isMacintosh?new g(57,"metaKey",6,"altKey"):new g(5,"ctrlKey",6,"altKey"):d.isMacintosh?new g(6,"altKey",57,"metaKey"):new g(6,"altKey",5,"ctrlKey")}var m=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e){var o;return t(i)(this,r),(o=n.call(this))._onMouseMoveOrRelevantKeyDown=o._register(new(0,c.Emitter)),o.onMouseMoveOrRelevantKeyDown=o._onMouseMoveOrRelevantKeyDown.event,o._onExecute=o._register(new(0,c.Emitter)),o.onExecute=o._onExecute.event,o._onCancel=o._register(new(0,c.Emitter)),o.onCancel=o._onCancel.event,o._editor=e,o._opts=v(o._editor.getOption(68)),o._lastMouseMoveEvent=null,o._hasTriggerKeyOnMouseDown=!1,o._lineNumberOnMouseDown=0,o._register(o._editor.onDidChangeConfiguration((function(e){if(e.hasChanged(68)){var t=v(o._editor.getOption(68));if(o._opts.equals(t))return;o._opts=t,o._lastMouseMoveEvent=null,o._hasTriggerKeyOnMouseDown=!1,o._lineNumberOnMouseDown=0,o._onCancel.fire()}}))),o._register(o._editor.onMouseMove((function(e){return o._onEditorMouseMove(new f(e,o._opts))}))),o._register(o._editor.onMouseDown((function(e){return o._onEditorMouseDown(new f(e,o._opts))}))),o._register(o._editor.onMouseUp((function(e){return o._onEditorMouseUp(new f(e,o._opts))}))),o._register(o._editor.onKeyDown((function(e){return o._onEditorKeyDown(new p(e,o._opts))}))),o._register(o._editor.onKeyUp((function(e){return o._onEditorKeyUp(new p(e,o._opts))}))),o._register(o._editor.onMouseDrag((function(){return o._resetHandler()}))),o._register(o._editor.onDidChangeCursorSelection((function(e){return o._onDidChangeCursorSelection(e)}))),o._register(o._editor.onDidChangeModel((function(e){return o._resetHandler()}))),o._register(o._editor.onDidChangeModelContent((function(){return o._resetHandler()}))),o._register(o._editor.onDidScrollChange((function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&o._resetHandler()}))),o}return t(a)(r,[{key:"_onDidChangeCursorSelection",value:function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}},{key:"_onEditorMouseMove",value:function(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}},{key:"_onEditorMouseDown",value:function(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}},{key:"_onEditorMouseUp",value:function(e){var t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}},{key:"_onEditorKeyDown",value:function(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}},{key:"_onEditorKeyUp",value:function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}},{key:"_resetHandler",value:function(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}]),r}(u.Disposable)})),o.register("9deRB",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("aLDYa"),c=o("kT6fp"),d=o("Og1nm"),h=o("7Zg88"),f=o("o3umD"),p=o("3hm3r"),g=o("lvhYu"),v=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this,i))._type=e,a}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){var n=[],r=t.getModel().getOptions(),i=t.getOption(17),o=t.getSelections().map((function(e,t){return{selection:e,index:t,ignoreFirstLine:!1}}));o.sort((function(e,t){return d.Range.compareRangesUsingStarts(e.selection,t.selection)}));for(var a=o[0],s=1;s<o.length;s++){var l=o[s];a.selection.endLineNumber===l.selection.startLineNumber&&(a.index<l.index?l.ignoreFirstLine=!0:(a.ignoreFirstLine=!0,a=l))}var u=!0,c=!1,h=void 0;try{for(var f,g=o[Symbol.iterator]();!(u=(f=g.next()).done);u=!0){var v=f.value;n.push(new(0,p.LineCommentCommand)(v.selection,r.tabSize,this._type,i.insertSpace,i.ignoreEmptyLines,v.ignoreFirstLine))}}catch(e){c=!0,h=e}finally{try{u||null==g.return||g.return()}finally{if(c)throw h}}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}}]),o}(c.EditorAction),m=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,0,{id:"editor.action.commentLine",label:l.localize("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:h.EditorContextKeys.writable,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:l.localize({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}return i}(v),y=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,1,{id:"editor.action.addCommentLine",label:l.localize("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:h.EditorContextKeys.writable,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,u.KeyChord)(2089,2081),weight:100}})}return i}(v),b=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,2,{id:"editor.action.removeCommentLine",label:l.localize("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:h.EditorContextKeys.writable,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,u.KeyChord)(2089,2099),weight:100}})}return i}(v),_=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.blockComment",label:l.localize("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:h.EditorContextKeys.writable,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:l.localize({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){var n=t.getOption(17),r=[],i=t.getSelections(),o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.push(new(0,f.BlockCommentCommand)(c,n.insertSpace))}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}}]),o}(c.EditorAction);(0,c.registerEditorAction)(m),(0,c.registerEditorAction)(y),(0,c.registerEditorAction)(b),(0,c.registerEditorAction)(_)})),o.register("o3umD",(function(n,r){e(n.exports,"BlockCommentCommand",(function(){return h}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("6JJ1Z"),l=o("kaKvC"),u=o("Og1nm"),c=o("9cZTD"),d=o("95goo"),h=function(){"use strict";function e(n,r){t(i)(this,e),this._selection=n,this._insertSpace=r,this._usedEndToken=null}return t(a)(e,[{key:"_createOperationsForBlockComment",value:function(t,n,r,i,o,a){var s,l=t.startLineNumber,c=t.startColumn,d=t.endLineNumber,h=t.endColumn,f=o.getLineContent(l),p=o.getLineContent(d),g=f.lastIndexOf(n,c-1+n.length),v=p.indexOf(r,h-1-r.length);if(-1!==g&&-1!==v)if(l===d){f.substring(g+n.length,v).indexOf(r)>=0&&(g=-1,v=-1)}else{var m=f.substring(g+n.length),y=p.substring(0,v);(m.indexOf(r)>=0||y.indexOf(r)>=0)&&(g=-1,v=-1)}-1!==g&&-1!==v?(i&&g+n.length<f.length&&32===f.charCodeAt(g+n.length)&&(n+=" "),i&&v>0&&32===p.charCodeAt(v-1)&&(r=" "+r,v-=1),s=e._createRemoveBlockCommentOperations(new(0,u.Range)(l,g+n.length+1,d,v+1),n,r)):(s=e._createAddBlockCommentOperations(t,n,r,this._insertSpace),this._usedEndToken=1===s.length?r:null);var b=!0,_=!1,k=void 0;try{for(var C,x=s[Symbol.iterator]();!(b=(C=x.next()).done);b=!0){var w=C.value;a.addTrackedEditOperation(w.range,w.text)}}catch(e){_=!0,k=e}finally{try{b||null==x.return||x.return()}finally{if(_)throw k}}}},{key:"getEditOperations",value:function(e,t){var n=this._selection.startLineNumber,r=this._selection.startColumn;e.tokenizeIfCheap(n);var i=e.getLanguageIdAtPosition(n,r),o=d.LanguageConfigurationRegistry.getComments(i);o&&o.blockCommentStartToken&&o.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,o.blockCommentStartToken,o.blockCommentEndToken,this._insertSpace,e,t)}},{key:"computeCursorState",value:function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var r=n[0],i=n[1];return new(0,c.Selection)(r.range.endLineNumber,r.range.endColumn,i.range.startLineNumber,i.range.startColumn)}var o=n[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new(0,c.Selection)(o.endLineNumber,o.endColumn+a,o.endLineNumber,o.endColumn+a)}}],[{key:"_haystackHasNeedleAtOffset",value:function(e,t,n){if(n<0)return!1;var r=t.length;if(n+r>e.length)return!1;for(var i=0;i<r;i++){var o=e.charCodeAt(n+i),a=t.charCodeAt(i);if(o!==a&&!(o>=65&&o<=90&&o+32===a||a>=65&&a<=90&&a+32===o))return!1}return!0}},{key:"_createRemoveBlockCommentOperations",value:function(e,t,n){var r=[];return u.Range.isEmpty(e)?r.push(s.EditOperation.delete(new(0,u.Range)(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(r.push(s.EditOperation.delete(new(0,u.Range)(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),r.push(s.EditOperation.delete(new(0,u.Range)(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),r}},{key:"_createAddBlockCommentOperations",value:function(e,t,n,r){var i=[];return u.Range.isEmpty(e)?i.push(s.EditOperation.replace(new(0,u.Range)(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(i.push(s.EditOperation.insert(new(0,l.Position)(e.startLineNumber,e.startColumn),t+(r?" ":""))),i.push(s.EditOperation.insert(new(0,l.Position)(e.endLineNumber,e.endColumn),(r?" ":"")+n))),i}}]),e}()})),o.register("3hm3r",(function(n,r){e(n.exports,"LineCommentCommand",(function(){return p}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("flPya"),l=o("6JJ1Z"),u=o("kaKvC"),c=o("Og1nm"),d=o("9cZTD"),h=o("95goo"),f=o("o3umD"),p=function(){"use strict";function e(n,r,o,a,s,l){t(i)(this,e),this._selection=n,this._tabSize=r,this._type=o,this._insertSpace=a,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=l||!1}return t(a)(e,[{key:"_executeLineComments",value:function(t,n,r,i){var o;r.shouldRemoveComments?o=e._createRemoveLineCommentsOperations(r.lines,i.startLineNumber):(e._normalizeInsertionPoint(t,r.lines,i.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(r.lines,i.startLineNumber));for(var a=new(0,u.Position)(i.positionLineNumber,i.positionColumn),s=0,l=o.length;s<l;s++){if(n.addEditOperation(o[s].range,o[s].text),c.Range.isEmpty(o[s].range)&&c.Range.getStartPosition(o[s].range).equals(a))t.getLineContent(a.lineNumber).length+1===a.column&&(this._deltaColumn=(o[s].text||"").length)}this._selectionId=n.trackSelection(i)}},{key:"_attemptRemoveBlockComment",value:function(e,t,n,r){var i=t.startLineNumber,o=t.endLineNumber,a=r.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),s=e.getLineContent(i).lastIndexOf(n,a-1),l=e.getLineContent(o).indexOf(r,t.endColumn-1-n.length);return-1!==s&&-1===l&&(l=e.getLineContent(i).indexOf(r,s+n.length),o=i),-1===s&&-1!==l&&(s=e.getLineContent(o).lastIndexOf(n,l),i=o),!t.isEmpty()||-1!==s&&-1!==l||-1!==(s=e.getLineContent(i).indexOf(n))&&(l=e.getLineContent(i).indexOf(r,s+n.length)),-1!==s&&32===e.getLineContent(i).charCodeAt(s+n.length)&&(n+=" "),-1!==l&&32===e.getLineContent(o).charCodeAt(l-1)&&(r=" "+r,l-=1),-1!==s&&-1!==l?f.BlockCommentCommand._createRemoveBlockCommentOperations(new(0,c.Range)(i,s+n.length+1,o,l+1),n,r):null}},{key:"_executeBlockComment",value:function(e,t,n){e.tokenizeIfCheap(n.startLineNumber);var r=e.getLanguageIdAtPosition(n.startLineNumber,1),i=h.LanguageConfigurationRegistry.getComments(r);if(i&&i.blockCommentStartToken&&i.blockCommentEndToken){var o=i.blockCommentStartToken,a=i.blockCommentEndToken,l=this._attemptRemoveBlockComment(e,n,o,a);if(!l){if(n.isEmpty()){var u=e.getLineContent(n.startLineNumber),d=s.firstNonWhitespaceIndex(u);-1===d&&(d=u.length),l=f.BlockCommentCommand._createAddBlockCommentOperations(new(0,c.Range)(n.startLineNumber,d+1,n.startLineNumber,u.length+1),o,a,this._insertSpace)}else l=f.BlockCommentCommand._createAddBlockCommentOperations(new(0,c.Range)(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),o,a,this._insertSpace);1===l.length&&(this._deltaColumn=o.length+1)}this._selectionId=t.trackSelection(n);var p=!0,g=!1,v=void 0;try{for(var m,y=l[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;t.addEditOperation(b.range,b.text)}}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}}}},{key:"getEditOperations",value:function(t,n){var r=this._selection;if(this._moveEndPositionDown=!1,r.startLineNumber===r.endLineNumber&&this._ignoreFirstLine)return n.addEditOperation(new(0,c.Range)(r.startLineNumber,t.getLineMaxColumn(r.startLineNumber),r.startLineNumber+1,1),r.startLineNumber===t.getLineCount()?"":"\n"),void(this._selectionId=n.trackSelection(r));r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,t.getLineMaxColumn(r.endLineNumber-1)));var i=e._gatherPreflightData(this._type,this._insertSpace,t,r.startLineNumber,r.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return i.supported?this._executeLineComments(t,n,i,r):this._executeBlockComment(t,n,r)}},{key:"computeCursorState",value:function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new(0,d.Selection)(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}},{key:"_createAddLineCommentsOperations",value:function(e,t){for(var n=[],r=this._insertSpace?" ":"",i=0,o=e.length;i<o;i++){var a=e[i];a.ignore||n.push(l.EditOperation.insert(new(0,u.Position)(t+i,a.commentStrOffset+1),a.commentStr+r))}return n}}],[{key:"_gatherPreflightCommentStrings",value:function(e,t,n){e.tokenizeIfCheap(t);var r=e.getLanguageIdAtPosition(t,1),i=h.LanguageConfigurationRegistry.getComments(r),o=i?i.lineCommentToken:null;if(!o)return null;for(var a=[],s=0,l=n-t+1;s<l;s++)a[s]={ignore:!1,commentStr:o,commentStrOffset:0,commentStrLength:o.length};return a}},{key:"_analyzeLines",value:function(e,t,n,r,i,o,a){var l,u=!0;l=0===e||1!==e;for(var c=0,d=r.length;c<d;c++){var h=r[c],p=i+c;if(p===i&&a)h.ignore=!0;else{var g=n.getLineContent(p),v=s.firstNonWhitespaceIndex(g);if(-1!==v){if(u=!1,h.ignore=!1,h.commentStrOffset=v,l&&!f.BlockCommentCommand._haystackHasNeedleAtOffset(g,h.commentStr,v)&&(0===e?l=!1:1===e||(h.ignore=!0)),l&&t){var m=v+h.commentStrLength;m<g.length&&32===g.charCodeAt(m)&&(h.commentStrLength+=1)}}else h.ignore=o,h.commentStrOffset=g.length}}if(0===e&&u){l=!1;for(var y=0,b=r.length;y<b;y++)r[y].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:r}}},{key:"_gatherPreflightData",value:function(t,n,r,i,o,a,s){var l=e._gatherPreflightCommentStrings(r,i,o);return null===l?{supported:!1}:e._analyzeLines(t,n,r,l,i,a,s)}},{key:"_createRemoveLineCommentsOperations",value:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];o.ignore||n.push(l.EditOperation.delete(new(0,c.Range)(t+r,o.commentStrOffset+1,t+r,o.commentStrOffset+o.commentStrLength+1)))}return n}},{key:"nextVisibleColumn",value:function(e,t,n,r){return n?e+(t-e%t):e+r}},{key:"_normalizeInsertionPoint",value:function(t,n,r,i){for(var o,a,s=1073741824,l=0,u=n.length;l<u;l++)if(!n[l].ignore){for(var c=t.getLineContent(r+l),d=0,h=0,f=n[l].commentStrOffset;d<s&&h<f;h++)d=e.nextVisibleColumn(d,i,9===c.charCodeAt(h),1);d<s&&(s=d)}s=Math.floor(s/i)*i;for(var p=0,g=n.length;p<g;p++)if(!n[p].ignore){var v=t.getLineContent(r+p),m=0;for(o=0,a=n[p].commentStrOffset;m<s&&o<a;o++)m=e.nextVisibleColumn(m,i,9===v.charCodeAt(o),1);n[p].commentStrOffset=m>s?o-1:o}}}]),e}()})),o.register("1j1jG",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("56Cfp"),l=o("aV5UR"),u=o("dKkCN"),c=o("i3Iko"),d=o("gO8TU"),h=o("glSIC"),f=o("kT6fp"),p=o("7Zg88"),g=o("lvhYu"),v=o("6x2MV"),m=o("yGu5B"),y=o("hwMdw"),b=o("aYNSH"),_=o("4YgGD"),k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,r){t(n,r,e)}},x=function(){"use strict";function e(n,i,o,a,s,l){var u=this;t(r)(this,e),this._contextMenuService=i,this._contextViewService=o,this._contextKeyService=a,this._keybindingService=s,this._menuService=l,this._toDispose=new(0,h.DisposableStore),this._contextMenuIsBeingShownCount=0,this._editor=n,this._toDispose.add(this._editor.onContextMenu((function(e){return u._onContextMenu(e)}))),this._toDispose.add(this._editor.onMouseWheel((function(e){if(u._contextMenuIsBeingShownCount>0){var t=u._contextViewService.getContextViewElement(),n=e.srcElement;n.shadowRoot&&c.getShadowRoot(t)===n.shadowRoot||u._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((function(e){58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),u.showContextMenu())})))}return t(i)(e,[{key:"_onContextMenu",value:function(e){if(this._editor.hasModel()){if(!this._editor.getOption(18))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12!==e.target.type&&(e.event.preventDefault(),6===e.target.type||7===e.target.type||1===e.target.type)){if(this._editor.focus(),e.target.position){var t=!1,n=!0,r=!1,i=void 0;try{for(var o,a=this._editor.getSelections()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(o.value.containsPosition(e.target.position)){t=!0;break}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}t||this._editor.setPosition(e.target.position)}var s=null;1!==e.target.type&&(s={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(s)}}}},{key:"showContextMenu",value:function(e){if(this._editor.getOption(18)&&this._editor.hasModel())if(this._contextMenuService){var t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?g.MenuId.SimpleEditorContext:g.MenuId.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}else this._editor.focus()}},{key:"_getMenuActions",value:function(e,n){var r=[],i=this._menuService.createMenu(n,this._contextKeyService),o=i.getActions({arg:e.uri});i.dispose();var a=!0,l=!1,u=void 0;try{for(var c,h=o[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var f=c.value,p=t(s)(f,2)[1],v=0,m=!0,y=!1,b=void 0;try{for(var _,k=p[Symbol.iterator]();!(m=(_=k.next()).done);m=!0){var C=_.value;if(C instanceof g.SubmenuItemAction){var x=this._getMenuActions(e,C.item.submenu);x.length>0&&(r.push(new(0,d.SubmenuAction)(C.id,C.label,x)),v++)}else r.push(C),v++}}catch(e){y=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(y)throw b}}v&&r.push(new(0,d.Separator))}}catch(e){l=!0,u=e}finally{try{a||null==h.return||h.return()}finally{if(l)throw u}}return r.length&&r.pop(),r}},{key:"_doShowContextMenu",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this;if(this._editor.hasModel()){var r=this._editor.getOption(51);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var i=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),o=c.getDomNodePagePosition(this._editor.getDomNode()),a=o.left+i.left,s=o.top+i.top+i.height;t={x:a,y:s}}var l=this._editor.getOption(113)&&!_.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:function(){return t},getActions:function(){return e},getActionViewItem:function(e){var t=n._keybindingFor(e);if(t)return new(0,b.ActionViewItem)(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});var r=e;return"function"==typeof r.getActionViewItem?r.getActionViewItem():new(0,b.ActionViewItem)(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(e){return n._keybindingFor(e)},onHide:function(e){n._contextMenuIsBeingShownCount--,n._editor.focus(),n._editor.updateOptions({hover:r})}})}}},{key:"_keybindingFor",value:function(e){return this._keybindingService.lookupKeybinding(e.id)}},{key:"dispose",value:function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();x.ID="editor.contrib.contextmenu",x=k([C(1,m.IContextMenuService),C(2,m.IContextViewService),C(3,v.IContextKeyService),C(4,y.IKeybindingService),C(5,g.IMenuService)],x);var w=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.showContextMenu",label:u.localize("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){x.get(t).showContextMenu()}}]),o}(f.EditorAction);(0,f.registerEditorContribution)(x.ID,x),(0,f.registerEditorAction)(w)})),o.register("8dNbQ",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("glSIC"),c=o("kT6fp"),d=o("7Zg88"),h=function(){"use strict";function e(n){t(r)(this,e),this.selections=n}return t(i)(e,[{key:"equals",value:function(e){var t=this.selections.length;if(t!==e.selections.length)return!1;for(var n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}}]),e}(),f=function e(n,i,o){"use strict";t(r)(this,e),this.cursorState=n,this.scrollTop=i,this.scrollLeft=o},p=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e){var i;return t(r)(this,o),(i=n.call(this))._editor=e,i._isCursorUndoRedo=!1,i._undoStack=[],i._redoStack=[],i._register(e.onDidChangeModel((function(e){i._undoStack=[],i._redoStack=[]}))),i._register(e.onDidChangeModelContent((function(e){i._undoStack=[],i._redoStack=[]}))),i._register(e.onDidChangeCursorSelection((function(t){if(!i._isCursorUndoRedo&&t.oldSelections&&t.oldModelVersionId===t.modelVersionId){var n=new h(t.oldSelections);i._undoStack.length>0&&i._undoStack[i._undoStack.length-1].cursorState.equals(n)||(i._undoStack.push(new f(n,e.getScrollTop(),e.getScrollLeft())),i._redoStack=[],i._undoStack.length>50&&i._undoStack.shift())}}))),i}return t(i)(o,[{key:"cursorUndo",value:function(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new f(new h(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}},{key:"cursorRedo",value:function(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new f(new h(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}},{key:"_applyState",value:function(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}],[{key:"get",value:function(e){return e.getContribution(o.ID)}}]),o}(u.Disposable);p.ID="editor.contrib.cursorUndoRedoController";var g=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"cursorUndo",label:l.localize("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t,n){p.get(t).cursorUndo()}}]),o}(c.EditorAction),v=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"cursorRedo",label:l.localize("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t,n){p.get(t).cursorRedo()}}]),o}(c.EditorAction);(0,c.registerEditorContribution)(p.ID,p),(0,c.registerEditorAction)(g),(0,c.registerEditorAction)(v)})),o.register("bQzKF",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("k0Xaj"),s=o("5464t"),l=o("hgtn2"),u=o("aV5UR"),c=o("glSIC"),d=o("4YgGD"),h=o("kT6fp"),f=o("kaKvC"),p=o("Og1nm"),g=o("9cZTD"),v=o("fQF5z"),m=o("3bY1c");function y(e){return d.isMacintosh?e.altKey:e.ctrlKey}var b=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(e){var i;return t(r)(this,o),(i=n.call(this))._editor=e,i._register(i._editor.onMouseDown((function(e){return i._onEditorMouseDown(e)}))),i._register(i._editor.onMouseUp((function(e){return i._onEditorMouseUp(e)}))),i._register(i._editor.onMouseDrag((function(e){return i._onEditorMouseDrag(e)}))),i._register(i._editor.onMouseDrop((function(e){return i._onEditorMouseDrop(e)}))),i._register(i._editor.onMouseDropCanceled((function(){return i._onEditorMouseDropCanceled()}))),i._register(i._editor.onKeyDown((function(e){return i.onEditorKeyDown(e)}))),i._register(i._editor.onKeyUp((function(e){return i.onEditorKeyUp(e)}))),i._register(i._editor.onDidBlurEditorWidget((function(){return i.onEditorBlur()}))),i._register(i._editor.onDidBlurEditorText((function(){return i.onEditorBlur()}))),i._dndDecorationIds=[],i._mouseDown=!1,i._modifierPressed=!1,i._dragSelection=null,i}return t(i)(o,[{key:"onEditorBlur",value:function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}},{key:"onEditorKeyDown",value:function(e){this._editor.getOption(29)&&!this._editor.getOption(16)&&(y(e)&&(this._modifierPressed=!0),this._mouseDown&&y(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}},{key:"onEditorKeyUp",value:function(e){this._editor.getOption(29)&&!this._editor.getOption(16)&&(y(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===o.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}},{key:"_onEditorMouseDown",value:function(e){this._mouseDown=!0}},{key:"_onEditorMouseUp",value:function(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}},{key:"_onEditorMouseDrag",value:function(e){var t=e.target;if(null===this._dragSelection){var n=(this._editor.getSelections()||[]).filter((function(e){return t.position&&e.containsPosition(t.position)}));if(1!==n.length)return;this._dragSelection=n[0]}y(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}},{key:"_onEditorMouseDropCanceled",value:function(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}},{key:"_onEditorMouseDrop",value:function(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){var t=new(0,f.Position)(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){var n=null;if(e.event.shiftKey){var r=this._editor.getSelection();if(r){var i=r.selectionStartLineNumber,a=r.selectionStartColumn;n=[new(0,g.Selection)(i,a,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map((function(e){return e.containsPosition(t)?new(0,g.Selection)(t.lineNumber,t.column,t.lineNumber,t.column):e}));this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(y(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(o.ID,new(0,v.DragAndDropCommand)(this._dragSelection,t,y(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}},{key:"showAt",value:function(e){var t=[{range:new(0,p.Range)(e.lineNumber,e.column,e.lineNumber,e.column),options:o._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}},{key:"_removeDecoration",value:function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}},{key:"_hitContent",value:function(e){return 6===e.type||7===e.type}},{key:"_hitMargin",value:function(e){return 2===e.type||3===e.type||4===e.type}},{key:"dispose",value:function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,t(a)(t(s)(o.prototype),"dispose",this).call(this)}}]),o}(c.Disposable);b.ID="editor.contrib.dragAndDrop",b.TRIGGER_KEY_VALUE=d.isMacintosh?6:5,b._DECORATION_OPTIONS=m.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,h.registerEditorContribution)(b.ID,b)})),o.register("fQF5z",(function(n,r){e(n.exports,"DragAndDropCommand",(function(){return u}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("9cZTD"),l=o("Og1nm"),u=function(){"use strict";function e(n,r,o){t(i)(this,e),this.selection=n,this.targetPosition=r,this.copy=o,this.targetSelection=null}return t(a)(e,[{key:"getEditOperations",value:function(e,t){var n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new(0,l.Range)(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new(0,s.Selection)(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new(0,s.Selection)(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new(0,s.Selection)(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new(0,s.Selection)(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new(0,s.Selection)(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}},{key:"computeCursorState",value:function(e,t){return this.targetSelection}}]),e}()})),o.register("4kj3Y",(function(n,r){e(n.exports,"CommonFindController",(function(){return P}),(function(e){return P=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("aV5UR"),d=o("4GLgu"),h=o("dKkCN"),f=o("1xRRx"),p=o("glSIC"),g=o("flPya"),v=o("kT6fp"),m=o("7Zg88"),y=o("aI2c2"),b=o("jAQ0Z"),_=o("bxjv7"),k=o("VuH05"),C=o("lvhYu"),x=o("iO6iO"),w=o("6x2MV"),S=o("yGu5B"),E=o("hwMdw"),D=o("91bq0"),I=o("4qRit"),R=o("ds0Oh"),L=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t){return function(n,r){t(n,r,e)}},M=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},T=524288;function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.hasModel())return null;var r=e.getSelection();if("single"===t&&r.startLineNumber===r.endLineNumber||"multiple"===t)if(r.isEmpty()){var i=e.getConfiguredWordAtPosition(r.getStartPosition());if(i&&!1===n)return i.word}else if(e.getModel().getValueLengthInRange(r)<T)return e.getModel().getValueInRange(r);return null}var P=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,o,a,s){var l;return t(i)(this,r),(l=n.call(this))._editor=e,l._findWidgetVisible=y.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(o),l._contextKeyService=o,l._storageService=a,l._clipboardService=s,l._updateHistoryDelayer=new(0,f.Delayer)(500),l._state=l._register(new(0,_.FindReplaceState)),l.loadQueryState(),l._register(l._state.onFindReplaceStateChange((function(e){return l._onStateChanged(e)}))),l._model=null,l._register(l._editor.onDidChangeModel((function(){var e=l._editor.getModel()&&l._state.isRevealed;l.disposeModel(),l._state.change({searchScope:null,matchCase:l._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:l._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:l._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:l._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&l._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:l._editor.getOption(33).loop})}))),l}return t(a)(r,[{key:"editor",get:function(){return this._editor}},{key:"dispose",value:function(){this.disposeModel(),t(s)(t(l)(r.prototype),"dispose",this).call(this)}},{key:"disposeModel",value:function(){this._model&&(this._model.dispose(),this._model=null)}},{key:"_onStateChanged",value:function(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}},{key:"saveQueryState",value:function(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}},{key:"loadQueryState",value:function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}},{key:"isFindInputFocused",value:function(){return!!y.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}},{key:"getState",value:function(){return this._state}},{key:"closeFindWidget",value:function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}},{key:"toggleCaseSensitive",value:function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleWholeWords",value:function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleRegex",value:function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"togglePreserveCase",value:function(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleSearchScope",value:function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var e=this,t=this._editor.getSelections();t.map((function(t){return 1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t})).filter((function(e){return!!e})),t.length&&this._state.change({searchScope:t},!0)}}},{key:"setSearchString",value:function(e){this._state.isRegex&&(e=g.escapeRegExpCharacters(e)),this._state.change({searchString:e},!1)}},{key:"highlightFindOptions",value:function(){}},{key:"_start",value:function(e){return M(this,void 0,void 0,t(d).mark((function n(){var r,i,o,a,s;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.disposeModel(),this._editor.hasModel()){t.next=3;break}return t.abrupt("return");case 3:if(r={isRevealed:!0},"single"===e.seedSearchStringFromSelection?(i=N(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection))&&(this._state.isRegex?r.searchString=g.escapeRegExpCharacters(i):r.searchString=i):"multiple"!==e.seedSearchStringFromSelection||e.updateSearchScope||(o=N(this._editor,e.seedSearchStringFromSelection))&&(r.searchString=o),r.searchString||!e.seedSearchStringFromGlobalClipboard){t.next=12;break}return t.next=8,this.getGlobalBufferTerm();case 8:if(a=t.sent,this._editor.hasModel()){t.next=11;break}return t.abrupt("return");case 11:a&&(r.searchString=a);case 12:e.forceRevealReplace?r.isReplaceRevealed=!0:this._findWidgetVisible.get()||(r.isReplaceRevealed=!1),e.updateSearchScope&&(s=this._editor.getSelections()).some((function(e){return!e.isEmpty()}))&&(r.searchScope=s),r.loop=e.loop,this._state.change(r,!1),this._model||(this._model=new(0,y.FindModelBoundToEditorModel)(this._editor,this._state));case 17:case"end":return t.stop()}}),n,this)})))}},{key:"start",value:function(e){return this._start(e)}},{key:"moveToNextMatch",value:function(){return!!this._model&&(this._model.moveToNextMatch(),!0)}},{key:"moveToPrevMatch",value:function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}},{key:"replace",value:function(){return!!this._model&&(this._model.replace(),!0)}},{key:"replaceAll",value:function(){return!!this._model&&(this._model.replaceAll(),!0)}},{key:"selectAllMatches",value:function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}},{key:"getGlobalBufferTerm",value:function(){return M(this,void 0,void 0,t(d).mark((function e(){return t(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._editor.getOption(33).globalFindClipboard||!this._editor.hasModel()||this._editor.getModel().isTooLargeForSyncing()){e.next=2;break}return e.abrupt("return",this._clipboardService.readFindText());case 2:return e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})))}},{key:"setGlobalBufferTerm",value:function(e){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}}],[{key:"get",value:function(e){return e.getContribution(r.ID)}}]),r}(p.Disposable);P.ID="editor.contrib.findController";var O=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,o,a,s,l,u,c,d){var h;return t(i)(this,r),(h=n.call(this,e,a,c,d))._contextViewService=o,h._keybindingService=s,h._themeService=l,h._notificationService=u,h._widget=null,h._findOptionsWidget=null,h}return t(a)(r,[{key:"_start",value:function(e){var n=this,i=Object.create(null,{_start:{get:function(){return t(s)(t(l)(r.prototype),"_start",n)}}});return M(this,void 0,void 0,t(d).mark((function n(){var r,o,a;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._widget||this._createFindWidget(),r=this._editor.getSelection(),o=!1,t.t0=this._editor.getOption(33).autoFindInSelection,t.next="always"===t.t0?6:"never"===t.t0?8:"multiline"===t.t0?10:13;break;case 6:return o=!0,t.abrupt("break",14);case 8:return o=!1,t.abrupt("break",14);case 10:return a=!!r&&r.startLineNumber!==r.endLineNumber,o=a,t.abrupt("break",14);case 13:return t.abrupt("break",14);case 14:return e.updateSearchScope=o,t.next=17,i._start.call(this,e);case 17:this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput());case 18:case"end":return t.stop()}}),n,this)})))}},{key:"highlightFindOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}},{key:"_createFindWidget",value:function(){this._widget=this._register(new(0,k.FindWidget)(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new(0,b.FindOptionsWidget)(this._editor,this._state,this._keybindingService,this._themeService))}}]),r}(P=L([A(1,w.IContextKeyService),A(2,D.IStorageService),A(3,x.IClipboardService)],P));O=L([A(1,S.IContextViewService),A(2,w.IContextKeyService),A(3,E.IKeybindingService),A(4,I.IThemeService),A(5,R.INotificationService),A(6,D.IStorageService),A(7,x.IClipboardService)],O),(0,v.registerMultiEditorAction)(new(0,v.MultiEditorAction)({id:y.FIND_IDS.StartFindAction,label:h.localize("startFindAction","Find"),alias:"Find",precondition:w.ContextKeyExpr.or(m.EditorContextKeys.focus,w.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"3_find",title:h.localize({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(function(e,t,n){var r=P.get(t);return!!r&&r.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})}));var F=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{id:y.FIND_IDS.StartFindWithSelection,label:h.localize("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}return t(a)(r,[{key:"run",value:function(e,n){return M(this,void 0,void 0,t(d).mark((function e(){var r;return t(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=P.get(n))){e.next=5;break}return e.next=4,r.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop});case 4:r.setGlobalBufferTerm(r.getState().searchString);case 5:case"end":return e.stop()}}),e)})))}}]),r}(v.EditorAction),B=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"run",value:function(e,n){return M(this,void 0,void 0,t(d).mark((function e(){var r;return t(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=P.get(n))||this._run(r)){e.next=5;break}return e.next=4,r.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===r.getState().searchString.length&&"never"!==n.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===n.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop});case 4:this._run(r);case 5:case"end":return e.stop()}}),e,this)})))}}]),r}(v.EditorAction),z=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{id:y.FIND_IDS.NextMatchFindAction,label:h.localize("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:w.ContextKeyExpr.and(m.EditorContextKeys.focus,y.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}return t(a)(r,[{key:"_run",value:function(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}]),r}(B),W=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{id:y.FIND_IDS.PreviousMatchFindAction,label:h.localize("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:w.ContextKeyExpr.and(m.EditorContextKeys.focus,y.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}return t(a)(r,[{key:"_run",value:function(e){return e.moveToPrevMatch()}}]),r}(B),H=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"run",value:function(e,n){return M(this,void 0,void 0,t(d).mark((function e(){var r,i,o;return t(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P.get(n)){e.next=3;break}return e.abrupt("return");case 3:if(i="selection"===n.getOption(33).seedSearchStringFromSelection,o=null,"never"!==n.getOption(33).seedSearchStringFromSelection&&(o=N(n,"single",i)),o&&r.setSearchString(o),this._run(r)){e.next=11;break}return e.next=10,r.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==n.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:i,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop});case 10:this._run(r);case 11:case"end":return e.stop()}}),e,this)})))}}]),r}(v.EditorAction),V=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{id:y.FIND_IDS.NextSelectionMatchFindAction,label:h.localize("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2109,weight:100}})}return t(a)(r,[{key:"_run",value:function(e){return e.moveToNextMatch()}}]),r}(H),j=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{id:y.FIND_IDS.PreviousSelectionMatchFindAction,label:h.localize("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3133,weight:100}})}return t(a)(r,[{key:"_run",value:function(e){return e.moveToPrevMatch()}}]),r}(H);(0,v.registerMultiEditorAction)(new(0,v.MultiEditorAction)({id:y.FIND_IDS.StartFindReplaceAction,label:h.localize("startReplace","Replace"),alias:"Replace",precondition:w.ContextKeyExpr.or(m.EditorContextKeys.focus,w.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"3_find",title:h.localize({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(function(e,t,n){if(!t.hasModel()||t.getOption(79))return!1;var r=P.get(t);if(!r)return!1;var i=t.getSelection(),o=r.isFindInputFocused(),a=!i.isEmpty()&&i.startLineNumber===i.endLineNumber&&"never"!==t.getOption(33).seedSearchStringFromSelection&&!o,s=o||a?2:1;return r.start({forceRevealReplace:!0,seedSearchStringFromSelection:a?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(33).seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})})),(0,v.registerEditorContribution)(P.ID,O),(0,v.registerEditorAction)(F),(0,v.registerEditorAction)(z),(0,v.registerEditorAction)(W),(0,v.registerEditorAction)(V),(0,v.registerEditorAction)(j);var K=v.EditorCommand.bindToContribution(P.get);(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.CloseFindWidgetCommand,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:105,kbExpr:w.ContextKeyExpr.and(m.EditorContextKeys.focus,w.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:y.ToggleCaseSensitiveKeybinding.primary,mac:y.ToggleCaseSensitiveKeybinding.mac,win:y.ToggleCaseSensitiveKeybinding.win,linux:y.ToggleCaseSensitiveKeybinding.linux}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:y.ToggleWholeWordKeybinding.primary,mac:y.ToggleWholeWordKeybinding.mac,win:y.ToggleWholeWordKeybinding.win,linux:y.ToggleWholeWordKeybinding.linux}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:function(e){return e.toggleRegex()},kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:y.ToggleRegexKeybinding.primary,mac:y.ToggleRegexKeybinding.mac,win:y.ToggleRegexKeybinding.win,linux:y.ToggleRegexKeybinding.linux}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:y.ToggleSearchScopeKeybinding.primary,mac:y.ToggleSearchScopeKeybinding.mac,win:y.ToggleSearchScopeKeybinding.win,linux:y.ToggleSearchScopeKeybinding.linux}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:function(e){return e.togglePreserveCase()},kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:y.TogglePreserveCaseKeybinding.primary,mac:y.TogglePreserveCaseKeybinding.mac,win:y.TogglePreserveCaseKeybinding.win,linux:y.TogglePreserveCaseKeybinding.linux}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.ReplaceOneAction,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:3094}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.ReplaceOneAction,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:w.ContextKeyExpr.and(m.EditorContextKeys.focus,y.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.ReplaceAllAction,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:2563}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.ReplaceAllAction,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:w.ContextKeyExpr.and(m.EditorContextKeys.focus,y.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,v.registerEditorCommand)(new K({id:y.FIND_IDS.SelectAllMatchesAction,precondition:y.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:515}}))})),o.register("aI2c2",(function(n,r){e(n.exports,"CONTEXT_FIND_WIDGET_VISIBLE",(function(){return b})),e(n.exports,"CONTEXT_FIND_INPUT_FOCUSED",(function(){return _})),e(n.exports,"CONTEXT_REPLACE_INPUT_FOCUSED",(function(){return k})),e(n.exports,"ToggleCaseSensitiveKeybinding",(function(){return C})),e(n.exports,"ToggleWholeWordKeybinding",(function(){return x})),e(n.exports,"ToggleRegexKeybinding",(function(){return w})),e(n.exports,"ToggleSearchScopeKeybinding",(function(){return S})),e(n.exports,"TogglePreserveCaseKeybinding",(function(){return E})),e(n.exports,"FIND_IDS",(function(){return D})),e(n.exports,"MATCHES_LIMIT",(function(){return I})),e(n.exports,"FindModelBoundToEditorModel",(function(){return R}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("1xRRx"),l=o("glSIC"),u=o("iwJuG"),c=o("kaKvC"),d=o("Og1nm"),h=o("9cZTD"),f=o("8aFdb"),p=o("lFgK9"),g=o("kTGQd"),v=o("dP9ym"),m=o("6x2MV"),y=o("ddsHh"),b=new(0,m.RawContextKey)("findWidgetVisible",!1),_=new(0,m.RawContextKey)("findInputFocussed",!1),k=new(0,m.RawContextKey)("replaceInputFocussed",!1),C={primary:545,mac:{primary:2593}},x={primary:565,mac:{primary:2613}},w={primary:560,mac:{primary:2608}},S={primary:554,mac:{primary:2602}},E={primary:558,mac:{primary:2606}},D={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},I=19999,R=function(){"use strict";function e(n,r){var o=this;t(i)(this,e),this._toDispose=new(0,l.DisposableStore),this._editor=n,this._state=r,this._isDisposed=!1,this._startSearchingTimer=new(0,s.TimeoutTimer),this._decorations=new(0,p.FindDecorations)(n),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new(0,s.RunOnceScheduler)((function(){return o.research(!1)}),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((function(e){3!==e.reason&&5!==e.reason&&6!==e.reason||o._decorations.setStartPosition(o._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((function(e){o._ignoreModelContentChanged||(e.isFlush&&o._decorations.reset(),o._decorations.setStartPosition(o._editor.getPosition()),o._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((function(e){return o._onStateChanged(e)}))),this.research(!1,this._state.searchScope)}return t(a)(e,[{key:"dispose",value:function(){this._isDisposed=!0,(0,l.dispose)(this._startSearchingTimer),this._toDispose.dispose()}},{key:"_onStateChanged",value:function(e){if(!this._isDisposed&&(this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)))if(this._editor.getModel().isTooLargeForSyncing()){var t=this;this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)}),240)}else e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}},{key:"research",value:function(e,t){var n=this,r=null;void 0!==t?null!==t&&(r=Array.isArray(t)?t:[t]):r=this._decorations.getFindScopes(),null!==r&&(r=r.map((function(e){if(e.startLineNumber!==e.endLineNumber){var t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new(0,d.Range)(e.startLineNumber,1,t,n._editor.getModel().getLineMaxColumn(t))}return e})));var i=this._findMatches(r,!1,I);this._decorations.set(i,r);var o=this._editor.getSelection(),a=this._decorations.getCurrentMatchesPosition(o);if(0===a&&i.length>0){var s=(0,y.findFirstInSorted)(i.map((function(e){return e.range})),(function(e){return d.Range.compareRangesUsingStarts(e,o)>=0}));a=s>0?s-1+1:a}this._state.changeMatchInfo(a,this._decorations.getCount(),void 0),e&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}},{key:"_hasMatches",value:function(){return this._state.matchesCount>0}},{key:"_cannotFind",value:function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}},{key:"_setCurrentFindMatch",value:function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}},{key:"_prevSearchPosition",value:function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,r=e.column,i=this._editor.getModel();return t||1===r?(1===n?n=i.getLineCount():n--,r=i.getLineMaxColumn(n)):r--,new(0,c.Position)(n,r)}},{key:"_moveToPrevMatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._state.canNavigateBack()){if(this._decorations.getCount()<I){var r=this._decorations.matchBeforePosition(t);return r&&r.isEmpty()&&r.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),r=this._decorations.matchBeforePosition(t)),void(r&&this._setCurrentFindMatch(r))}if(!this._cannotFind()){var i=this._decorations.getFindScope(),o=e._getSearchRange(this._editor.getModel(),i);o.getEndPosition().isBefore(t)&&(t=o.getEndPosition()),t.isBefore(o.getStartPosition())&&(t=o.getEndPosition());var a=t.lineNumber,s=t.column,l=this._editor.getModel(),u=new(0,c.Position)(a,s),d=l.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(d&&d.range.isEmpty()&&d.range.getStartPosition().equals(u)&&(u=this._prevSearchPosition(u),d=l.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),d)return n||o.containsRange(d.range)?void this._setCurrentFindMatch(d.range):this._moveToPrevMatch(d.range.getStartPosition(),!0)}}else{var h=this._decorations.matchAfterPosition(t);h&&this._setCurrentFindMatch(h)}}},{key:"moveToPrevMatch",value:function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}},{key:"_nextSearchPosition",value:function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,r=e.column,i=this._editor.getModel();return t||r===i.getLineMaxColumn(n)?(n===i.getLineCount()?n=1:n++,r=1):r++,new(0,c.Position)(n,r)}},{key:"_moveToNextMatch",value:function(e){if(this._state.canNavigateForward()){if(this._decorations.getCount()<I){var t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var n=this._getNextMatch(e,!1,!0);n&&this._setCurrentFindMatch(n.range)}else{var r=this._decorations.matchBeforePosition(e);r&&this._setCurrentFindMatch(r)}}},{key:"_getNextMatch",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._cannotFind())return null;var o=this._decorations.getFindScope(),a=e._getSearchRange(this._editor.getModel(),o);a.getEndPosition().isBefore(t)&&(t=a.getStartPosition()),t.isBefore(a.getStartPosition())&&(t=a.getStartPosition());var s=t.lineNumber,l=t.column,u=this._editor.getModel(),d=new(0,c.Position)(s,l),h=u.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,n);return r&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),h=u.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,n)),h?i||a.containsRange(h.range)?h:this._getNextMatch(h.range.getEndPosition(),n,r,!0):null}},{key:"moveToNextMatch",value:function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}},{key:"_getReplacePattern",value:function(){return this._state.isRegex?(0,v.parseReplaceString)(this._state.replaceString):v.ReplacePattern.fromStaticValue(this._state.replaceString)}},{key:"replace",value:function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){var r=e.buildReplaceString(n.matches,this._state.preserveCase),i=new(0,u.ReplaceCommand)(t,r);this._executeEditorCommand("replace",i),this._decorations.setStartPosition(new(0,c.Position)(t.startLineNumber,t.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}}},{key:"_findMatches",value:function(t,n,r){var i=this,o=(t||[null]).map((function(t){return e._getSearchRange(i._editor.getModel(),t)}));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,n,r)}},{key:"replaceAll",value:function(){if(this._hasMatches()){var e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=I?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}}},{key:"_largeReplaceAll",value:function(){var e=new(0,f.SearchParams)(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(e){var t=e.regex;if(!t.multiline){var n="mu";t.ignoreCase&&(n+="i"),t.global&&(n+="g"),t=new RegExp(t.source,n)}var r,i=this._editor.getModel(),o=i.getValue(1),a=i.getFullModelRange(),s=this._getReplacePattern(),l=this._state.preserveCase;r=s.hasReplacementPatterns||l?o.replace(t,(function(){return s.buildReplaceString(arguments,l)})):o.replace(t,s.buildReplaceString(null,l));var c=new(0,u.ReplaceCommandThatPreservesSelection)(a,r,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)}}},{key:"_regularReplaceAll",value:function(e){for(var t=this._getReplacePattern(),n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[],i=0,o=n.length;i<o;i++)r[i]=t.buildReplaceString(n[i].matches,this._state.preserveCase);var a=new(0,g.ReplaceAllCommand)(this._editor.getSelection(),n.map((function(e){return e.range})),r);this._executeEditorCommand("replaceAll",a)}},{key:"selectAllMatches",value:function(){if(this._hasMatches()){for(var e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824).map((function(e){return new(0,h.Selection)(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})),n=this._editor.getSelection(),r=0,i=t.length;r<i;r++){if(t[r].equalsRange(n)){t=[n].concat(t.slice(0,r)).concat(t.slice(r+1));break}}this._editor.setSelections(t)}}},{key:"_executeEditorCommand",value:function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}],[{key:"_getSearchRange",value:function(e,t){return t||e.getFullModelRange()}}]),e}()})),o.register("lFgK9",(function(n,r){e(n.exports,"FindDecorations",(function(){return f}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hFMTy"),l=o("Og1nm"),u=o("caczl"),c=o("3bY1c"),d=o("eZPXr"),h=o("4qRit"),f=function(){"use strict";function e(n){t(i)(this,e),this._editor=n,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return t(a)(e,[{key:"dispose",value:function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}},{key:"reset",value:function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}},{key:"getCount",value:function(){return this._decorations.length}},{key:"getFindScope",value:function(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}},{key:"getFindScopes",value:function(){if(this._findScopeDecorationIds.length){var e=this,t=this._findScopeDecorationIds.map((function(t){return e._editor.getModel().getDecorationRange(t)})).filter((function(e){return!!e}));if(t.length)return t}return null}},{key:"getStartPosition",value:function(){return this._startPosition}},{key:"setStartPosition",value:function(e){this._startPosition=e,this.setCurrentFindMatch(null)}},{key:"_getDecorationIndex",value:function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1}},{key:"getCurrentMatchesPosition",value:function(t){var n=this._editor.getModel().getDecorationsInRange(t),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=l.options;if(u===e._FIND_MATCH_DECORATION||u===e._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(l.id)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return 0}},{key:"setCurrentFindMatch",value:function(t){var n=this,r=null,i=0;if(t)for(var o=0,a=this._decorations.length;o<a;o++){var s=this._editor.getModel().getDecorationRange(this._decorations[o]);if(t.equalsRange(s)){r=this._decorations[o],i=o+1;break}}return null===this._highlightedDecorationId&&null===r||this._editor.changeDecorations((function(t){if(null!==n._highlightedDecorationId&&(t.changeDecorationOptions(n._highlightedDecorationId,e._FIND_MATCH_DECORATION),n._highlightedDecorationId=null),null!==r&&(n._highlightedDecorationId=r,t.changeDecorationOptions(n._highlightedDecorationId,e._CURRENT_FIND_MATCH_DECORATION)),null!==n._rangeHighlightDecorationId&&(t.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),null!==r){var i=n._editor.getModel().getDecorationRange(r);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){var o=i.endLineNumber-1,a=n._editor.getModel().getLineMaxColumn(o);i=new(0,l.Range)(i.startLineNumber,i.startColumn,o,a)}n._rangeHighlightDecorationId=t.addDecoration(i,e._RANGE_HIGHLIGHT_DECORATION)}})),i}},{key:"set",value:function(t,n){var r=this;this._editor.changeDecorations((function(i){var o=e._FIND_MATCH_DECORATION,a=[];if(t.length>1e3){o=e._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var s=r._editor.getModel().getLineCount(),u=r._editor.getLayoutInfo().height/s,c=Math.max(2,Math.ceil(3/u)),d=t[0].range.startLineNumber,h=t[0].range.endLineNumber,f=1,p=t.length;f<p;f++){var g=t[f].range;h+c>=g.startLineNumber?g.endLineNumber>h&&(h=g.endLineNumber):(a.push({range:new(0,l.Range)(d,1,h,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=g.startLineNumber,h=g.endLineNumber)}a.push({range:new(0,l.Range)(d,1,h,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}for(var v=new Array(t.length),m=0,y=t.length;m<y;m++)v[m]={range:t[m].range,options:o};r._decorations=i.deltaDecorations(r._decorations,v),r._overviewRulerApproximateDecorations=i.deltaDecorations(r._overviewRulerApproximateDecorations,a),r._rangeHighlightDecorationId&&(i.removeDecoration(r._rangeHighlightDecorationId),r._rangeHighlightDecorationId=null),r._findScopeDecorationIds.length&&(r._findScopeDecorationIds.forEach((function(e){return i.removeDecoration(e)})),r._findScopeDecorationIds=[]),(null==n?void 0:n.length)&&(r._findScopeDecorationIds=n.map((function(t){return i.addDecoration(t,e._FIND_SCOPE_DECORATION)})))}))}},{key:"matchBeforePosition",value:function(e){if(0===this._decorations.length)return null;for(var t=this._decorations.length-1;t>=0;t--){var n=this._decorations[t],r=this._editor.getModel().getDecorationRange(n);if(r&&!(r.endLineNumber>e.lineNumber)){if(r.endLineNumber<e.lineNumber)return r;if(!(r.endColumn>e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}},{key:"matchAfterPosition",value:function(e){if(0===this._decorations.length)return null;for(var t=0,n=this._decorations.length;t<n;t++){var r=this._decorations[t],i=this._editor.getModel().getDecorationRange(r);if(i&&!(i.startLineNumber<e.lineNumber)){if(i.startLineNumber>e.lineNumber)return i;if(!(i.startColumn<e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}},{key:"_allDecorations",value:function(){var e,n=[];return n=(n=n.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&(e=n).push.apply(e,t(s)(this._findScopeDecorationIds)),this._rangeHighlightDecorationId&&n.push(this._rangeHighlightDecorationId),n}}]),e}();f._CURRENT_FIND_MATCH_DECORATION=c.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,h.themeColorFromId)(d.overviewRulerFindMatchForeground),position:u.OverviewRulerLane.Center},minimap:{color:(0,h.themeColorFromId)(d.minimapFindMatch),position:u.MinimapPosition.Inline}}),f._FIND_MATCH_DECORATION=c.ModelDecorationOptions.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,h.themeColorFromId)(d.overviewRulerFindMatchForeground),position:u.OverviewRulerLane.Center},minimap:{color:(0,h.themeColorFromId)(d.minimapFindMatch),position:u.MinimapPosition.Inline}}),f._FIND_MATCH_NO_OVERVIEW_DECORATION=c.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),f._FIND_MATCH_ONLY_OVERVIEW_DECORATION=c.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,h.themeColorFromId)(d.overviewRulerFindMatchForeground),position:u.OverviewRulerLane.Center}}),f._RANGE_HIGHLIGHT_DECORATION=c.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),f._FIND_SCOPE_DECORATION=c.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})})),o.register("kTGQd",(function(n,r){e(n.exports,"ReplaceAllCommand",(function(){return l}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("Og1nm"),l=function(){"use strict";function e(n,r,o){t(i)(this,e),this._editorSelection=n,this._ranges=r,this._replaceStrings=o,this._trackedEditorSelectionId=null}return t(a)(e,[{key:"getEditOperations",value:function(e,t){if(this._ranges.length>0){for(var n=[],r=0;r<this._ranges.length;r++)n.push({range:this._ranges[r],text:this._replaceStrings[r]});n.sort((function(e,t){return s.Range.compareRangesUsingStarts(e.range,t.range)}));for(var i=[],o=n[0],a=1;a<n.length;a++)o.range.endLineNumber===n[a].range.startLineNumber&&o.range.endColumn===n[a].range.startColumn?(o.range=o.range.plusRange(n[a].range),o.text=o.text+n[a].text):(i.push(o),o=n[a]);i.push(o);var l=!0,u=!1,c=void 0;try{for(var d,h=i[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;t.addEditOperation(f.range,f.text)}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}]),e}()})),o.register("dP9ym",(function(n,r){e(n.exports,"ReplacePattern",(function(){return c})),e(n.exports,"parseReplaceString",(function(){return f}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("klypl"),l=function e(n){"use strict";t(i)(this,e),this.staticValue=n,this.kind=0},u=function e(n){"use strict";t(i)(this,e),this.pieces=n,this.kind=1},c=function(){"use strict";function e(n){t(i)(this,e),n&&0!==n.length?1===n.length&&null!==n[0].staticValue?this._state=new l(n[0].staticValue):this._state=new u(n):this._state=new l("")}return t(a)(e,[{key:"hasReplacementPatterns",get:function(){return 1===this._state.kind}},{key:"buildReplaceString",value:function(t,n){if(0===this._state.kind)return n?(0,s.buildReplaceStringWithCasePreserved)(t,this._state.staticValue):this._state.staticValue;for(var r="",i=0,o=this._state.pieces.length;i<o;i++){var a=this._state.pieces[i];if(null===a.staticValue){var l=e._substitute(a.matchIndex,t);if(null!==a.caseOps&&a.caseOps.length>0){for(var u=[],c=a.caseOps.length,d=0,h=0,f=l.length;h<f;h++){if(d>=c){u.push(l.slice(h));break}switch(a.caseOps[d]){case"U":u.push(l[h].toUpperCase());break;case"u":u.push(l[h].toUpperCase()),d++;break;case"L":u.push(l[h].toLowerCase());break;case"l":u.push(l[h].toLowerCase()),d++;break;default:u.push(l[h])}}l=u.join("")}r+=l}else r+=a.staticValue}return r}}],[{key:"fromStaticValue",value:function(t){return new e([d.staticValue(t)])}},{key:"_substitute",value:function(e,t){if(null===t)return"";if(0===e)return t[0];for(var n="";e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}]),e}(),d=function(){"use strict";function e(n,r,o){t(i)(this,e),this.staticValue=n,this.matchIndex=r,o&&0!==o.length?this.caseOps=o.slice(0):this.caseOps=null}return t(a)(e,null,[{key:"staticValue",value:function(t){return new e(t,-1,null)}},{key:"caseOps",value:function(t,n){return new e(null,t,n)}}]),e}(),h=function(){"use strict";function e(n){t(i)(this,e),this._source=n,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return t(a)(e,[{key:"emitUnchanged",value:function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}},{key:"emitStatic",value:function(e,t){this._emitStatic(e),this._lastCharIndex=t}},{key:"_emitStatic",value:function(e){0!==e.length&&(this._currentStaticPiece+=e)}},{key:"emitMatchIndex",value:function(e,t,n){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=d.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=d.caseOps(e,n),this._lastCharIndex=t}},{key:"finalize",value:function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=d.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new c(this._result)}}]),e}();function f(e){if(!e||0===e.length)return new c(null);for(var t=[],n=new h(e),r=0,i=e.length;r<i;r++){var o=e.charCodeAt(r);if(92!==o){if(36===o){if(++r>=i)break;var a=e.charCodeAt(r);if(36===a){n.emitUnchanged(r-1),n.emitStatic("$",r+1);continue}if(48===a||38===a){n.emitUnchanged(r-1),n.emitMatchIndex(0,r+1,t),t.length=0;continue}if(49<=a&&a<=57){var s=a-48;if(r+1<i){var l=e.charCodeAt(r+1);if(48<=l&&l<=57){r++,s=10*s+(l-48),n.emitUnchanged(r-2),n.emitMatchIndex(s,r+1,t),t.length=0;continue}}n.emitUnchanged(r-1),n.emitMatchIndex(s,r+1,t),t.length=0;continue}}}else{if(++r>=i)break;var u=e.charCodeAt(r);switch(u){case 92:n.emitUnchanged(r-1),n.emitStatic("\\",r+1);break;case 110:n.emitUnchanged(r-1),n.emitStatic("\n",r+1);break;case 116:n.emitUnchanged(r-1),n.emitStatic("\t",r+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(r-1),n.emitStatic("",r+1),t.push(String.fromCharCode(u))}}}return n.finalize()}})),o.register("klypl",(function(t,n){e(t.exports,"buildReplaceStringWithCasePreserved",(function(){return i}));var r=o("flPya");function i(e,t){if(e&&""!==e[0]){var n=a(e,t,"-"),i=a(e,t,"_");return n&&!i?s(e,t,"-"):!n&&i?s(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():r.containsUppercaseCharacter(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function a(e,t,n){return-1!==e[0].indexOf(n)&&-1!==t.indexOf(n)&&e[0].split(n).length===t.split(n).length}function s(e,t,n){var r=t.split(n),o=e[0].split(n),a="";return r.forEach((function(e,t){a+=i([o[t]],e)+n})),a.slice(0,-1)}})),o.register("jAQ0Z",(function(n,r){e(n.exports,"FindOptionsWidget",(function(){return b}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("k0Xaj"),u=o("5464t"),c=o("hgtn2"),d=o("aV5UR"),h=o("i3Iko"),f=o("klrG5"),p=o("2lK1h"),g=o("1xRRx"),v=o("aI2c2"),m=o("eZPXr"),y=o("4qRit"),b=function(e){"use strict";t(c)(r,e);var n=t(d)(r);function r(e,o,s,l){var u;t(a)(this,r),(u=n.call(this))._hideSoon=u._register(new(0,g.RunOnceScheduler)((function(){return u._hide()}),2e3)),u._isVisible=!1,u._editor=e,u._state=o,u._keybindingService=s,u._domNode=document.createElement("div"),u._domNode.className="findOptionsWidget",u._domNode.style.display="none",u._domNode.style.top="10px",u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true");var c=l.getColorTheme().getColor(m.inputActiveOptionBorder),d=l.getColorTheme().getColor(m.inputActiveOptionForeground),p=l.getColorTheme().getColor(m.inputActiveOptionBackground);return u.caseSensitive=u._register(new(0,f.CaseSensitiveCheckbox)({appendTitle:u._keybindingLabelFor(v.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:u._state.matchCase,inputActiveOptionBorder:c,inputActiveOptionForeground:d,inputActiveOptionBackground:p})),u._domNode.appendChild(u.caseSensitive.domNode),u._register(u.caseSensitive.onChange((function(){u._state.change({matchCase:u.caseSensitive.checked},!1)}))),u.wholeWords=u._register(new(0,f.WholeWordsCheckbox)({appendTitle:u._keybindingLabelFor(v.FIND_IDS.ToggleWholeWordCommand),isChecked:u._state.wholeWord,inputActiveOptionBorder:c,inputActiveOptionForeground:d,inputActiveOptionBackground:p})),u._domNode.appendChild(u.wholeWords.domNode),u._register(u.wholeWords.onChange((function(){u._state.change({wholeWord:u.wholeWords.checked},!1)}))),u.regex=u._register(new(0,f.RegexCheckbox)({appendTitle:u._keybindingLabelFor(v.FIND_IDS.ToggleRegexCommand),isChecked:u._state.isRegex,inputActiveOptionBorder:c,inputActiveOptionForeground:d,inputActiveOptionBackground:p})),u._domNode.appendChild(u.regex.domNode),u._register(u.regex.onChange((function(){u._state.change({isRegex:u.regex.checked},!1)}))),u._editor.addOverlayWidget(t(i)(u)),u._register(u._state.onFindReplaceStateChange((function(e){var t=!1;e.isRegex&&(u.regex.checked=u._state.isRegex,t=!0),e.wholeWord&&(u.wholeWords.checked=u._state.wholeWord,t=!0),e.matchCase&&(u.caseSensitive.checked=u._state.matchCase,t=!0),!u._state.isRevealed&&t&&u._revealTemporarily()}))),u._register(h.addDisposableNonBubblingMouseOutListener(u._domNode,(function(e){return u._onMouseOut()}))),u._register(h.addDisposableListener(u._domNode,"mouseover",(function(e){return u._onMouseOver()}))),u._applyTheme(l.getColorTheme()),u._register(l.onDidColorThemeChange(u._applyTheme.bind(t(i)(u)))),u}return t(s)(r,[{key:"_keybindingLabelFor",value:function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" (".concat(t.getLabel(),")"):""}},{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),t(l)(t(u)(r.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return r.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{preference:0}}},{key:"highlightFindOptions",value:function(){this._revealTemporarily()}},{key:"_revealTemporarily",value:function(){this._show(),this._hideSoon.schedule()}},{key:"_onMouseOut",value:function(){this._hideSoon.schedule()}},{key:"_onMouseOver",value:function(){this._hideSoon.cancel()}},{key:"_show",value:function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}},{key:"_hide",value:function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}},{key:"_applyTheme",value:function(e){var t={inputActiveOptionBorder:e.getColor(m.inputActiveOptionBorder),inputActiveOptionForeground:e.getColor(m.inputActiveOptionForeground),inputActiveOptionBackground:e.getColor(m.inputActiveOptionBackground)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}]),r}(p.Widget);b.ID="editor.contrib.findOptionsWidget",(0,y.registerThemingParticipant)((function(e,t){var n=e.getColor(m.editorWidgetBackground);n&&t.addRule(".monaco-editor .findOptionsWidget { background-color: ".concat(n,"; }"));var r=e.getColor(m.editorWidgetForeground);r&&t.addRule(".monaco-editor .findOptionsWidget { color: ".concat(r,"; }"));var i=e.getColor(m.widgetShadow);i&&t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ".concat(i,"; }"));var o=e.getColor(m.contrastBorder);o&&t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid ".concat(o,"; }"))}))})),o.register("klrG5",(function(n,r){e(n.exports,"CaseSensitiveCheckbox",(function(){return p})),e(n.exports,"WholeWordsCheckbox",(function(){return g})),e(n.exports,"RegexCheckbox",(function(){return v}));var i=o("fZTNQ"),a=o("hgtn2"),s=o("aV5UR"),l=o("bvHEu"),u=o("dKkCN"),c=o("9k9F9"),d=u.localize("caseDescription","Match Case"),h=u.localize("wordsDescription","Match Whole Word"),f=u.localize("regexDescription","Use Regular Expression"),p=function(e){"use strict";t(a)(r,e);var n=t(s)(r);function r(e){return t(i)(this,r),n.call(this,{icon:c.Codicon.caseSensitive,title:d+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}return r}(l.Checkbox),g=function(e){"use strict";t(a)(r,e);var n=t(s)(r);function r(e){return t(i)(this,r),n.call(this,{icon:c.Codicon.wholeWord,title:h+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}return r}(l.Checkbox),v=function(e){"use strict";t(a)(r,e);var n=t(s)(r);function r(e){return t(i)(this,r),n.call(this,{icon:c.Codicon.regex,title:f+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}return r}(l.Checkbox)})),o.register("bvHEu",(function(n,r){e(n.exports,"Checkbox",(function(){return g}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("hFMTy"),u=o("aV5UR"),c=o("2lK1h"),d=o("3bv5f"),h=o("4YObi"),f=o("9k9F9"),p={inputActiveOptionBorder:d.Color.fromHex("#007ACC00"),inputActiveOptionForeground:d.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:d.Color.fromHex("#0E639C50")},g=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(e){var o,a,s,u;t(i)(this,r),(u=n.call(this))._onChange=u._register(new(0,h.Emitter)),u.onChange=u._onChange.event,u._onKeyDown=u._register(new(0,h.Emitter)),u.onKeyDown=u._onKeyDown.event,u._opts=Object.assign(Object.assign({},p),e),u._checked=u._opts.isChecked;var c=["monaco-custom-checkbox"];return u._opts.icon&&(o=c).push.apply(o,t(l)(f.CSSIcon.asClassNameArray(u._opts.icon))),u._opts.actionClassName&&(a=c).push.apply(a,t(l)(u._opts.actionClassName.split(" "))),u._checked&&c.push("checked"),u.domNode=document.createElement("div"),u.domNode.title=u._opts.title,(s=u.domNode.classList).add.apply(s,t(l)(c)),u._opts.notFocusable||(u.domNode.tabIndex=0),u.domNode.setAttribute("role","checkbox"),u.domNode.setAttribute("aria-checked",String(u._checked)),u.domNode.setAttribute("aria-label",u._opts.title),u.applyStyles(),u.onclick(u.domNode,(function(e){u.checked=!u._checked,u._onChange.fire(!1),e.preventDefault()})),u.ignoreGesture(u.domNode),u.onkeydown(u.domNode,(function(e){if(10===e.keyCode||3===e.keyCode)return u.checked=!u._checked,u._onChange.fire(!0),void e.preventDefault();u._onKeyDown.fire(e)})),u}return t(a)(r,[{key:"enabled",get:function(){return"true"!==this.domNode.getAttribute("aria-disabled")}},{key:"focus",value:function(){this.domNode.focus()}},{key:"checked",get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}},{key:"width",value:function(){return 22}},{key:"style",value:function(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}},{key:"applyStyles",value:function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}},{key:"enable",value:function(){this.domNode.setAttribute("aria-disabled",String(!1))}},{key:"disable",value:function(){this.domNode.setAttribute("aria-disabled",String(!0))}}]),r}(c.Widget)})),o.register("bxjv7",(function(n,r){e(n.exports,"FindReplaceState",(function(){return p}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("4YObi"),c=o("glSIC"),d=o("Og1nm"),h=o("aI2c2");function f(e,t){return 1===e||2!==e&&t}var p=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){var e;return t(i)(this,r),(e=n.call(this))._onFindReplaceStateChange=e._register(new(0,u.Emitter)),e.onFindReplaceStateChange=e._onFindReplaceStateChange.event,e._searchString="",e._replaceString="",e._isRevealed=!1,e._isReplaceRevealed=!1,e._isRegex=!1,e._isRegexOverride=0,e._wholeWord=!1,e._wholeWordOverride=0,e._matchCase=!1,e._matchCaseOverride=0,e._preserveCase=!1,e._preserveCaseOverride=0,e._searchScope=null,e._matchesPosition=0,e._matchesCount=0,e._currentMatch=null,e._loop=!0,e}return t(a)(r,[{key:"searchString",get:function(){return this._searchString}},{key:"replaceString",get:function(){return this._replaceString}},{key:"isRevealed",get:function(){return this._isRevealed}},{key:"isReplaceRevealed",get:function(){return this._isReplaceRevealed}},{key:"isRegex",get:function(){return f(this._isRegexOverride,this._isRegex)}},{key:"wholeWord",get:function(){return f(this._wholeWordOverride,this._wholeWord)}},{key:"matchCase",get:function(){return f(this._matchCaseOverride,this._matchCase)}},{key:"preserveCase",get:function(){return f(this._preserveCaseOverride,this._preserveCase)}},{key:"actualIsRegex",get:function(){return this._isRegex}},{key:"actualWholeWord",get:function(){return this._wholeWord}},{key:"actualMatchCase",get:function(){return this._matchCase}},{key:"actualPreserveCase",get:function(){return this._preserveCase}},{key:"searchScope",get:function(){return this._searchScope}},{key:"matchesPosition",get:function(){return this._matchesPosition}},{key:"matchesCount",get:function(){return this._matchesCount}},{key:"currentMatch",get:function(){return this._currentMatch}},{key:"changeMatchInfo",value:function(e,t,n){var r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},i=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,r.matchesPosition=!0,i=!0),this._matchesCount!==t&&(this._matchesCount=t,r.matchesCount=!0,i=!0),void 0!==n&&(d.Range.equalsRange(this._currentMatch,n)||(this._currentMatch=n,r.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(r)}},{key:"change",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,o={moveCursor:t,updateHistory:r,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},a=!1,s=this.isRegex,l=this.wholeWord,u=this.matchCase,c=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,a=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,a=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,a=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,a=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(n=e.searchScope)||void 0===n?void 0:n.every((function(e){var t;return null===(t=i._searchScope)||void 0===t?void 0:t.some((function(t){return!d.Range.equalsRange(t,e)}))})))||(this._searchScope=e.searchScope,o.searchScope=!0,a=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,a=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,s!==this.isRegex&&(a=!0,o.isRegex=!0),l!==this.wholeWord&&(a=!0,o.wholeWord=!0),u!==this.matchCase&&(a=!0,o.matchCase=!0),c!==this.preserveCase&&(a=!0,o.preserveCase=!0),a&&this._onFindReplaceStateChange.fire(o)}},{key:"canNavigateBack",value:function(){return this.canNavigateInLoop()||1!==this.matchesPosition}},{key:"canNavigateForward",value:function(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}},{key:"canNavigateInLoop",value:function(){return this._loop||this.matchesCount>=h.MATCHES_LIMIT}}]),r}(c.Disposable)})),o.register("VuH05",(function(n,r){e(n.exports,"FindWidget",(function(){return oe}),(function(e){return oe=e}));var i=o("bETlW"),a=o("fZTNQ"),s=o("j7KTJ"),l=o("hgtn2"),u=o("hFMTy"),c=o("aV5UR"),d=o("4GLgu"),h=o("dKkCN"),f=o("i3Iko"),p=o("3mtPc"),g=o("bvHEu"),v=o("2XCLZ"),m=o("2lK1h"),y=o("1xRRx"),b=o("9yDnc"),_=o("glSIC"),k=o("4YgGD"),C=o("flPya"),x=o("Og1nm"),w=o("aI2c2"),S=o("eZPXr"),E=o("4qRit"),D=o("fL2OD"),I=o("9k9F9"),R=o("4boq2"),L=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},A=(0,R.registerIcon)("find-selection",I.Codicon.selection,h.localize("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),M=(0,R.registerIcon)("find-collapsed",I.Codicon.chevronRight,h.localize("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),T=(0,R.registerIcon)("find-expanded",I.Codicon.chevronDown,h.localize("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),N=(0,R.registerIcon)("find-replace",I.Codicon.replace,h.localize("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),P=(0,R.registerIcon)("find-replace-all",I.Codicon.replaceAll,h.localize("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),O=(0,R.registerIcon)("find-previous-match",I.Codicon.arrowUp,h.localize("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),F=(0,R.registerIcon)("find-next-match",I.Codicon.arrowDown,h.localize("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),B=h.localize("label.find","Find"),z=h.localize("placeholder.find","Find"),W=h.localize("label.previousMatchButton","Previous Match"),H=h.localize("label.nextMatchButton","Next Match"),V=h.localize("label.toggleSelectionFind","Find in Selection"),j=h.localize("label.closeButton","Close"),K=h.localize("label.replace","Replace"),U=h.localize("placeholder.replace","Replace"),q=h.localize("label.replaceButton","Replace"),Z=h.localize("label.replaceAllButton","Replace All"),G=h.localize("label.toggleReplaceButton","Toggle Replace"),Q=h.localize("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",w.MATCHES_LIMIT),J=h.localize("label.matchesLocation","{0} of {1}"),Y=h.localize("label.noResults","No results"),X=419,$=69,ee="ctrlEnterReplaceAll.windows.donotask",te=k.isMacintosh?256:2048,ne=function e(n){"use strict";t(a)(this,e),this.afterLineNumber=n,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"};function re(e,t,n){var r=!!t.match(/\n/);n&&r&&n.selectionStart>0&&e.stopPropagation()}function ie(e,t,n){var r=!!t.match(/\n/);n&&r&&n.selectionEnd<n.value.length&&e.stopPropagation()}var oe=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(e,o,s,l,u,c,h,p,g){var v;return t(a)(this,r),(v=n.call(this))._cachedHeight=null,v._revealTimeouts=[],v._codeEditor=e,v._controller=o,v._state=s,v._contextViewProvider=l,v._keybindingService=u,v._contextKeyService=c,v._storageService=p,v._notificationService=g,v._ctrlEnterReplaceAllWarningPrompted=!!p.getBoolean(ee,0),v._isVisible=!1,v._isReplaceVisible=!1,v._ignoreChangeEvent=!1,v._updateHistoryDelayer=new(0,y.Delayer)(500),v._register((0,_.toDisposable)((function(){return v._updateHistoryDelayer.cancel()}))),v._register(v._state.onFindReplaceStateChange((function(e){return v._onStateChanged(e)}))),v._buildDomNode(),v._updateButtons(),v._tryUpdateWidgetWidth(),v._findInput.inputBox.layout(),v._register(v._codeEditor.onDidChangeConfiguration((function(e){if(e.hasChanged(79)&&(v._codeEditor.getOption(79)&&v._state.change({isReplaceRevealed:!1},!1),v._updateButtons()),e.hasChanged(129)&&v._tryUpdateWidgetWidth(),e.hasChanged(2)&&v.updateAccessibilitySupport(),e.hasChanged(33)){var t=v._codeEditor.getOption(33).addExtraSpaceOnTop;t&&!v._viewZone&&(v._viewZone=new ne(0),v._showViewZone()),!t&&v._viewZone&&v._removeViewZone()}}))),v.updateAccessibilitySupport(),v._register(v._codeEditor.onDidChangeCursorSelection((function(){v._isVisible&&v._updateToggleSelectionFindButton()}))),v._register(v._codeEditor.onDidFocusEditorWidget((function(){return L(t(i)(v),void 0,void 0,t(d).mark((function e(){var n;return t(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isVisible){e.next=5;break}return e.next=3,this._controller.getGlobalBufferTerm();case 3:(n=e.sent)&&n!==this._state.searchString&&(this._state.change({searchString:n},!1),this._findInput.select());case 5:case"end":return e.stop()}}),e,this)})))}))),v._findInputFocused=w.CONTEXT_FIND_INPUT_FOCUSED.bindTo(c),v._findFocusTracker=v._register(f.trackFocus(v._findInput.inputBox.inputElement)),v._register(v._findFocusTracker.onDidFocus((function(){v._findInputFocused.set(!0),v._updateSearchScope()}))),v._register(v._findFocusTracker.onDidBlur((function(){v._findInputFocused.set(!1)}))),v._replaceInputFocused=w.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(c),v._replaceFocusTracker=v._register(f.trackFocus(v._replaceInput.inputBox.inputElement)),v._register(v._replaceFocusTracker.onDidFocus((function(){v._replaceInputFocused.set(!0),v._updateSearchScope()}))),v._register(v._replaceFocusTracker.onDidBlur((function(){v._replaceInputFocused.set(!1)}))),v._codeEditor.addOverlayWidget(t(i)(v)),v._codeEditor.getOption(33).addExtraSpaceOnTop&&(v._viewZone=new ne(0)),v._applyTheme(h.getColorTheme()),v._register(h.onDidColorThemeChange(v._applyTheme.bind(t(i)(v)))),v._register(v._codeEditor.onDidChangeModel((function(){v._isVisible&&(v._viewZoneId=void 0)}))),v._register(v._codeEditor.onDidScrollChange((function(e){e.scrollTopChanged?v._layoutViewZone():setTimeout((function(){v._layoutViewZone()}),0)}))),v}return t(s)(r,[{key:"getId",value:function(){return r.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return this._isVisible?{preference:0}:null}},{key:"_onStateChanged",value:function(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(79)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}},{key:"_delayedUpdateHistory",value:function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,b.onUnexpectedError)}},{key:"_updateHistory",value:function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}},{key:"_updateMatchesCount",value:function(){var e;if(this._matchesCount.style.minWidth=$+"px",this._state.matchesCount>=w.MATCHES_LIMIT?this._matchesCount.title=Q:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=w.MATCHES_LIMIT&&(t+="+");var n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=C.format(J,n,t)}else e=Y;this._matchesCount.appendChild(document.createTextNode(e)),(0,p.alert)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),$=Math.max($,this._matchesCount.clientWidth)}},{key:"_getAriaLabel",value:function(e,t,n){if(e===Y)return""===n?h.localize("ariaSearchNoResultEmpty","{0} found",e):h.localize("ariaSearchNoResult","{0} found for '{1}'",e,n);if(t){var r=h.localize("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,n,t.startLineNumber+":"+t.startColumn),i=this._codeEditor.getModel();if(i&&t.startLineNumber<=i.getLineCount()&&t.startLineNumber>=1){var o=i.getLineContent(t.startLineNumber);return"".concat(o,", ").concat(r)}return r}return h.localize("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,n)}},{key:"_updateToggleSelectionFindButton",value:function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}},{key:"_updateButtons",value:function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var n=!this._codeEditor.getOption(79);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)}},{key:"_reveal",value:function(){if(this._revealTimeouts.forEach((function(e){clearTimeout(e)})),this._revealTimeouts=[],!this._isVisible){var e=this;this._isVisible=!0;var t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var n=!!t&&t.startLineNumber!==t.endLineNumber;this._toggleSelectionFind.checked=n}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((function(){e._domNode.classList.add("visible"),e._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((function(){e._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);var r=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&t){var i=this._codeEditor.getDomNode();if(i){var o=f.getDomNodePagePosition(i),a=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),s=o.left+(a?a.left:0),l=a?a.top:0;if(this._viewZone&&l<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(r=!1);var u=f.getTopLeftOffset(this._domNode).left;s>u&&(r=!1);var c=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());o.left+(c?c.left:0)>u&&(r=!1)}}}this._showViewZone(r)}}},{key:"_hide",value:function(e){this._revealTimeouts.forEach((function(e){clearTimeout(e)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}},{key:"_layoutViewZone",value:function(e){var t=this;if(this._codeEditor.getOption(33).addExtraSpaceOnTop){if(this._isVisible){var n=this._viewZone;void 0===this._viewZoneId&&n&&this._codeEditor.changeViewZones((function(r){n.heightInPx=t._getHeight(),t._viewZoneId=r.addZone(n),t._codeEditor.setScrollTop(e||t._codeEditor.getScrollTop()+n.heightInPx)}))}}else this._removeViewZone()}},{key:"_showViewZone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this;if(this._isVisible){var n=this._codeEditor.getOption(33).addExtraSpaceOnTop;if(n){void 0===this._viewZone&&(this._viewZone=new ne(0));var r=this._viewZone;this._codeEditor.changeViewZones((function(n){if(void 0!==t._viewZoneId){var i=t._getHeight();if(i===r.heightInPx)return;var o=i-r.heightInPx;return r.heightInPx=i,n.layoutZone(t._viewZoneId),void(e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+o))}var a=t._getHeight();(a-=t._codeEditor.getOption(73).top)<=0||(r.heightInPx=a,t._viewZoneId=n.addZone(r),e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+a))}))}}}},{key:"_removeViewZone",value:function(){var e=this;this._codeEditor.changeViewZones((function(t){void 0!==e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0,e._viewZone&&(e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()-e._viewZone.heightInPx),e._viewZone=void 0))}))}},{key:"_applyTheme",value:function(e){var t={inputActiveOptionBorder:e.getColor(S.inputActiveOptionBorder),inputActiveOptionBackground:e.getColor(S.inputActiveOptionBackground),inputActiveOptionForeground:e.getColor(S.inputActiveOptionForeground),inputBackground:e.getColor(S.inputBackground),inputForeground:e.getColor(S.inputForeground),inputBorder:e.getColor(S.inputBorder),inputValidationInfoBackground:e.getColor(S.inputValidationInfoBackground),inputValidationInfoForeground:e.getColor(S.inputValidationInfoForeground),inputValidationInfoBorder:e.getColor(S.inputValidationInfoBorder),inputValidationWarningBackground:e.getColor(S.inputValidationWarningBackground),inputValidationWarningForeground:e.getColor(S.inputValidationWarningForeground),inputValidationWarningBorder:e.getColor(S.inputValidationWarningBorder),inputValidationErrorBackground:e.getColor(S.inputValidationErrorBackground),inputValidationErrorForeground:e.getColor(S.inputValidationErrorForeground),inputValidationErrorBorder:e.getColor(S.inputValidationErrorBorder)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}},{key:"_tryUpdateWidgetWidth",value:function(){if(this._isVisible&&f.isInDOM(this._domNode)){var e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)this._domNode.classList.add("hiddenEditor");else{this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");var t=e.width,n=e.minimap.minimapWidth,r=!1,i=!1,o=!1;if(this._resized)if(f.getTotalWidth(this._domNode)>X)return this._domNode.style.maxWidth="".concat(t-28-n-15,"px"),void(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode));if(447+n>=t&&(i=!0),447+n-$>=t&&(o=!0),447+n-$>=t+50&&(r=!0),this._domNode.classList.toggle("collapsed-find-widget",r),this._domNode.classList.toggle("narrow-find-widget",o),this._domNode.classList.toggle("reduced-find-widget",i),o||r||(this._domNode.style.maxWidth="".concat(t-28-n-15,"px")),this._resized){this._findInput.inputBox.layout();var a=this._findInput.inputBox.element.clientWidth;a>0&&(this._replaceInput.width=a)}else this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode))}}}},{key:"_getHeight",value:function(){var e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4}},{key:"_tryUpdateHeight",value:function(){var e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height="".concat(e,"px"),!0)}},{key:"focusFindInput",value:function(){this._findInput.select(),this._findInput.focus()}},{key:"focusReplaceInput",value:function(){this._replaceInput.select(),this._replaceInput.focus()}},{key:"highlightFindOptions",value:function(){this._findInput.highlightFindOptions()}},{key:"_updateSearchScope",value:function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var e=this,t=this._codeEditor.getSelections();t.map((function(t){1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));var n=e._state.currentMatch;return t.startLineNumber===t.endLineNumber||x.Range.equalsRange(t,n)?null:t})).filter((function(e){return!!e})),t.length&&this._state.change({searchScope:t},!0)}}},{key:"_onFindInputMouseDown",value:function(e){e.middleButton&&e.stopPropagation()}},{key:"_onFindInputKeyDown",value:function(e){return e.equals(3|te)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?re(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?ie(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}},{key:"_onReplaceInputKeyDown",value:function(e){return e.equals(3|te)?(k.isWindows&&k.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(h.localize("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ee,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?re(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?ie(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}},{key:"getVerticalSashLeft",value:function(e){return 0}},{key:"_keybindingLabelFor",value:function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" (".concat(t.getLabel(),")"):""}},{key:"_buildDomNode",value:function(){var e=this;this._findInput=this._register(new(0,D.ContextScopedFindInput)(null,this._contextViewProvider,{width:221,label:B,placeholder:z,appendCaseSensitiveLabel:this._keybindingLabelFor(w.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(w.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(w.FIND_IDS.ToggleRegexCommand),validation:function(t){if(0===t.length||!e._findInput.getRegex())return null;try{return new RegExp(t,"gu"),null}catch(e){return{content:e.message}}},flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((function(t){return e._onFindInputKeyDown(t)}))),this._register(this._findInput.inputBox.onDidChange((function(){e._ignoreChangeEvent||e._state.change({searchString:e._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInput.focus(),t.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceInput.focusOnPreserve(),t.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((function(t){e._tryUpdateHeight()&&e._showViewZone()}))),k.isLinux&&this._register(this._findInput.onMouseDown((function(t){return e._onFindInputMouseDown(t)}))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ae({label:W+this._keybindingLabelFor(w.FIND_IDS.PreviousMatchFindAction),icon:O,onTrigger:function(){e._codeEditor.getAction(w.FIND_IDS.PreviousMatchFindAction).run().then(void 0,b.onUnexpectedError)}})),this._nextBtn=this._register(new ae({label:H+this._keybindingLabelFor(w.FIND_IDS.NextMatchFindAction),icon:F,onTrigger:function(){e._codeEditor.getAction(w.FIND_IDS.NextMatchFindAction).run().then(void 0,b.onUnexpectedError)}}));var t=document.createElement("div");t.className="find-part",t.appendChild(this._findInput.domNode);var n=document.createElement("div");n.className="find-actions",t.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new(0,g.Checkbox)({icon:A,title:V+this._keybindingLabelFor(w.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((function(){if(e._toggleSelectionFind.checked){if(e._codeEditor.hasModel()){var t=e,n=e._codeEditor.getSelections();n.map((function(e){return 1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e})).filter((function(e){return!!e})),n.length&&e._state.change({searchScope:n},!0)}}else e._state.change({searchScope:null},!0)}))),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ae({label:j+this._keybindingLabelFor(w.FIND_IDS.CloseFindWidgetCommand),icon:R.widgetClose,onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),n.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new(0,D.ContextScopedReplaceInput)(null,void 0,{label:K,placeholder:U,appendPreserveCaseLabel:this._keybindingLabelFor(w.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((function(t){return e._onReplaceInputKeyDown(t)}))),this._register(this._replaceInput.inputBox.onDidChange((function(){e._state.change({replaceString:e._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((function(t){e._isReplaceVisible&&e._tryUpdateHeight()&&e._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((function(){e._state.change({preserveCase:e._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((function(t){t.equals(2)&&(e._prevBtn.isEnabled()?e._prevBtn.focus():e._nextBtn.isEnabled()?e._nextBtn.focus():e._toggleSelectionFind.enabled?e._toggleSelectionFind.focus():e._closeBtn.isEnabled()&&e._closeBtn.focus(),t.preventDefault())}))),this._replaceBtn=this._register(new ae({label:q+this._keybindingLabelFor(w.FIND_IDS.ReplaceOneAction),icon:N,onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new ae({label:Z+this._keybindingLabelFor(w.FIND_IDS.ReplaceAllAction),icon:P,onTrigger:function(){e._controller.replaceAll()}}));var r=document.createElement("div");r.className="replace-part",r.appendChild(this._replaceInput.domNode);var i=document.createElement("div");i.className="replace-actions",r.appendChild(i),i.appendChild(this._replaceBtn.domNode),i.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ae({label:G,className:"codicon toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInput.width=f.getTotalWidth(e._findInput.domNode),e._replaceInput.inputBox.layout()),e._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="".concat(X,"px"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(r),this._resizeSash=new(0,v.Sash)(this._domNode,this,{orientation:0,size:2}),this._resized=!1;var o=X;this._register(this._resizeSash.onDidStart((function(){o=f.getTotalWidth(e._domNode)}))),this._register(this._resizeSash.onDidChange((function(t){e._resized=!0;var n=o+t.startX-t.currentX;n<X||(n>(parseFloat(f.getComputedStyle(e._domNode).maxWidth)||0)||(e._domNode.style.width="".concat(n,"px"),e._isReplaceVisible&&(e._replaceInput.width=f.getTotalWidth(e._findInput.domNode)),e._findInput.inputBox.layout(),e._tryUpdateHeight()))}))),this._register(this._resizeSash.onDidReset((function(){var t=f.getTotalWidth(e._domNode);if(!(t<X)){var n=X;if(!e._resized||t===X){var r=e._codeEditor.getLayoutInfo();n=r.width-28-r.minimap.minimapWidth-15,e._resized=!0}e._domNode.style.width="".concat(n,"px"),e._isReplaceVisible&&(e._replaceInput.width=f.getTotalWidth(e._findInput.domNode)),e._findInput.inputBox.layout()}})))}},{key:"updateAccessibilitySupport",value:function(){var e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}]),r}(m.Widget);oe.ID="editor.contrib.findWidget";var ae=function(e){"use strict";t(l)(r,e);var n=t(c)(r);function r(e){var i;t(a)(this,r),(i=n.call(this))._opts=e;var o="button";return i._opts.className&&(o=o+" "+i._opts.className),i._opts.icon&&(o=o+" "+E.ThemeIcon.asClassName(i._opts.icon)),i._domNode=document.createElement("div"),i._domNode.title=i._opts.label,i._domNode.tabIndex=0,i._domNode.className=o,i._domNode.setAttribute("role","button"),i._domNode.setAttribute("aria-label",i._opts.label),i.onclick(i._domNode,(function(e){i._opts.onTrigger(),e.preventDefault()})),i.onkeydown(i._domNode,(function(e){if(e.equals(10)||e.equals(3))return i._opts.onTrigger(),void e.preventDefault();i._opts.onKeyDown&&i._opts.onKeyDown(e)})),i}return t(s)(r,[{key:"domNode",get:function(){return this._domNode}},{key:"isEnabled",value:function(){return this._domNode.tabIndex>=0}},{key:"focus",value:function(){this._domNode.focus()}},{key:"setEnabled",value:function(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}},{key:"setExpanded",value:function(e){var n,r,i,o;(this._domNode.setAttribute("aria-expanded",String(!!e)),e)?((n=this._domNode.classList).remove.apply(n,t(u)(E.ThemeIcon.asClassNameArray(M))),(r=this._domNode.classList).add.apply(r,t(u)(E.ThemeIcon.asClassNameArray(T)))):((i=this._domNode.classList).remove.apply(i,t(u)(E.ThemeIcon.asClassNameArray(T))),(o=this._domNode.classList).add.apply(o,t(u)(E.ThemeIcon.asClassNameArray(M))))}}]),r}(m.Widget);(0,E.registerThemingParticipant)((function(e,t){var n=function(e,n){n&&t.addRule(".monaco-editor ".concat(e," { background-color: ").concat(n,"; }"))};n(".findMatch",e.getColor(S.editorFindMatchHighlight)),n(".currentFindMatch",e.getColor(S.editorFindMatch)),n(".findScope",e.getColor(S.editorFindRangeHighlight)),n(".find-widget",e.getColor(S.editorWidgetBackground));var r=e.getColor(S.widgetShadow);r&&t.addRule(".monaco-editor .find-widget { box-shadow: 0 0 8px 2px ".concat(r,"; }"));var i=e.getColor(S.editorFindMatchHighlightBorder);i&&t.addRule(".monaco-editor .findMatch { border: 1px ".concat("hc"===e.type?"dotted":"solid"," ").concat(i,"; box-sizing: border-box; }"));var o=e.getColor(S.editorFindMatchBorder);o&&t.addRule(".monaco-editor .currentFindMatch { border: 2px solid ".concat(o,"; padding: 1px; box-sizing: border-box; }"));var a=e.getColor(S.editorFindRangeHighlightBorder);a&&t.addRule(".monaco-editor .findScope { border: 1px ".concat("hc"===e.type?"dashed":"solid"," ").concat(a,"; }"));var s=e.getColor(S.contrastBorder);s&&t.addRule(".monaco-editor .find-widget { border: 1px solid ".concat(s,"; }"));var l=e.getColor(S.editorWidgetForeground);l&&t.addRule(".monaco-editor .find-widget { color: ".concat(l,"; }"));var u=e.getColor(S.errorForeground);u&&t.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: ".concat(u,"; }"));var c=e.getColor(S.editorWidgetResizeBorder);if(c)t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(c,"; }"));else{var d=e.getColor(S.editorWidgetBorder);d&&t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(d,"; }"))}var h=e.getColor(S.focusBorder);h&&t.addRule(".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ".concat(h,"; }"))}))})),o.register("fL2OD",(function(n,r){e(n.exports,"ContextScopedFindInput",(function(){return y}),(function(e){return y=e})),e(n.exports,"ContextScopedReplaceInput",(function(){return b}),(function(e){return b=e}));var i=o("fZTNQ"),a=o("hgtn2"),s=o("aV5UR"),l=o("6x2MV"),u=o("1M3o8"),c=o("ca2Gx"),d=o("77wFy"),h=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=function(e,t){return function(n,r){t(n,r,e)}},p="historyNavigationWidget",g="historyNavigationEnabled";function v(e,t){return e.getContext(document.activeElement).getValue(t)}function m(e,t){var n=function(e,t){return e.createScoped(t.target)}(e,t);return function(e,t,n){new(0,l.RawContextKey)(n,t).bindTo(e)}(n,t,p),{scopedContextKeyService:n,historyNavigationEnablement:new(0,l.RawContextKey)(g,!0).bindTo(n)}}var y=function(e){"use strict";t(a)(r,e);var n=t(s)(r);function r(e,o,a,s){var l,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return t(i)(this,r),(l=n.call(this,e,o,u,a))._register(m(s,{target:l.inputBox.element,historyNavigator:l.inputBox}).scopedContextKeyService),l}return r}(u.FindInput);y=h([f(3,l.IContextKeyService)],y);var b=function(e){"use strict";t(a)(r,e);var n=t(s)(r);function r(e,o,a,s){var l,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return t(i)(this,r),(l=n.call(this,e,o,u,a))._register(m(s,{target:l.inputBox.element,historyNavigator:l.inputBox}).scopedContextKeyService),l}return r}(d.ReplaceInput);b=h([f(3,l.IContextKeyService)],b),c.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:l.ContextKeyExpr.and(l.ContextKeyExpr.has(p),l.ContextKeyExpr.equals(g,!0)),primary:16,secondary:[528],handler:function(e,t){var n=v(e.get(l.IContextKeyService),p);n&&n.historyNavigator.showPreviousValue()}}),c.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:l.ContextKeyExpr.and(l.ContextKeyExpr.has(p),l.ContextKeyExpr.equals(g,!0)),primary:18,secondary:[530],handler:function(e,t){var n=v(e.get(l.IContextKeyService),p);n&&n.historyNavigator.showNextValue()}})})),o.register("1M3o8",(function(n,r){e(n.exports,"FindInput",(function(){return v}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("dKkCN"),c=o("i3Iko"),d=o("39dzO"),h=o("2lK1h"),f=o("4YObi"),p=o("klrG5"),g=u.localize("defaultLabel","input"),v=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o,a,s){var l;t(i)(this,r),(l=n.call(this))._showOptionButtons=a,l.fixFocusOnOptionClickEnabled=!0,l.imeSessionInProgress=!1,l._onDidOptionChange=l._register(new(0,f.Emitter)),l.onDidOptionChange=l._onDidOptionChange.event,l._onKeyDown=l._register(new(0,f.Emitter)),l.onKeyDown=l._onKeyDown.event,l._onMouseDown=l._register(new(0,f.Emitter)),l.onMouseDown=l._onMouseDown.event,l._onInput=l._register(new(0,f.Emitter)),l._onKeyUp=l._register(new(0,f.Emitter)),l._onCaseSensitiveKeyDown=l._register(new(0,f.Emitter)),l.onCaseSensitiveKeyDown=l._onCaseSensitiveKeyDown.event,l._onRegexKeyDown=l._register(new(0,f.Emitter)),l.onRegexKeyDown=l._onRegexKeyDown.event,l._lastHighlightFindOptions=0,l.contextViewProvider=o,l.placeholder=s.placeholder||"",l.validation=s.validation,l.label=s.label||g,l.inputActiveOptionBorder=s.inputActiveOptionBorder,l.inputActiveOptionForeground=s.inputActiveOptionForeground,l.inputActiveOptionBackground=s.inputActiveOptionBackground,l.inputBackground=s.inputBackground,l.inputForeground=s.inputForeground,l.inputBorder=s.inputBorder,l.inputValidationInfoBorder=s.inputValidationInfoBorder,l.inputValidationInfoBackground=s.inputValidationInfoBackground,l.inputValidationInfoForeground=s.inputValidationInfoForeground,l.inputValidationWarningBorder=s.inputValidationWarningBorder,l.inputValidationWarningBackground=s.inputValidationWarningBackground,l.inputValidationWarningForeground=s.inputValidationWarningForeground,l.inputValidationErrorBorder=s.inputValidationErrorBorder,l.inputValidationErrorBackground=s.inputValidationErrorBackground,l.inputValidationErrorForeground=s.inputValidationErrorForeground;var u=s.appendCaseSensitiveLabel||"",h=s.appendWholeWordsLabel||"",v=s.appendRegexLabel||"",m=s.history||[],y=!!s.flexibleHeight,b=!!s.flexibleWidth,_=s.flexibleMaxHeight;l.domNode=document.createElement("div"),l.domNode.classList.add("monaco-findInput"),l.inputBox=l._register(new(0,d.HistoryInputBox)(l.domNode,l.contextViewProvider,{placeholder:l.placeholder||"",ariaLabel:l.label||"",validationOptions:{validation:l.validation},inputBackground:l.inputBackground,inputForeground:l.inputForeground,inputBorder:l.inputBorder,inputValidationInfoBackground:l.inputValidationInfoBackground,inputValidationInfoForeground:l.inputValidationInfoForeground,inputValidationInfoBorder:l.inputValidationInfoBorder,inputValidationWarningBackground:l.inputValidationWarningBackground,inputValidationWarningForeground:l.inputValidationWarningForeground,inputValidationWarningBorder:l.inputValidationWarningBorder,inputValidationErrorBackground:l.inputValidationErrorBackground,inputValidationErrorForeground:l.inputValidationErrorForeground,inputValidationErrorBorder:l.inputValidationErrorBorder,history:m,flexibleHeight:y,flexibleWidth:b,flexibleMaxHeight:_})),l.regex=l._register(new(0,p.RegexCheckbox)({appendTitle:v,isChecked:!1,inputActiveOptionBorder:l.inputActiveOptionBorder,inputActiveOptionForeground:l.inputActiveOptionForeground,inputActiveOptionBackground:l.inputActiveOptionBackground})),l._register(l.regex.onChange((function(e){l._onDidOptionChange.fire(e),!e&&l.fixFocusOnOptionClickEnabled&&l.inputBox.focus(),l.validate()}))),l._register(l.regex.onKeyDown((function(e){l._onRegexKeyDown.fire(e)}))),l.wholeWords=l._register(new(0,p.WholeWordsCheckbox)({appendTitle:h,isChecked:!1,inputActiveOptionBorder:l.inputActiveOptionBorder,inputActiveOptionForeground:l.inputActiveOptionForeground,inputActiveOptionBackground:l.inputActiveOptionBackground})),l._register(l.wholeWords.onChange((function(e){l._onDidOptionChange.fire(e),!e&&l.fixFocusOnOptionClickEnabled&&l.inputBox.focus(),l.validate()}))),l.caseSensitive=l._register(new(0,p.CaseSensitiveCheckbox)({appendTitle:u,isChecked:!1,inputActiveOptionBorder:l.inputActiveOptionBorder,inputActiveOptionForeground:l.inputActiveOptionForeground,inputActiveOptionBackground:l.inputActiveOptionBackground})),l._register(l.caseSensitive.onChange((function(e){l._onDidOptionChange.fire(e),!e&&l.fixFocusOnOptionClickEnabled&&l.inputBox.focus(),l.validate()}))),l._register(l.caseSensitive.onKeyDown((function(e){l._onCaseSensitiveKeyDown.fire(e)}))),l._showOptionButtons&&(l.inputBox.paddingRight=l.caseSensitive.width()+l.wholeWords.width()+l.regex.width());var k=[l.caseSensitive.domNode,l.wholeWords.domNode,l.regex.domNode];l.onkeydown(l.domNode,(function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=k.indexOf(document.activeElement);if(t>=0){var n=-1;e.equals(17)?n=(t+1)%k.length:e.equals(15)&&(n=0===t?k.length-1:t-1),e.equals(9)?(k[t].blur(),l.inputBox.focus()):n>=0&&k[n].focus(),c.EventHelper.stop(e,!0)}}}));var C=document.createElement("div");return C.className="controls",C.style.display=l._showOptionButtons?"block":"none",C.appendChild(l.caseSensitive.domNode),C.appendChild(l.wholeWords.domNode),C.appendChild(l.regex.domNode),l.domNode.appendChild(C),e&&e.appendChild(l.domNode),l._register(c.addDisposableListener(l.inputBox.inputElement,"compositionstart",(function(e){l.imeSessionInProgress=!0}))),l._register(c.addDisposableListener(l.inputBox.inputElement,"compositionend",(function(e){l.imeSessionInProgress=!1,l._onInput.fire()}))),l.onkeydown(l.inputBox.inputElement,(function(e){return l._onKeyDown.fire(e)})),l.onkeyup(l.inputBox.inputElement,(function(e){return l._onKeyUp.fire(e)})),l.oninput(l.inputBox.inputElement,(function(e){return l._onInput.fire()})),l.onmousedown(l.inputBox.inputElement,(function(e){return l._onMouseDown.fire(e)})),l}return t(a)(r,[{key:"enable",value:function(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}},{key:"disable",value:function(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}},{key:"setFocusInputOnOptionClick",value:function(e){this.fixFocusOnOptionClickEnabled=e}},{key:"setEnabled",value:function(e){e?this.enable():this.disable()}},{key:"getValue",value:function(){return this.inputBox.value}},{key:"setValue",value:function(e){this.inputBox.value!==e&&(this.inputBox.value=e)}},{key:"style",value:function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}},{key:"applyStyles",value:function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}},{key:"select",value:function(){this.inputBox.select()}},{key:"focus",value:function(){this.inputBox.focus()}},{key:"getCaseSensitive",value:function(){return this.caseSensitive.checked}},{key:"setCaseSensitive",value:function(e){this.caseSensitive.checked=e}},{key:"getWholeWords",value:function(){return this.wholeWords.checked}},{key:"setWholeWords",value:function(e){this.wholeWords.checked=e}},{key:"getRegex",value:function(){return this.regex.checked}},{key:"setRegex",value:function(e){this.regex.checked=e,this.validate()}},{key:"focusOnCaseSensitive",value:function(){this.caseSensitive.focus()}},{key:"highlightFindOptions",value:function(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}},{key:"validate",value:function(){this.inputBox.validate()}},{key:"clearMessage",value:function(){this.inputBox.hideMessage()}}]),r}(h.Widget)})),o.register("77wFy",(function(n,r){e(n.exports,"ReplaceInput",(function(){return k}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("aV5UR"),d=o("dKkCN"),h=o("i3Iko"),f=o("39dzO"),p=o("2lK1h"),g=o("4YObi"),v=o("bvHEu"),m=o("9k9F9"),y=d.localize("defaultLabel","input"),b=d.localize("label.preserveCaseCheckbox","Preserve Case"),_=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e){return t(i)(this,r),n.call(this,{icon:m.Codicon.preserveCase,title:b+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}return r}(v.Checkbox),k=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,o,a,s){var l;t(i)(this,r),(l=n.call(this))._showOptionButtons=a,l.fixFocusOnOptionClickEnabled=!0,l.cachedOptionsWidth=0,l._onDidOptionChange=l._register(new(0,g.Emitter)),l.onDidOptionChange=l._onDidOptionChange.event,l._onKeyDown=l._register(new(0,g.Emitter)),l.onKeyDown=l._onKeyDown.event,l._onMouseDown=l._register(new(0,g.Emitter)),l._onInput=l._register(new(0,g.Emitter)),l._onKeyUp=l._register(new(0,g.Emitter)),l._onPreserveCaseKeyDown=l._register(new(0,g.Emitter)),l.onPreserveCaseKeyDown=l._onPreserveCaseKeyDown.event,l.contextViewProvider=o,l.placeholder=s.placeholder||"",l.validation=s.validation,l.label=s.label||y,l.inputActiveOptionBorder=s.inputActiveOptionBorder,l.inputActiveOptionForeground=s.inputActiveOptionForeground,l.inputActiveOptionBackground=s.inputActiveOptionBackground,l.inputBackground=s.inputBackground,l.inputForeground=s.inputForeground,l.inputBorder=s.inputBorder,l.inputValidationInfoBorder=s.inputValidationInfoBorder,l.inputValidationInfoBackground=s.inputValidationInfoBackground,l.inputValidationInfoForeground=s.inputValidationInfoForeground,l.inputValidationWarningBorder=s.inputValidationWarningBorder,l.inputValidationWarningBackground=s.inputValidationWarningBackground,l.inputValidationWarningForeground=s.inputValidationWarningForeground,l.inputValidationErrorBorder=s.inputValidationErrorBorder,l.inputValidationErrorBackground=s.inputValidationErrorBackground,l.inputValidationErrorForeground=s.inputValidationErrorForeground;var u=s.appendPreserveCaseLabel||"",c=s.history||[],d=!!s.flexibleHeight,p=!!s.flexibleWidth,v=s.flexibleMaxHeight;l.domNode=document.createElement("div"),l.domNode.classList.add("monaco-findInput"),l.inputBox=l._register(new(0,f.HistoryInputBox)(l.domNode,l.contextViewProvider,{ariaLabel:l.label||"",placeholder:l.placeholder||"",validationOptions:{validation:l.validation},inputBackground:l.inputBackground,inputForeground:l.inputForeground,inputBorder:l.inputBorder,inputValidationInfoBackground:l.inputValidationInfoBackground,inputValidationInfoForeground:l.inputValidationInfoForeground,inputValidationInfoBorder:l.inputValidationInfoBorder,inputValidationWarningBackground:l.inputValidationWarningBackground,inputValidationWarningForeground:l.inputValidationWarningForeground,inputValidationWarningBorder:l.inputValidationWarningBorder,inputValidationErrorBackground:l.inputValidationErrorBackground,inputValidationErrorForeground:l.inputValidationErrorForeground,inputValidationErrorBorder:l.inputValidationErrorBorder,history:c,flexibleHeight:d,flexibleWidth:p,flexibleMaxHeight:v})),l.preserveCase=l._register(new _({appendTitle:u,isChecked:!1,inputActiveOptionBorder:l.inputActiveOptionBorder,inputActiveOptionForeground:l.inputActiveOptionForeground,inputActiveOptionBackground:l.inputActiveOptionBackground})),l._register(l.preserveCase.onChange((function(e){l._onDidOptionChange.fire(e),!e&&l.fixFocusOnOptionClickEnabled&&l.inputBox.focus(),l.validate()}))),l._register(l.preserveCase.onKeyDown((function(e){l._onPreserveCaseKeyDown.fire(e)}))),l._showOptionButtons?l.cachedOptionsWidth=l.preserveCase.width():l.cachedOptionsWidth=0;var m=[l.preserveCase.domNode];l.onkeydown(l.domNode,(function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=m.indexOf(document.activeElement);if(t>=0){var n=-1;e.equals(17)?n=(t+1)%m.length:e.equals(15)&&(n=0===t?m.length-1:t-1),e.equals(9)?(m[t].blur(),l.inputBox.focus()):n>=0&&m[n].focus(),h.EventHelper.stop(e,!0)}}}));var b=document.createElement("div");return b.className="controls",b.style.display=l._showOptionButtons?"block":"none",b.appendChild(l.preserveCase.domNode),l.domNode.appendChild(b),e&&e.appendChild(l.domNode),l.onkeydown(l.inputBox.inputElement,(function(e){return l._onKeyDown.fire(e)})),l.onkeyup(l.inputBox.inputElement,(function(e){return l._onKeyUp.fire(e)})),l.oninput(l.inputBox.inputElement,(function(e){return l._onInput.fire()})),l.onmousedown(l.inputBox.inputElement,(function(e){return l._onMouseDown.fire(e)})),l}return t(a)(r,[{key:"enable",value:function(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}},{key:"disable",value:function(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}},{key:"setEnabled",value:function(e){e?this.enable():this.disable()}},{key:"style",value:function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}},{key:"applyStyles",value:function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}},{key:"select",value:function(){this.inputBox.select()}},{key:"focus",value:function(){this.inputBox.focus()}},{key:"getPreserveCase",value:function(){return this.preserveCase.checked}},{key:"setPreserveCase",value:function(e){this.preserveCase.checked=e}},{key:"focusOnPreserve",value:function(){this.preserveCase.focus()}},{key:"validate",value:function(){this.inputBox&&this.inputBox.validate()}},{key:"width",set:function(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}},{key:"dispose",value:function(){t(s)(t(l)(r.prototype),"dispose",this).call(this)}}]),r}(p.Widget)})),o.register("epUF9",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("hFMTy"),l=o("aV5UR"),u=o("dKkCN"),c=o("2lfWM"),d=o("flPya"),h=o("1xRRx"),f=o("aLDYa"),p=o("glSIC"),g=o("kT6fp"),v=o("cvRJ0"),m=o("hS40q"),y=o("7Zg88"),b=o("joHrz"),_=o("95goo"),k=o("4EPwp"),C=o("aQzpN"),x=o("3CpWo"),w=o("3cPXt"),S=o("9yDnc"),E=o("6x2MV"),D=o("4qRit"),I=o("eZPXr"),R=o("jhpae"),L=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t){return function(n,r){t(n,r,e)}},M=new(0,E.RawContextKey)("foldingEnabled",!1),T=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(e,i){var a;t(r)(this,o),(a=n.call(this)).contextKeyService=i,a.localToDispose=a._register(new(0,p.DisposableStore)),a.editor=e;var s=a.editor.getOptions();return a._isEnabled=s.get(35),a._useFoldingProviders="indentation"!==s.get(36),a._unfoldOnClickAfterEndOfLine=s.get(39),a._restoringViewState=!1,a._currentModelHasFoldedImports=!1,a._foldingImportsByDefault=s.get(38),a.foldingModel=null,a.hiddenRangeModel=null,a.rangeProvider=null,a.foldingRegionPromise=null,a.foldingStateMemento=null,a.foldingModelPromise=null,a.updateScheduler=null,a.cursorChangedScheduler=null,a.mouseDownInfo=null,a.foldingDecorationProvider=new(0,m.FoldingDecorationProvider)(e),a.foldingDecorationProvider.autoHideFoldingControls="mouseover"===s.get(98),a.foldingDecorationProvider.showFoldingHighlights=s.get(37),a.foldingEnabled=M.bindTo(a.contextKeyService),a.foldingEnabled.set(a._isEnabled),a._register(a.editor.onDidChangeModel((function(){return a.onModelChanged()}))),a._register(a.editor.onDidChangeConfiguration((function(e){if(e.hasChanged(35)&&(a._isEnabled=a.editor.getOptions().get(35),a.foldingEnabled.set(a._isEnabled),a.onModelChanged()),e.hasChanged(98)||e.hasChanged(37)){var t=a.editor.getOptions();a.foldingDecorationProvider.autoHideFoldingControls="mouseover"===t.get(98),a.foldingDecorationProvider.showFoldingHighlights=t.get(37),a.onModelContentChanged()}e.hasChanged(36)&&(a._useFoldingProviders="indentation"!==a.editor.getOptions().get(36),a.onFoldingStrategyChanged()),e.hasChanged(39)&&(a._unfoldOnClickAfterEndOfLine=a.editor.getOptions().get(39)),e.hasChanged(38)&&(a._foldingImportsByDefault=a.editor.getOptions().get(38))}))),a.onModelChanged(),a}return t(i)(o,[{key:"saveViewState",value:function(){var e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){var t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}},{key:"restoreViewState",value:function(e){var t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&e.lineCount===t.getLineCount()&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions)){e.provider!==x.ID_SYNTAX_PROVIDER&&e.provider!==w.ID_INIT_PROVIDER||(this.foldingStateMemento=e);var n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){var r=this,i=this.getFoldingModel();i&&i.then((function(e){if(e){r._restoringViewState=!0;try{e.applyMemento(n)}finally{r._restoringViewState=!1}}})).then(void 0,S.onUnexpectedError)}}}},{key:"onModelChanged",value:function(){var e=this;this.localToDispose.clear();var t=this.editor.getModel();this._isEnabled&&t&&!t.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new(0,v.FoldingModel)(t,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new(0,b.HiddenRangeModel)(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((function(t){return e.onHiddenRangesChanges(t)}))),this.updateScheduler=new(0,h.Delayer)(200),this.cursorChangedScheduler=new(0,h.RunOnceScheduler)((function(){return e.revealCursor()}),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(C.FoldingRangeProviderRegistry.onDidChange((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelContent((function(){return e.onModelContentChanged()}))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((function(){return e.onCursorPositionChanged()}))),this.localToDispose.add(this.editor.onMouseDown((function(t){return e.onEditorMouseDown(t)}))),this.localToDispose.add(this.editor.onMouseUp((function(t){return e.onEditorMouseUp(t)}))),this.localToDispose.add({dispose:function(){e.foldingRegionPromise&&(e.foldingRegionPromise.cancel(),e.foldingRegionPromise=null),e.updateScheduler&&e.updateScheduler.cancel(),e.updateScheduler=null,e.foldingModel=null,e.foldingModelPromise=null,e.hiddenRangeModel=null,e.cursorChangedScheduler=null,e.foldingStateMemento=null,e.rangeProvider&&e.rangeProvider.dispose(),e.rangeProvider=null}}),this.onModelContentChanged())}},{key:"onFoldingStrategyChanged",value:function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}},{key:"getRangeProvider",value:function(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new(0,k.IndentRangeProvider)(e),this._useFoldingProviders&&this.foldingModel){var t=this,n=C.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(0===n.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){var r=this;return this.rangeProvider=new(0,w.InitializingRangeProvider)(e,this.foldingStateMemento.collapsedRegions,(function(){r.foldingStateMemento=null,r.onFoldingStrategyChanged()}),3e4)}n.length>0&&(this.rangeProvider=new(0,x.SyntaxRangeProvider)(e,n,(function(){return t.onModelContentChanged()})))}return this.foldingStateMemento=null,this.rangeProvider}},{key:"getFoldingModel",value:function(){return this.foldingModelPromise}},{key:"onModelContentChanged",value:function(){if(this.updateScheduler){var e=this;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((function(){var t=e,n=e.foldingModel;if(!n)return null;var r=e.getRangeProvider(n.textModel),i=e.foldingRegionPromise=(0,h.createCancelablePromise)((function(e){return r.compute(e)}));return i.then((function(e){if(e&&i===t.foldingRegionPromise){var r;if(t._foldingImportsByDefault&&!t._currentModelHasFoldedImports){var o=e.setCollapsedAllOfType(C.FoldingRangeKind.Imports.value,!0);o&&(r=R.StableEditorScrollState.capture(t.editor),t._currentModelHasFoldedImports=o)}var a=t.editor.getSelections(),s=a?a.map((function(e){return e.startLineNumber})):[];n.update(e,s),r&&r.restore(t.editor)}return n}))})).then(void 0,(function(e){return(0,S.onUnexpectedError)(e),null}))}}},{key:"onHiddenRangesChanges",value:function(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){var t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}},{key:"onCursorPositionChanged",value:function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}},{key:"revealCursor",value:function(){var e=this,n=this.getFoldingModel();n&&n.then((function(n){if(n){var r=e.editor.getSelections();if(r&&r.length>0){var i=[],o=!0,a=!1,l=void 0;try{for(var u,c=function(r,o){var a,l=o.value.selectionStartLineNumber;e.hiddenRangeModel&&e.hiddenRangeModel.isHidden(l)&&(a=i).push.apply(a,t(s)(n.getAllRegionsAtLine(l,(function(e){return e.isCollapsed&&l>e.startLineNumber}))))},d=r[Symbol.iterator]();!(o=(u=d.next()).done);o=!0)c(0,u)}catch(e){a=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(a)throw l}}i.length&&(n.toggleCollapseState(i),e.reveal(r[0].getPosition()))}}})).then(void 0,S.onUnexpectedError)}},{key:"onEditorMouseDown",value:function(e){if(this.mouseDownInfo=null,this.hiddenRangeModel&&e.target&&e.target.range&&(e.event.leftButton||e.event.middleButton)){var t=e.target.range,n=!1;switch(e.target.type){case 4:var r=e.target.detail,i=e.target.element.offsetLeft;if(r.offsetX-i<5)return;n=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges())if(!e.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){var o=this.editor.getModel();if(o&&t.startColumn===o.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}}},{key:"onEditorMouseUp",value:function(e){var t=this,n=this.getFoldingModel();if(n&&this.mouseDownInfo&&e.target){var r=this.mouseDownInfo.lineNumber,i=this.mouseDownInfo.iconClicked,o=e.target.range;if(o&&o.startLineNumber===r){if(i){if(4!==e.target.type)return}else{var a=this.editor.getModel();if(!a||o.startColumn!==a.getLineMaxColumn(r))return}n.then((function(n){if(n){var o=n.getRegionAtLine(r);if(o&&o.startLineNumber===r){var a=o.isCollapsed;if(i||a){var s=[];if(e.event.altKey){var l=n.getRegionsInside(null,(function(e){return!e.containedBy(o)&&!o.containedBy(e)})),u=!0,c=!1,d=void 0;try{for(var h,f=l[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;p.isCollapsed&&s.push(p)}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}0===s.length&&(s=l)}else{var g=e.event.middleButton||e.event.shiftKey;if(g){var v=!0,m=!1,y=void 0;try{for(var b,_=n.getRegionsInside(o)[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var k=b.value;k.isCollapsed===a&&s.push(k)}}catch(e){m=!0,y=e}finally{try{v||null==_.return||_.return()}finally{if(m)throw y}}}!a&&g&&0!==s.length||s.push(o)}n.toggleCollapseState(s),t.reveal({lineNumber:r,column:1})}}}})).then(void 0,S.onUnexpectedError)}}}},{key:"reveal",value:function(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}}],[{key:"get",value:function(e){return e.getContribution(o.ID)}}]),o}(p.Disposable);T.ID="editor.contrib.folding",T=L([A(1,E.IContextKeyService)],T);var N=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.apply(this,arguments)}return t(i)(o,[{key:"runEditorCommand",value:function(e,t,n){var r=T.get(t);if(r){var i=r.getFoldingModel();if(i){var o=this;return this.reportTelemetry(e,t),i.then((function(e){if(e){o.invoke(r,e,t,n);var i=t.getSelection();i&&r.reveal(i.getStartPosition())}}))}}}},{key:"getSelectedLines",value:function(e){var t=e.getSelections();return t?t.map((function(e){return e.startLineNumber})):[]}},{key:"getLineNumbers",value:function(e,t){return e&&e.selectionLines?e.selectionLines.map((function(e){return e+1})):this.getSelectedLines(t)}},{key:"run",value:function(e,t){}}]),o}(g.EditorAction);function P(e){if(!c.isUndefined(e)){if(!c.isObject(e))return!1;var t=e;if(!c.isUndefined(t.levels)&&!c.isNumber(t.levels))return!1;if(!c.isUndefined(t.direction)&&!c.isString(t.direction))return!1;if(!(c.isUndefined(t.selectionLines)||c.isArray(t.selectionLines)&&t.selectionLines.every(c.isNumber)))return!1}return!0}var O=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.unfold",label:u.localize("unfoldAction.label","Unfold"),alias:"Unfold",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:P,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}return t(i)(o,[{key:"invoke",value:function(e,t,n,r){var i=r&&r.levels||1,o=this.getLineNumbers(r,n);r&&"up"===r.direction?(0,v.setCollapseStateLevelsUp)(t,!1,i,o):(0,v.setCollapseStateLevelsDown)(t,!1,i,o)}}]),o}(N),F=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.unfoldRecursively",label:u.localize("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2137),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n,r){(0,v.setCollapseStateLevelsDown)(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}]),o}(N),B=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.fold",label:u.localize("foldAction.label","Fold"),alias:"Fold",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:P,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}return t(i)(o,[{key:"invoke",value:function(e,t,n,r){var i=this.getLineNumbers(r,n),o=r&&r.levels,a=r&&r.direction;"number"!=typeof o&&"string"!=typeof a?(0,v.setCollapseStateUp)(t,!0,i):"up"===a?(0,v.setCollapseStateLevelsUp)(t,!0,o||1,i):(0,v.setCollapseStateLevelsDown)(t,!0,o||1,i)}}]),o}(N),z=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.toggleFold",label:u.localize("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2090),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);(0,v.toggleCollapseState)(t,1,r)}}]),o}(N),W=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.foldRecursively",label:u.localize("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2135),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);(0,v.setCollapseStateLevelsDown)(t,!0,Number.MAX_VALUE,r)}}]),o}(N),H=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.foldAllBlockComments",label:u.localize("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2133),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){if(t.regions.hasTypes())(0,v.setCollapseStateForType)(t,C.FoldingRangeKind.Comment.value,!0);else{var r=n.getModel();if(!r)return;var i=_.LanguageConfigurationRegistry.getComments(r.getLanguageIdentifier().id);if(i&&i.blockCommentStartToken){var o=new RegExp("^\\s*"+(0,d.escapeRegExpCharacters)(i.blockCommentStartToken));(0,v.setCollapseStateForMatchingLines)(t,o,!0)}}}}]),o}(N),V=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.foldAllMarkerRegions",label:u.localize("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2077),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){if(t.regions.hasTypes())(0,v.setCollapseStateForType)(t,C.FoldingRangeKind.Region.value,!0);else{var r=n.getModel();if(!r)return;var i=_.LanguageConfigurationRegistry.getFoldingRules(r.getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start){var o=new RegExp(i.markers.start);(0,v.setCollapseStateForMatchingLines)(t,o,!0)}}}}]),o}(N),j=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.unfoldAllMarkerRegions",label:u.localize("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2078),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){if(t.regions.hasTypes())(0,v.setCollapseStateForType)(t,C.FoldingRangeKind.Region.value,!1);else{var r=n.getModel();if(!r)return;var i=_.LanguageConfigurationRegistry.getFoldingRules(r.getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start){var o=new RegExp(i.markers.start);(0,v.setCollapseStateForMatchingLines)(t,o,!1)}}}}]),o}(N),K=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.foldAllExcept",label:u.localize("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2131),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);(0,v.setCollapseStateForRest)(t,!0,r)}}]),o}(N),U=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.unfoldAllExcept",label:u.localize("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2129),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);(0,v.setCollapseStateForRest)(t,!1,r)}}]),o}(N),q=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.foldAll",label:u.localize("foldAllAction.label","Fold All"),alias:"Fold All",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2069),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){(0,v.setCollapseStateLevelsDown)(t,!0)}}]),o}(N),Z=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.unfoldAll",label:u.localize("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2088),weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){(0,v.setCollapseStateLevelsDown)(t,!1)}}]),o}(N),G=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.apply(this,arguments)}return t(i)(o,[{key:"getFoldingLevel",value:function(){return parseInt(this.id.substr(o.ID_PREFIX.length))}},{key:"invoke",value:function(e,t,n){(0,v.setCollapseStateAtLevel)(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))}}]),o}(N);G.ID_PREFIX="editor.foldLevel",G.ID=function(e){return G.ID_PREFIX+e};var Q=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.gotoParentFold",label:u.localize("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);if(r.length>0){var i=(0,v.getParentFoldLine)(r[0],t);null!==i&&n.setSelection({startLineNumber:i,startColumn:1,endLineNumber:i,endColumn:1})}}}]),o}(N),J=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.gotoPreviousFold",label:u.localize("gotoPreviousFold.label","Go to Previous Fold"),alias:"Go to Previous Fold",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);if(r.length>0){var i=(0,v.getPreviousFoldLine)(r[0],t);null!==i&&n.setSelection({startLineNumber:i,startColumn:1,endLineNumber:i,endColumn:1})}}}]),o}(N),Y=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.gotoNextFold",label:u.localize("gotoNextFold.label","Go to Next Fold"),alias:"Go to Next Fold",precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,weight:100}})}return t(i)(o,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);if(r.length>0){var i=(0,v.getNextFoldLine)(r[0],t);null!==i&&n.setSelection({startLineNumber:i,startColumn:1,endLineNumber:i,endColumn:1})}}}]),o}(N);(0,g.registerEditorContribution)(T.ID,T),(0,g.registerEditorAction)(O),(0,g.registerEditorAction)(F),(0,g.registerEditorAction)(B),(0,g.registerEditorAction)(W),(0,g.registerEditorAction)(q),(0,g.registerEditorAction)(Z),(0,g.registerEditorAction)(H),(0,g.registerEditorAction)(V),(0,g.registerEditorAction)(j),(0,g.registerEditorAction)(K),(0,g.registerEditorAction)(U),(0,g.registerEditorAction)(z),(0,g.registerEditorAction)(Q),(0,g.registerEditorAction)(J),(0,g.registerEditorAction)(Y);for(var X=1;X<=7;X++)(0,g.registerInstantiatedEditorAction)(new G({id:G.ID(X),label:u.localize("foldLevelAction.label","Fold Level {0}",X),alias:"Fold Level ".concat(X),precondition:M,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2048|21+X),weight:100}}));var $=(0,I.registerColor)("editor.foldBackground",{light:(0,I.transparent)(I.editorSelectionBackground,.3),dark:(0,I.transparent)(I.editorSelectionBackground,.3),hc:null},u.localize("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),ee=(0,I.registerColor)("editorGutter.foldingControlForeground",{dark:I.iconForeground,light:I.iconForeground,hc:I.iconForeground},u.localize("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,D.registerThemingParticipant)((function(e,t){var n=e.getColor($);n&&t.addRule(".monaco-editor .folded-background { background-color: ".concat(n,"; }"));var r=e.getColor(ee);r&&t.addRule("\n\t\t.monaco-editor .cldr".concat(D.ThemeIcon.asCSSSelector(m.foldingExpandedIcon),",\n\t\t.monaco-editor .cldr").concat(D.ThemeIcon.asCSSSelector(m.foldingCollapsedIcon)," {\n\t\t\tcolor: ").concat(r," !important;\n\t\t}\n\t\t"))}))})),o.register("cvRJ0",(function(n,r){e(n.exports,"FoldingModel",(function(){return c})),e(n.exports,"toggleCollapseState",(function(){return d})),e(n.exports,"setCollapseStateLevelsDown",(function(){return h})),e(n.exports,"setCollapseStateLevelsUp",(function(){return f})),e(n.exports,"setCollapseStateUp",(function(){return p})),e(n.exports,"setCollapseStateAtLevel",(function(){return g})),e(n.exports,"setCollapseStateForRest",(function(){return v})),e(n.exports,"setCollapseStateForMatchingLines",(function(){return m})),e(n.exports,"setCollapseStateForType",(function(){return y})),e(n.exports,"getParentFoldLine",(function(){return b})),e(n.exports,"getPreviousFoldLine",(function(){return _})),e(n.exports,"getNextFoldLine",(function(){return k}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hFMTy"),l=o("4YObi"),u=o("9YZX7"),c=function(){"use strict";function e(n,r){t(i)(this,e),this._updateEventEmitter=new(0,l.Emitter),this.onDidChange=this._updateEventEmitter.event,this._textModel=n,this._decorationProvider=r,this._regions=new(0,u.FoldingRegions)(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return t(a)(e,[{key:"regions",get:function(){return this._regions}},{key:"textModel",get:function(){return this._textModel}},{key:"isInitialized",get:function(){return this._isInitialized}},{key:"toggleCollapseState",value:function(e){var t=this;if(e.length){e=e.sort((function(e,t){return e.regionIndex-t.regionIndex}));var n={};this._decorationProvider.changeDecorations((function(r){var i=t,o=0,a=-1,s=-1,l=function(e){for(;o<e;){var t=i._regions.getEndLineNumber(o),n=i._regions.isCollapsed(o);t<=a&&r.changeDecorationOptions(i._editorDecorationIds[o],i._decorationProvider.getDecorationOption(n,t<=s)),n&&t>s&&(s=t),o++}},u=!0,c=!1,d=void 0;try{for(var h,f=e[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value.regionIndex,g=t._editorDecorationIds[p];if(g&&!n[g]){n[g]=!0,l(p);var v=!t._regions.isCollapsed(p);t._regions.setCollapsed(p,v),a=Math.max(a,t._regions.getEndLineNumber(p))}}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}l(t._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}}},{key:"update",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,r=[],i=function(e,n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(e<l&&l<=n)return!0}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return!1},o=-1,a=function(t,a){var s=e.getStartLineNumber(t),l=e.getEndLineNumber(t);a||(a=e.isCollapsed(t)),a&&i(s,l)&&(a=!1),e.setCollapsed(t,a);var u=n._textModel.getLineMaxColumn(s),c={startLineNumber:s,startColumn:Math.max(u-1,1),endLineNumber:s,endColumn:u};r.push({range:c,options:n._decorationProvider.getDecorationOption(a,l<=o)}),a&&l>o&&(o=l)},s=0,l=function(){for(;s<n._regions.length;){var e=n._regions.isCollapsed(s);if(s++,e)return s-1}return-1},u=0,c=l();-1!==c&&u<e.length;){var d=this._textModel.getDecorationRange(this._editorDecorationIds[c]);if(d){var h=d.startLineNumber;if(d.startColumn===Math.max(d.endColumn-1,1)&&this._textModel.getLineMaxColumn(h)===d.endColumn)for(;u<e.length;){var f=e.getStartLineNumber(u);if(!(h>=f))break;a(u,h===f),u++}}c=l()}for(;u<e.length;)a(u,!1),u++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,r),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}},{key:"getMemento",value:function(){for(var e=[],t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){var n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){var r=n.startLineNumber,i=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:r,endLineNumber:i})}}if(e.length>0)return e}},{key:"applyMemento",value:function(e){if(Array.isArray(e)){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.getRegionAtLine(s.startLineNumber);l&&!l.isCollapsed&&t.push(l)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.toggleCollapseState(t)}}},{key:"dispose",value:function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}},{key:"getAllRegionsAtLine",value:function(e,t){var n=[];if(this._regions)for(var r=this._regions.findRange(e),i=1;r>=0;){var o=this._regions.toRegion(r);t&&!t(o,i)||n.push(o),i++,r=o.parentIndex}return n}},{key:"getRegionAtLine",value:function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}},{key:"getRegionsInside",value:function(e,t){var n=[],r=e?e.regionIndex+1:0,i=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length)for(var o=[],a=r,s=this._regions.length;a<s;a++){var l=this._regions.toRegion(a);if(!(this._regions.getStartLineNumber(a)<i))break;for(;o.length>0&&!l.containedBy(o[o.length-1]);)o.pop();o.push(l),t(l,o.length)&&n.push(l)}else for(var u=r,c=this._regions.length;u<c;u++){var d=this._regions.toRegion(u);if(!(this._regions.getStartLineNumber(u)<i))break;t&&!t(d)||n.push(d)}return n}}]),e}();function d(e,n,r){var i=[],o=!0,a=!1,l=void 0;try{for(var u,c=function(r,o){var a=o.value,l=e.getRegionAtLine(a);if(l){var u=!l.isCollapsed;if(i.push(l),n>1){var c,d=e.getRegionsInside(l,(function(e,t){return e.isCollapsed!==u&&t<n}));(c=i).push.apply(c,t(s)(d))}}},d=r[Symbol.iterator]();!(o=(u=d.next()).done);o=!0)c(0,u)}catch(e){a=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(a)throw l}}e.toggleCollapseState(i)}function h(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE,i=arguments.length>3?arguments[3]:void 0,o=[],a=!0,l=!1,u=void 0;if(i&&i.length>0)try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value,f=e.getRegionAtLine(h);if(f&&(f.isCollapsed!==n&&o.push(f),r>1)){var p,g=e.getRegionsInside(f,(function(e,t){return e.isCollapsed!==n&&t<r}));(p=o).push.apply(p,t(s)(g))}}}catch(e){l=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw u}}else{var v,m=e.getRegionsInside(null,(function(e,t){return e.isCollapsed!==n&&t<r}));(v=o).push.apply(v,t(s)(m))}e.toggleCollapseState(o)}function f(e,n,r,i){var o=[],a=!0,l=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h,f=c.value,p=e.getAllRegionsAtLine(f,(function(e,t){return e.isCollapsed!==n&&t<=r}));(h=o).push.apply(h,t(s)(p))}}catch(e){l=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw u}}e.toggleCollapseState(o)}function p(e,t,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=e.getAllRegionsAtLine(u,(function(e){return e.isCollapsed!==t}));c.length>0&&r.push(c[0])}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}e.toggleCollapseState(r)}function g(e,t,n,r){var i=e.getRegionsInside(null,(function(e,i){return i===t&&e.isCollapsed!==n&&!r.some((function(t){return e.containsLine(t)}))}));e.toggleCollapseState(i)}function v(e,t,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r.push(e.getAllRegionsAtLine(u,void 0)[0])}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var c=e.getRegionsInside(null,(function(e){return r.every((function(t){return!t.containedBy(e)&&!e.containedBy(t)}))&&e.isCollapsed!==t}));e.toggleCollapseState(c)}function m(e,t,n){for(var r=e.textModel,i=e.regions,o=[],a=i.length-1;a>=0;a--)if(n!==i.isCollapsed(a)){var s=i.getStartLineNumber(a);t.test(r.getLineContent(s))&&o.push(i.toRegion(a))}e.toggleCollapseState(o)}function y(e,t,n){for(var r=e.regions,i=[],o=r.length-1;o>=0;o--)n!==r.isCollapsed(o)&&t===r.getType(o)&&i.push(r.toRegion(o));e.toggleCollapseState(i)}function b(e,t){var n=null,r=t.getRegionAtLine(e);if(null!==r&&e===(n=r.startLineNumber)){var i=r.parentIndex;n=-1!==i?t.regions.getStartLineNumber(i):null}return n}function _(e,t){var n=t.getRegionAtLine(e);if(null!==n){if(e!==n.startLineNumber)return n.startLineNumber;var r=n.parentIndex;if(-1===r)return null;for(var i=t.regions.getStartLineNumber(n.parentIndex);null!==n;){if(!(n.regionIndex>0))return null;if((n=t.regions.toRegion(n.regionIndex-1)).startLineNumber<=i)return null;if(n.parentIndex===r)return n.startLineNumber}}return null}function k(e,t){var n=t.getRegionAtLine(e);if(null!==n){var r=n.parentIndex;if(-1===r)return null;for(var i=t.regions.getEndLineNumber(n.parentIndex);null!==n;){if(!(n.regionIndex<t.regions.length))return null;if((n=t.regions.toRegion(n.regionIndex+1)).startLineNumber>=i)return null;if(n.parentIndex===r)return n.startLineNumber}}return null}})),o.register("9YZX7",(function(n,r){e(n.exports,"MAX_LINE_NUMBER",(function(){return s})),e(n.exports,"FoldingRegions",(function(){return u}));var i=o("fZTNQ"),a=o("j7KTJ"),s=16777215,l=4278190080,u=function(){"use strict";function e(n,r,o){if(t(i)(this,e),n.length!==r.length||n.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=n,this._endIndexes=r,this._collapseStates=new Uint32Array(Math.ceil(n.length/32)),this._types=o,this._parentsComputed=!1}return t(a)(e,[{key:"ensureParentIndices",value:function(){if(!this._parentsComputed){var e=this;this._parentsComputed=!0;for(var t=[],n=0,r=this._startIndexes.length;n<r;n++){var i=this._startIndexes[n],o=this._endIndexes[n];if(i>s||o>s)throw new Error("startLineNumber or endLineNumber must not exceed "+s);for(;t.length>0&&(l=i,u=o,c=void 0,c=t[t.length-1],!(e.getStartLineNumber(c)<=l&&e.getEndLineNumber(c)>=u));)t.pop();var a=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=i+((255&a)<<24),this._endIndexes[n]=o+((65280&a)<<16)}}var l,u,c}},{key:"length",get:function(){return this._startIndexes.length}},{key:"getStartLineNumber",value:function(e){return this._startIndexes[e]&s}},{key:"getEndLineNumber",value:function(e){return this._endIndexes[e]&s}},{key:"getType",value:function(e){return this._types?this._types[e]:void 0}},{key:"hasTypes",value:function(){return!!this._types}},{key:"isCollapsed",value:function(e){var t=e/32|0,n=e%32;return 0!=(this._collapseStates[t]&1<<n)}},{key:"setCollapsed",value:function(e,t){var n=e/32|0,r=e%32,i=this._collapseStates[n];this._collapseStates[n]=t?i|1<<r:i&~(1<<r)}},{key:"setCollapsedAllOfType",value:function(e,t){var n=!1;if(this._types)for(var r=0;r<this._types.length;r++)this._types[r]===e&&(this.setCollapsed(r,t),n=!0);return n}},{key:"toRegion",value:function(e){return new c(this,e)}},{key:"getParentIndex",value:function(e){this.ensureParentIndices();var t=((this._startIndexes[e]&l)>>>24)+((this._endIndexes[e]&l)>>>16);return 65535===t?-1:t}},{key:"contains",value:function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}},{key:"findIndex",value:function(e){var t=0,n=this._startIndexes.length;if(0===n)return-1;for(;t<n;){var r=Math.floor((t+n)/2);e<this.getStartLineNumber(r)?n=r:t=r+1}return t-1}},{key:"findRange",value:function(e){var t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}},{key:"toString",value:function(){for(var e=[],t=0;t<this.length;t++)e[t]="[".concat(this.isCollapsed(t)?"+":"-","] ").concat(this.getStartLineNumber(t),"/").concat(this.getEndLineNumber(t));return e.join(", ")}}]),e}(),c=function(){"use strict";function e(n,r){t(i)(this,e),this.ranges=n,this.index=r}return t(a)(e,[{key:"startLineNumber",get:function(){return this.ranges.getStartLineNumber(this.index)}},{key:"endLineNumber",get:function(){return this.ranges.getEndLineNumber(this.index)}},{key:"regionIndex",get:function(){return this.index}},{key:"parentIndex",get:function(){return this.ranges.getParentIndex(this.index)}},{key:"isCollapsed",get:function(){return this.ranges.isCollapsed(this.index)}},{key:"containedBy",value:function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}},{key:"containsLine",value:function(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}]),e}()})),o.register("hS40q",(function(n,r){e(n.exports,"foldingExpandedIcon",(function(){return h})),e(n.exports,"foldingCollapsedIcon",(function(){return f})),e(n.exports,"FoldingDecorationProvider",(function(){return p}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("3bY1c"),l=o("9k9F9"),u=o("dKkCN"),c=o("4boq2"),d=o("4qRit"),h=(0,c.registerIcon)("folding-expanded",l.Codicon.chevronDown,(0,u.localize)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),f=(0,c.registerIcon)("folding-collapsed",l.Codicon.chevronRight,(0,u.localize)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),p=function(){"use strict";function e(n){t(i)(this,e),this.editor=n,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}return t(a)(e,[{key:"getDecorationOption",value:function(t,n){return n?e.HIDDEN_RANGE_DECORATION:t?this.showFoldingHighlights?e.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:e.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:e.EXPANDED_VISUAL_DECORATION}},{key:"deltaDecorations",value:function(e,t){return this.editor.deltaDecorations(e,t)}},{key:"changeDecorations",value:function(e){return this.editor.changeDecorations(e)}}]),e}();p.COLLAPSED_VISUAL_DECORATION=s.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(f)}),p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=s.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(f)}),p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=s.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(h)}),p.EXPANDED_VISUAL_DECORATION=s.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+d.ThemeIcon.asClassName(h)}),p.HIDDEN_RANGE_DECORATION=s.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})})),o.register("joHrz",(function(n,r){e(n.exports,"HiddenRangeModel",(function(){return c}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("4YObi"),l=o("Og1nm"),u=o("ddsHh"),c=function(){"use strict";function e(n){var r=this;t(i)(this,e),this._updateEventEmitter=new(0,s.Emitter),this._foldingModel=n,this._foldingModelListener=n.onDidChange((function(e){return r.updateHiddenRanges()})),this._hiddenRanges=[],n.regions.length&&this.updateHiddenRanges()}return t(a)(e,[{key:"onDidChange",get:function(){return this._updateEventEmitter.event}},{key:"hiddenRanges",get:function(){return this._hiddenRanges}},{key:"updateHiddenRanges",value:function(){for(var e=!1,t=[],n=0,r=0,i=Number.MAX_VALUE,o=-1,a=this._foldingModel.regions;n<a.length;n++)if(a.isCollapsed(n)){var s=a.getStartLineNumber(n)+1,u=a.getEndLineNumber(n);i<=s&&u<=o||(!e&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===s&&this._hiddenRanges[r].endLineNumber===u?(t.push(this._hiddenRanges[r]),r++):(e=!0,t.push(new(0,l.Range)(s,1,u,1))),i=s,o=u)}(e||r<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}},{key:"applyMemento",value:function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!s.startLineNumber||!s.endLineNumber)return!1;t.push(new(0,l.Range)(s.startLineNumber+1,1,s.endLineNumber,1))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return this.applyHiddenRanges(t),!0}},{key:"getMemento",value:function(){return this._hiddenRanges.map((function(e){return{startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}}))}},{key:"applyHiddenRanges",value:function(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)}},{key:"hasRanges",value:function(){return this._hiddenRanges.length>0}},{key:"isHidden",value:function(e){return null!==d(this._hiddenRanges,e)}},{key:"adjustSelections",value:function(e){for(var t=this,n=!1,r=this._foldingModel.textModel,i=null,o=function(e){return i&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,i)||(i=d(t._hiddenRanges,e)),i?i.startLineNumber-1:null},a=0,s=e.length;a<s;a++){var l=e[a],u=o(l.startLineNumber);u&&(l=l.setStartPosition(u,r.getLineMaxColumn(u)),n=!0);var c=o(l.endLineNumber);c&&(l=l.setEndPosition(c,r.getLineMaxColumn(c)),n=!0),e[a]=l}return n}},{key:"dispose",value:function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}]),e}();function d(e,t){var n=(0,u.findFirstInSorted)(e,(function(e){return t<e.startLineNumber}))-1;return n>=0&&e[n].endLineNumber>=t?e[n]:null}})),o.register("4EPwp",(function(n,r){e(n.exports,"IndentRangeProvider",(function(){return d}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("9YZX7"),l=o("3bY1c"),u=o("95goo"),c=5e3,d=function(){"use strict";function e(n){t(i)(this,e),this.editorModel=n,this.id="indent"}return t(a)(e,[{key:"dispose",value:function(){}},{key:"compute",value:function(e){var t=u.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),n=t&&!!t.offSide,r=t&&t.markers;return Promise.resolve(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,i=e.getOptions().tabSize,o=new h(r),a=void 0;n&&(a=new RegExp("(".concat(n.start.source,")|(?:").concat(n.end.source,")")));var s=[],u=e.getLineCount()+1;s.push({indent:-1,endAbove:u,line:u});for(var d=e.getLineCount();d>0;d--){var f=e.getLineContent(d),p=l.TextModel.computeIndentLevel(f,i),g=s[s.length-1];if(-1!==p){var v=void 0;if(a&&(v=f.match(a))){if(!v[1]){s.push({indent:-2,endAbove:d,line:d});continue}for(var m=s.length-1;m>0&&-2!==s[m].indent;)m--;if(m>0){s.length=m+1,g=s[m],o.insertFirst(d,g.line,p),g.line=d,g.indent=p,g.endAbove=d;continue}}if(g.indent>p){do{s.pop(),g=s[s.length-1]}while(g.indent>p);var y=g.endAbove-1;y-d>=1&&o.insertFirst(d,y,p)}g.indent===p?g.endAbove=d:s.push({indent:p,endAbove:d,line:d})}else t&&(g.endAbove=d)}return o.toIndentRanges(e)}(this.editorModel,n,r))}}]),e}(),h=function(){"use strict";function e(n){t(i)(this,e),this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=n}return t(a)(e,[{key:"insertFirst",value:function(e,t,n){if(!(e>s.MAX_LINE_NUMBER||t>s.MAX_LINE_NUMBER)){var r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}}},{key:"toIndentRanges",value:function(e){if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),n=new Uint32Array(this._length),r=this._length-1,i=0;r>=0;r--,i++)t[i]=this._startIndexes[r],n[i]=this._endIndexes[r];return new(0,s.FoldingRegions)(t,n)}for(var o=0,a=this._indentOccurrences.length,u=0;u<this._indentOccurrences.length;u++){var c=this._indentOccurrences[u];if(c){if(c+o>this._foldingRangesLimit){a=u;break}o+=c}}for(var d=e.getOptions().tabSize,h=new Uint32Array(this._foldingRangesLimit),f=new Uint32Array(this._foldingRangesLimit),p=this._length-1,g=0;p>=0;p--){var v=this._startIndexes[p],m=e.getLineContent(v),y=l.TextModel.computeIndentLevel(m,d);(y<a||y===a&&o++<this._foldingRangesLimit)&&(h[g]=v,f[g]=this._endIndexes[p],g++)}return new(0,s.FoldingRegions)(h,f)}}]),e}()})),o.register("3CpWo",(function(n,r){e(n.exports,"ID_SYNTAX_PROVIDER",(function(){return d})),e(n.exports,"SyntaxRangeProvider",(function(){return h})),e(n.exports,"sanitizeRanges",(function(){return p}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("9yDnc"),l=o("9YZX7"),u=o("glSIC"),c={},d="syntax",h=function(){"use strict";function e(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;t(i)(this,e),this.editorModel=n,this.providers=r,this.limit=a,this.id=d;var s=!0,l=!1,c=void 0;try{for(var h,f=r[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var p=h.value;"function"==typeof p.onDidChange&&(this.disposables||(this.disposables=new(0,u.DisposableStore)),this.disposables.add(p.onDidChange(o)))}}catch(e){l=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}}return t(a)(e,[{key:"compute",value:function(e){var t=this;return function(e,t,n){var r=null,i=e.map((function(e,i){return Promise.resolve(e.provideFoldingRanges(t,c,n)).then((function(e){if(!n.isCancellationRequested&&Array.isArray(e)){Array.isArray(r)||(r=[]);var o=t.getLineCount(),a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;d.start>0&&d.end>d.start&&d.end<=o&&r.push({start:d.start,end:d.end,rank:i,kind:d.kind})}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}}),s.onUnexpectedExternalError)}));return Promise.all(i).then((function(e){return r}))}(this.providers,this.editorModel,e).then((function(e){return e?p(e,t.limit):null}))}},{key:"dispose",value:function(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}]),e}();var f=function(){"use strict";function e(n){t(i)(this,e),this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=n}return t(a)(e,[{key:"add",value:function(e,t,n,r){if(!(e>l.MAX_LINE_NUMBER||t>l.MAX_LINE_NUMBER)){var i=this._length;this._startIndexes[i]=e,this._endIndexes[i]=t,this._nestingLevels[i]=r,this._types[i]=n,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}}},{key:"toIndentRanges",value:function(){if(this._length<=this._foldingRangesLimit){for(var e=new Uint32Array(this._length),t=new Uint32Array(this._length),n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new(0,l.FoldingRegions)(e,t,this._types)}for(var r=0,i=this._nestingLevelCounts.length,o=0;o<this._nestingLevelCounts.length;o++){var a=this._nestingLevelCounts[o];if(a){if(a+r>this._foldingRangesLimit){i=o;break}r+=a}}for(var s=new Uint32Array(this._foldingRangesLimit),u=new Uint32Array(this._foldingRangesLimit),c=[],d=0,h=0;d<this._length;d++){var f=this._nestingLevels[d];(f<i||f===i&&r++<this._foldingRangesLimit)&&(s[h]=this._startIndexes[d],u[h]=this._endIndexes[d],c[h]=this._types[d],h++)}return new(0,l.FoldingRegions)(s,u,c)}}]),e}();function p(e,t){var n=e.sort((function(e,t){var n=e.start-t.start;return 0===n&&(n=e.rank-t.rank),n})),r=new f(t),i=void 0,o=[],a=!0,s=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(i){if(d.start>i.start)if(d.end<=i.end)o.push(i),i=d,r.add(d.start,d.end,d.kind&&d.kind.value,o.length);else{if(d.start>i.end){do{i=o.pop()}while(i&&d.start>i.end);i&&o.push(i),i=d}r.add(d.start,d.end,d.kind&&d.kind.value,o.length)}}else i=d,r.add(d.start,d.end,d.kind&&d.kind.value,o.length)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return r.toIndentRanges()}})),o.register("3cPXt",(function(n,r){e(n.exports,"ID_INIT_PROVIDER",(function(){return l})),e(n.exports,"InitializingRangeProvider",(function(){return u}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("3CpWo"),l="init",u=function(){"use strict";function e(n,r,o,a){if(t(i)(this,e),this.editorModel=n,this.id=l,r.length){this.decorationIds=n.deltaDecorations([],r.map((function(e){return{range:{startLineNumber:e.startLineNumber,startColumn:0,endLineNumber:e.endLineNumber,endColumn:n.getLineLength(e.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}}}))),this.timeout=setTimeout(o,a)}}return t(a)(e,[{key:"dispose",value:function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}},{key:"compute",value:function(e){var t=[],n=!0,r=!1,i=void 0;if(this.decorationIds)try{for(var o,a=this.decorationIds[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=this.editorModel.getDecorationRange(l);u&&t.push({start:u.startLineNumber,end:u.endLineNumber,rank:1})}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return Promise.resolve((0,s.sanitizeRanges)(t,Number.MAX_VALUE))}}]),e}()})),o.register("4lAhC",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("kT6fp"),c=o("5gW8l"),d=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.fontZoomIn",label:l.localize("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t){c.EditorZoom.setZoomLevel(c.EditorZoom.getZoomLevel()+1)}}]),o}(u.EditorAction),h=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.fontZoomOut",label:l.localize("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t){c.EditorZoom.setZoomLevel(c.EditorZoom.getZoomLevel()-1)}}]),o}(u.EditorAction),f=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.fontZoomReset",label:l.localize("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t){c.EditorZoom.setZoomLevel(0)}}]),o}(u.EditorAction);(0,u.registerEditorAction)(d),(0,u.registerEditorAction)(h),(0,u.registerEditorAction)(f)})),o.register("befBo",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("56Cfp"),l=o("aV5UR"),u=o("4GLgu"),c=o("ddsHh"),d=o("7C9Vb"),h=o("aLDYa"),f=o("glSIC"),p=o("kT6fp"),g=o("flIZY"),v=o("8ewkN"),m=o("Og1nm"),y=o("7Zg88"),b=o("aQzpN"),_=o("3mkAo"),k=o("jgWui"),C=o("d9bCc"),x=o("dKkCN"),w=o("1Ms2U"),S=o("6x2MV"),E=o("e1Jmh"),D=o("9yDnc"),I=o("5rgie"),R=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,r){t(n,r,e)}},A=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},M=function(){"use strict";function e(n,i){var o=this;t(r)(this,e),this._workerService=i,this._callOnDispose=new(0,f.DisposableStore),this._callOnModel=new(0,f.DisposableStore),this._editor=n,this._callOnDispose.add(n.onDidChangeConfiguration((function(){return o._update()}))),this._callOnDispose.add(n.onDidChangeModel((function(){return o._update()}))),this._callOnDispose.add(n.onDidChangeModelLanguage((function(){return o._update()}))),this._callOnDispose.add(b.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}return t(i)(e,[{key:"dispose",value:function(){this._callOnDispose.dispose(),this._callOnModel.dispose()}},{key:"_update",value:function(){var e=this;if(this._callOnModel.clear(),this._editor.getOption(46)&&this._editor.hasModel()){var n=this._editor.getModel(),r=t(s)(b.OnTypeFormattingEditProviderRegistry.ordered(n),1)[0];if(r&&r.autoFormatTriggerCharacters){var i=new(0,v.CharacterSet),o=!0,a=!1,l=void 0;try{for(var u,c=r.autoFormatTriggerCharacters[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;i.add(d.charCodeAt(0))}}catch(e){a=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}this._callOnModel.add(this._editor.onDidType((function(t){var n=t.charCodeAt(t.length-1);i.has(n)&&e._trigger(String.fromCharCode(n))})))}}}},{key:"_trigger",value:function(e){var t=this;if(this._editor.hasModel()&&!(this._editor.getSelections().length>1)){var n=this._editor.getModel(),r=this._editor.getPosition(),i=!1,o=this._editor.onDidChangeModelContent((function(e){if(e.isFlush)return i=!0,void o.dispose();for(var t=0,n=e.changes.length;t<n;t++){if(e.changes[t].range.endLineNumber<=r.lineNumber)return i=!0,void o.dispose()}}));(0,k.getOnTypeFormattingEdits)(this._workerService,n,r,e,n.getFormattingOptions()).then((function(e){o.dispose(),i||(0,c.isNonEmptyArray)(e)&&(C.FormattingEdit.execute(t._editor,e,!0),(0,k.alertFormattingEdits)(e))}),(function(e){throw o.dispose(),e}))}}}]),e}();M.ID="editor.contrib.autoFormat",M=R([L(1,_.IEditorWorkerService)],M);var T=function(){"use strict";function e(n,i){var o=this;t(r)(this,e),this.editor=n,this._instantiationService=i,this._callOnDispose=new(0,f.DisposableStore),this._callOnModel=new(0,f.DisposableStore),this._callOnDispose.add(n.onDidChangeConfiguration((function(){return o._update()}))),this._callOnDispose.add(n.onDidChangeModel((function(){return o._update()}))),this._callOnDispose.add(n.onDidChangeModelLanguage((function(){return o._update()}))),this._callOnDispose.add(b.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}return t(i)(e,[{key:"dispose",value:function(){this._callOnDispose.dispose(),this._callOnModel.dispose()}},{key:"_update",value:function(){var e=this;this._callOnModel.clear(),this.editor.getOption(45)&&this.editor.hasModel()&&b.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;return e._trigger(n)})))}},{key:"_trigger",value:function(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(k.formatDocumentRangesWithSelectedProvider,this.editor,e,2,I.Progress.None,d.CancellationToken.None).catch(D.onUnexpectedError))}}]),e}();T.ID="editor.contrib.formatOnPaste",T=R([L(1,E.IInstantiationService)],T);var N=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.formatDocument",label:x.localize("formatDocument.label","Format Document"),alias:"Format Document",precondition:S.ContextKeyExpr.and(y.EditorContextKeys.notInCompositeEditor,y.EditorContextKeys.writable,y.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}return t(i)(o,[{key:"run",value:function(e,n){return A(this,void 0,void 0,t(u).mark((function r(){var i,o;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.hasModel()){t.next=5;break}return i=e.get(E.IInstantiationService),o=e.get(I.IEditorProgressService),t.next=5,o.showWhile(i.invokeFunction(k.formatDocumentWithSelectedProvider,n,1,I.Progress.None,d.CancellationToken.None),250);case 5:case"end":return t.stop()}}),r)})))}}]),o}(p.EditorAction),P=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.formatSelection",label:x.localize("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:S.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,h.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:y.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}return t(i)(o,[{key:"run",value:function(e,n){return A(this,void 0,void 0,t(u).mark((function r(){var i,o,a,s;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.hasModel()){t.next=2;break}return t.abrupt("return");case 2:return i=e.get(E.IInstantiationService),o=n.getModel(),a=n.getSelections().map((function(e){return e.isEmpty()?new(0,m.Range)(e.startLineNumber,1,e.startLineNumber,o.getLineMaxColumn(e.startLineNumber)):e})),s=e.get(I.IEditorProgressService),t.next=8,s.showWhile(i.invokeFunction(k.formatDocumentRangesWithSelectedProvider,n,a,1,I.Progress.None,d.CancellationToken.None),250);case 8:case"end":return t.stop()}}),r)})))}}]),o}(p.EditorAction);(0,p.registerEditorContribution)(M.ID,M),(0,p.registerEditorContribution)(T.ID,T),(0,p.registerEditorAction)(N),(0,p.registerEditorAction)(P),w.CommandsRegistry.registerCommand("editor.action.format",(function(e){return A(void 0,void 0,void 0,t(u).mark((function n(){var r,i;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.get(g.ICodeEditorService).getFocusedCodeEditor())&&r.hasModel()){t.next=3;break}return t.abrupt("return");case 3:if(i=e.get(w.ICommandService),!r.getSelection().isEmpty()){t.next=9;break}return t.next=7,i.executeCommand("editor.action.formatDocument");case 7:t.next=11;break;case 9:return t.next=11,i.executeCommand("editor.action.formatSelection");case 11:case"end":return t.stop()}}),n)})))}))})),o.register("7PBqN",(function(e,n){var r=o("56Cfp"),i=o("4GLgu"),a=o("bErzw"),s=o("8nQ63"),l=o("7C9Vb"),u=o("gy8en"),c=o("lMyN4"),d=o("1Ms2U"),h=o("2lfWM"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function p(e,n,r){return f(this,void 0,void 0,t(i).mark((function o(){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.OutlineModel.create(e,r);case 2:return a=t.sent,t.abrupt("return",n?a.asListOfDocumentSymbols():a.getTopLevelSymbols());case 4:case"end":return t.stop()}}),o)})))}d.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",(function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),c=1;c<n;c++)o[c-1]=arguments[c];return f(this,void 0,void 0,t(i).mark((function n(){var c,d,f,g;return t(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=t(r)(o,1),d=c[0],(0,h.assertType)(a.URI.isUri(d)),!(f=e.get(s.IModelService).getModel(d))){n.next=5;break}return n.abrupt("return",p(f,!1,l.CancellationToken.None));case 5:return n.next=7,e.get(u.ITextModelService).createModelReference(d);case 7:return g=n.sent,n.prev=8,n.next=11,p(g.object.textEditorModel,!1,l.CancellationToken.None);case 11:return n.abrupt("return",n.sent);case 12:return n.prev=12,g.dispose(),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[8,,12,15]])})))}))})),o.register("lMyN4",(function(n,r){e(n.exports,"OutlineModel",(function(){return C}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("56Cfp"),u=o("hFMTy"),c=o("aV5UR"),d=o("ddsHh"),h=o("7C9Vb"),f=o("9yDnc"),p=o("7K1Ci"),g=o("Og1nm"),v=o("aQzpN"),m=o("gklgk"),y=o("1b7cd"),b=function(){"use strict";function e(){t(i)(this,e)}return t(a)(e,[{key:"remove",value:function(){this.parent&&this.parent.children.delete(this.id)}}],[{key:"findId",value:function(e,t){var n;"string"==typeof e?n="".concat(t.id,"/").concat(e):(n="".concat(t.id,"/").concat(e.name),void 0!==t.children.get(n)&&(n="".concat(t.id,"/").concat(e.name,"_").concat(e.range.startLineNumber,"_").concat(e.range.startColumn)));for(var r=n,i=0;void 0!==t.children.get(r);i++)r="".concat(n,"_").concat(i);return r}},{key:"empty",value:function(e){return 0===e.children.size}}]),e}(),_=function(e){"use strict";t(s)(r,e);var n=t(c)(r);function r(e,o,a){var s;return t(i)(this,r),(s=n.call(this)).id=e,s.parent=o,s.symbol=a,s.children=new Map,s}return r}(b),k=function(e){"use strict";t(s)(r,e);var n=t(c)(r);function r(e,o,a,s){var l;return t(i)(this,r),(l=n.call(this)).id=e,l.parent=o,l.label=a,l.order=s,l.children=new Map,l}return r}(b),C=function(e){"use strict";t(s)(r,e);var n=t(c)(r);function r(e){var o;return t(i)(this,r),(o=n.call(this)).uri=e,o.id="root",o.parent=void 0,o._groups=new Map,o.children=new Map,o.id="root",o.parent=void 0,o}return t(a)(r,[{key:"_compact",value:function(){var e=0,n=!0,r=!1,i=void 0;try{for(var o,a=this._groups[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=t(l)(o.value,2),u=s[0];0===s[1].children.size?this._groups.delete(u):e+=1}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}if(1!==e)this.children=this._groups;else{var c=m.Iterable.first(this._groups.values()),d=!0,h=!1,f=void 0;try{for(var p,g=c.children[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v=t(l)(p.value,2)[1];v.parent=this,this.children.set(v.id,v)}}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}}return this}},{key:"getTopLevelSymbols",value:function(){var e,n=[],r=!0,i=!1,o=void 0;try{for(var a,s=this.children.values()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l instanceof _?n.push(l.symbol):(e=n).push.apply(e,t(u)(m.Iterable.map(l.children.values(),(function(e){return e.symbol}))))}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n.sort((function(e,t){return g.Range.compareRangesUsingStarts(e.range,t.range)}))}},{key:"asListOfDocumentSymbols",value:function(){var e=this.getTopLevelSymbols(),t=[];return r._flattenDocumentSymbols(t,e,""),t.sort((function(e,t){return g.Range.compareRangesUsingStarts(e.range,t.range)}))}}],[{key:"create",value:function(e,t){var n=this._keys.for(e,!0),i=r._requests.get(n);if(!i){var o=this,a=new(0,h.CancellationTokenSource);i={promiseCnt:0,source:a,promise:r._create(e,a.token),model:void 0},r._requests.set(n,i);var s=Date.now();i.promise.then((function(){o._requestDurations.update(e,Date.now()-s)}))}return i.model?Promise.resolve(i.model):(i.promiseCnt+=1,t.onCancellationRequested((function(){0==--i.promiseCnt&&(i.source.cancel(),r._requests.delete(n))})),new Promise((function(e,t){i.promise.then((function(t){i.model=t,e(t)}),(function(e){r._requests.delete(n),t(e)}))})))}},{key:"_create",value:function(e,t){var n=new(0,h.CancellationTokenSource)(t),i=new r(e.uri),o=v.DocumentSymbolProviderRegistry.ordered(e),a=o.map((function(t,o){var a,s=b.findId("provider_".concat(o),i),l=new k(s,i,null!==(a=t.displayName)&&void 0!==a?a:"Unknown Outline Provider",o);return Promise.resolve(t.provideDocumentSymbols(e,n.token)).then((function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=(e||[])[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;r._makeOutlineElement(s,l)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return l}),(function(e){return(0,f.onUnexpectedExternalError)(e),l})).then((function(e){b.empty(e)?e.remove():i._groups.set(s,e)}))})),s=v.DocumentSymbolProviderRegistry.onDidChange((function(){var t=v.DocumentSymbolProviderRegistry.ordered(e);(0,d.equals)(t,o)||n.cancel()}));return Promise.all(a).then((function(){return n.token.isCancellationRequested&&!t.isCancellationRequested?r._create(e,t):i._compact()})).finally((function(){s.dispose()}))}},{key:"_makeOutlineElement",value:function(e,t){var n=b.findId(e,t),i=new _(n,t,e),o=!0,a=!1,s=void 0;if(e.children)try{for(var l,u=e.children[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._makeOutlineElement(c,i)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}t.children.set(i.id,i)}},{key:"_flattenDocumentSymbols",value:function(e,t,n){var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.push({kind:u.kind,tags:u.tags,name:u.name,detail:u.detail,containerName:u.containerName||n,range:u.range,selectionRange:u.selectionRange,children:void 0}),u.children&&r._flattenDocumentSymbols(e,u.children,u.name)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}}]),r}(b);C._requestDurations=new(0,y.LanguageFeatureRequestDelays)(v.DocumentSymbolProviderRegistry,350),C._requests=new(0,p.LRUCache)(9,.75),C._keys=new(function(){"use strict";function e(){t(i)(this,e),this._counter=1,this._data=new WeakMap}return t(a)(e,[{key:"for",value:function(e,t){return"".concat(e.id,"/").concat(t?e.getVersionId():"","/").concat(this._hash(v.DocumentSymbolProviderRegistry.all(e)))}},{key:"_hash",value:function(e){var t="",n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this._data.get(s);void 0===l&&(l=this._counter++,this._data.set(s,l)),t+=l}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}}]),e}())})),o.register("dnNxR",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("hFMTy"),l=o("aV5UR"),u=o("dKkCN"),c=o("glSIC"),d=o("flPya"),h=o("kT6fp"),f=o("5JMDG"),p=o("6JJ1Z"),g=o("Og1nm"),v=o("9cZTD"),m=o("7Zg88"),y=o("3bY1c"),b=o("95goo"),_=o("8nQ63"),k=o("jr4wU"),C=o("kghYv");function x(e,t,n,r){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];var i=b.LanguageConfigurationRegistry.getIndentationRules(e.getLanguageIdentifier().id);if(!i)return[];for(n=Math.min(n,e.getLineCount());t<=n&&i.unIndentedLinePattern;){var o=e.getLineContent(t);if(!i.unIndentedLinePattern.test(o))break;t++}if(t>n-1)return[];var a,s=e.getOptions(),l=s.tabSize,u=s.indentSize,c=s.insertSpaces,h=function(e,t){return t=t||1,f.ShiftCommand.shiftIndent(e,e.length+t,l,u,c)},g=function(e,t){return t=t||1,f.ShiftCommand.unshiftIndent(e,e.length+t,l,u,c)},m=[],_=e.getLineContent(t),k=_;if(null!=r){a=r;var C=d.getLeadingWhitespace(_);k=a+_.substring(C.length),i.decreaseIndentPattern&&i.decreaseIndentPattern.test(k)&&(k=(a=g(a))+_.substring(C.length)),_!==k&&m.push(p.EditOperation.replaceMove(new(0,v.Selection)(t,1,t,C.length+1),y.TextModel.normalizeIndentation(a,u,c)))}else a=d.getLeadingWhitespace(_);var x=a;i.increaseIndentPattern&&i.increaseIndentPattern.test(k)?(x=h(x),a=h(a)):i.indentNextLinePattern&&i.indentNextLinePattern.test(k)&&(x=h(x));for(var w=++t;w<=n;w++){var S=e.getLineContent(w),E=d.getLeadingWhitespace(S),D=x+S.substring(E.length);i.decreaseIndentPattern&&i.decreaseIndentPattern.test(D)&&(x=g(x),a=g(a)),E!==x&&m.push(p.EditOperation.replaceMove(new(0,v.Selection)(w,1,w,E.length+1),y.TextModel.normalizeIndentation(x,u,c))),i.unIndentedLinePattern&&i.unIndentedLinePattern.test(S)||(x=i.increaseIndentPattern&&i.increaseIndentPattern.test(D)?a=h(a):i.indentNextLinePattern&&i.indentNextLinePattern.test(D)?h(x):a)}return m}var w=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:o.ID,label:u.localize("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:m.EditorContextKeys.writable})}return t(i)(o,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var r=n.getOptions(),i=t.getSelection();if(i){var o=new P(i,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}}}]),o}(h.EditorAction);w.ID="editor.action.indentationToSpaces";var S=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:o.ID,label:u.localize("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:m.EditorContextKeys.writable})}return t(i)(o,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var r=n.getOptions(),i=t.getSelection();if(i){var o=new O(i,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}}}]),o}(h.EditorAction);S.ID="editor.action.indentationToTabs";var E=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this,i)).insertSpaces=e,a}return t(i)(o,[{key:"run",value:function(e,t){var n=this,r=e.get(C.IQuickInputService),i=e.get(_.IModelService),o=t.getModel();if(o){var a=i.getCreationOptions(o.getLanguageIdentifier().language,o.uri,o.isForSimpleWidget),s=[1,2,3,4,5,6,7,8].map((function(e){return{id:e.toString(),label:e.toString(),description:e===a.tabSize?u.localize("configuredTabSize","Configured Tab Size"):void 0}})),l=Math.min(o.getOptions().tabSize-1,7);setTimeout((function(){var e=n;r.pick(s,{placeHolder:u.localize({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:s[l]}).then((function(t){t&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(t.label,10),insertSpaces:e.insertSpaces})}))}),50)}}}]),o}(h.EditorAction),D=function(e){"use strict";t(a)(i,e);var n=t(l)(i);function i(){return t(r)(this,i),n.call(this,!1,{id:i.ID,label:u.localize("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return i}(E);D.ID="editor.action.indentUsingTabs";var I=function(e){"use strict";t(a)(i,e);var n=t(l)(i);function i(){return t(r)(this,i),n.call(this,!0,{id:i.ID,label:u.localize("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return i}(E);I.ID="editor.action.indentUsingSpaces";var R=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:o.ID,label:u.localize("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t){var n=e.get(_.IModelService),r=t.getModel();if(r){var i=n.getCreationOptions(r.getLanguageIdentifier().language,r.uri,r.isForSimpleWidget);r.detectIndentation(i.insertSpaces,i.tabSize)}}}]),o}(h.EditorAction);R.ID="editor.action.detectIndentation";var L=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.reindentlines",label:u.localize("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:m.EditorContextKeys.writable})}return t(i)(o,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var r=x(n,1,n.getLineCount());r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}}]),o}(h.EditorAction),A=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.reindentselectedlines",label:u.localize("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:m.EditorContextKeys.writable})}return t(i)(o,[{key:"run",value:function(e,n){var r=n.getModel();if(r){var i=n.getSelections();if(null!==i){var o=[],a=!0,l=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h,f=c.value,p=f.startLineNumber,g=f.endLineNumber;if(p!==g&&1===f.endColumn&&g--,1===p){if(p===g)continue}else p--;var v=x(r,p,g);(h=o).push.apply(h,t(s)(v))}}catch(e){l=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw u}}o.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,o),n.pushUndoStop())}}}}]),o}(h.EditorAction),M=function(){"use strict";function e(n,i){t(r)(this,e),this._initialSelection=i,this._edits=[],this._selectionId=null;var o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c.range&&"string"==typeof c.text&&this._edits.push(c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}return t(i)(e,[{key:"getEditOperations",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=this._edits[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.addEditOperation(g.Range.lift(s.range),s.text)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var l=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(l=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(l=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),l||(this._selectionId=t.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._selectionId)}}]),e}(),T=function(){"use strict";function e(n){var i=this;t(r)(this,e),this.callOnDispose=new(0,c.DisposableStore),this.callOnModel=new(0,c.DisposableStore),this.editor=n,this.callOnDispose.add(n.onDidChangeConfiguration((function(){return i.update()}))),this.callOnDispose.add(n.onDidChangeModel((function(){return i.update()}))),this.callOnDispose.add(n.onDidChangeModelLanguage((function(){return i.update()})))}return t(i)(e,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(45)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;e.trigger(n)})))}},{key:"trigger",value:function(e){var t=this.editor.getSelections();if(!(null===t||t.length>1)){var n=this.editor.getModel();if(n&&n.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var r=this.editor.getOption(9),i=n.getOptions(),o=i.tabSize,a=i.indentSize,s=i.insertSpaces,l=[],u={shiftIndent:function(e){return f.ShiftCommand.shiftIndent(e,e.length+1,o,a,s)},unshiftIndent:function(e){return f.ShiftCommand.unshiftIndent(e,e.length+1,o,a,s)}},c=e.startLineNumber;c<=e.endLineNumber&&this.shouldIgnoreLine(n,c);)c++;if(!(c>e.endLineNumber)){var h=n.getLineContent(c);if(!/\S/.test(h.substring(0,e.startColumn-1))){var p=b.LanguageConfigurationRegistry.getGoodIndentForLine(r,n,n.getLanguageIdentifier().id,c,u);if(null!==p){var v=d.getLeadingWhitespace(h),m=k.getSpaceCnt(p,o);if(m!==k.getSpaceCnt(v,o)){var y=k.generateIndent(m,o,s);l.push({range:new(0,g.Range)(c,1,c,v.length+1),text:y}),h=y+h.substr(v.length)}else{var _=b.LanguageConfigurationRegistry.getIndentMetadata(n,c);if(0===_||8===_)return}}}for(var C=c;c<e.endLineNumber&&!/\S/.test(n.getLineContent(c+1));)c++;if(c!==e.endLineNumber){var x={getLineTokens:function(e){return n.getLineTokens(e)},getLanguageIdentifier:function(){return n.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,t){return n.getLanguageIdAtPosition(e,t)},getLineContent:function(e){return e===C?h:n.getLineContent(e)}},w=b.LanguageConfigurationRegistry.getGoodIndentForLine(r,x,n.getLanguageIdentifier().id,c+1,u);if(null!==w){var S=k.getSpaceCnt(w,o),E=k.getSpaceCnt(d.getLeadingWhitespace(n.getLineContent(c+1)),o);if(S!==E)for(var D=S-E,I=c+1;I<=e.endLineNumber;I++){var R=n.getLineContent(I),L=d.getLeadingWhitespace(R),A=k.getSpaceCnt(L,o)+D,T=k.generateIndent(A,o,s);T!==L&&l.push({range:new(0,g.Range)(I,1,I,L.length+1),text:T})}}}if(l.length>0){this.editor.pushUndoStop();var N=new M(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",N),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,t){e.forceTokenization(t);var n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;var r=e.getLineTokens(t);if(r.getCount()>0){var i=r.findTokenIndexAtOffset(n);if(i>=0&&1===r.getStandardTokenType(i))return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),e}();function N(e,t,n,r){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var i="",o=0;o<n;o++)i+=" ";for(var a=new RegExp(i,"gi"),s=1,l=e.getLineCount();s<=l;s++){var u=e.getLineFirstNonWhitespaceColumn(s);if(0===u&&(u=e.getLineMaxColumn(s)),1!==u){var c=new(0,g.Range)(s,1,s,u),d=e.getValueInRange(c),h=r?d.replace(/\t/gi,i):d.replace(a,"\t");t.addEditOperation(c,h)}}}}T.ID="editor.contrib.autoIndentOnPaste";var P=function(){"use strict";function e(n,i){t(r)(this,e),this.selection=n,this.tabSize=i,this.selectionId=null}return t(i)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),N(e,t,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}(),O=function(){"use strict";function e(n,i){t(r)(this,e),this.selection=n,this.tabSize=i,this.selectionId=null}return t(i)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),N(e,t,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}();(0,h.registerEditorContribution)(T.ID,T),(0,h.registerEditorAction)(w),(0,h.registerEditorAction)(S),(0,h.registerEditorAction)(D),(0,h.registerEditorAction)(I),(0,h.registerEditorAction)(R),(0,h.registerEditorAction)(L),(0,h.registerEditorAction)(A)})),o.register("jr4wU",(function(t,n){function r(e,t){for(var n=0,r=0;r<e.length;r++)"\t"===e.charAt(r)?n+=t:n++;return n}function i(e,t,n){e=e<0?0:e;var r="";if(!n){var i=Math.floor(e/t);e%=t;for(var o=0;o<i;o++)r+="\t"}for(var a=0;a<e;a++)r+=" ";return r}e(t.exports,"getSpaceCnt",(function(){return r})),e(t.exports,"generateIndent",(function(){return i}))})),o.register("7HYGS",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("56Cfp"),s=o("4GLgu"),l=o("1xRRx"),u=o("9yDnc"),c=o("6RAX7"),d=o("glSIC"),h=o("kT6fp"),f=o("flIZY"),p=o("aQzpN"),g=o("ddsHh"),v=o("eZPXr"),m=o("7C9Vb"),y=o("4qRit"),b=o("Og1nm"),_=o("1b7cd"),k=o("1Ms2U"),C=o("bErzw"),x=o("2lfWM"),w=o("gy8en"),S=o("kaKvC"),E=o("8KoBX"),D=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){return function(n,r){t(n,r,e)}},R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function L(e,n,r){return R(this,void 0,void 0,t(s).mark((function i(){var o,a,l;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],a=p.InlayHintsProviderRegistry.ordered(e).reverse(),l=(0,g.flatten)(a.map((function(t){return n.map((function(n){return Promise.resolve(t.provideInlayHints(e,n,r)).then((function(e){e&&o.push({list:e,provider:t})}),(function(e){(0,u.onUnexpectedExternalError)(e)}))}))}))),t.next=5,Promise.all(l);case 5:return t.abrupt("return",o);case 6:case"end":return t.stop()}}),i)})))}var A=function(){"use strict";function e(n,i,o,a){var s=this;t(r)(this,e),this._editor=n,this._codeEditorService=i,this._themeService=o,this._configurationService=a,this._disposables=new(0,d.DisposableStore),this._sessionDisposables=new(0,d.DisposableStore),this._getInlayHintsDelays=new(0,_.LanguageFeatureRequestDelays)(p.InlayHintsProviderRegistry,25,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(p.InlayHintsProviderRegistry.onDidChange((function(){return s._update()}))),this._disposables.add(o.onDidColorThemeChange((function(){return s._update()}))),this._disposables.add(n.onDidChangeModel((function(){return s._update()}))),this._disposables.add(n.onDidChangeModelLanguage((function(){return s._update()}))),this._disposables.add(n.onDidChangeConfiguration((function(e){e.hasChanged(125)&&s._update()}))),this._update()}return t(i)(e,[{key:"dispose",value:function(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}},{key:"_update",value:function(){var e=this;if(this._sessionDisposables.clear(),this._editor.getOption(125).enabled){var n=this._editor.getModel();if(n&&p.InlayHintsProviderRegistry.has(n)){var r=new(0,l.RunOnceScheduler)((function(){return R(e,void 0,void 0,t(s).mark((function e(){var i,o,a,l,u;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now(),o=new(0,m.CancellationTokenSource),this._sessionDisposables.add((0,d.toDisposable)((function(){return o.dispose(!0)}))),a=this._editor.getVisibleRangesPlusViewportAboveBelow(),e.next=6,L(n,a,o.token);case 6:l=e.sent,u=this._getInlayHintsDelays.update(n,Date.now()-i),r.delay=u,this._updateHintsDecorators(l);case 10:case"end":return e.stop()}}),e,this)})))}),this._getInlayHintsDelays.get(n));this._sessionDisposables.add(r),this._sessionDisposables.add(this._editor.onDidChangeModelContent((function(){return r.schedule()}))),this._disposables.add(this._editor.onDidScrollChange((function(){return r.schedule()}))),r.schedule();var i=new(0,d.DisposableStore);this._sessionDisposables.add(i);var o=!0,a=!1,u=void 0;try{for(var c,h=p.InlayHintsProviderRegistry.all(n)[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var f=c.value;"function"==typeof f.onDidChangeInlayHints&&i.add(f.onDidChangeInlayHints((function(){return r.schedule()})))}}catch(e){a=!0,u=e}finally{try{o||null==h.return||h.return()}finally{if(a)throw u}}}else this._removeAllDecorations()}else this._removeAllDecorations()}},{key:"_updateHintsDecorators",value:function(e){var t=this._getLayoutInfo(),n=t.fontSize,r=t.fontFamily,i=this._themeService.getColorTheme().getColor(v.editorInlayHintBackground),o=this._themeService.getColorTheme().getColor(v.editorInlayHintForeground),a=[],s=[],l="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(l,r);var u=this._configurationService.getValue("editor.useInjectedText"),d=void 0===u||!!u,h=!0,f=!1,p=void 0;try{for(var g,m=e[Symbol.iterator]();!(h=(g=m.next()).done);h=!0)for(var y=g.value.list,_=0;_<y.length&&s.length<500;_++){var k=y[_],C=k.text,x=k.position,w=k.whitespaceBefore,S=k.whitespaceAfter,E=w?n/3|0:0,D=S?n/3|0:0,I={contentText:(void 0," ",C.replace(/[ \t]/g," ")),backgroundColor:"".concat(i),color:"".concat(o),margin:"0px ".concat(D,"px 0px ").concat(E,"px"),fontSize:"".concat(n,"px"),fontFamily:"var(".concat(l,")"),padding:"0px ".concat(n/4|0,"px"),borderRadius:"".concat(n/4|0,"px")},R="inlayHints-"+(0,c.hash)(I).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",R,d?{beforeInjectedText:Object.assign(Object.assign({},I),{affectsLetterSpacing:!0})}:{before:I},void 0,this._editor),a.push(R);var L=this._codeEditorService.resolveDecorationOptions(R,!0);s.push({range:b.Range.fromPositions(x),options:L})}}catch(e){f=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(f)throw p}}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=a,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,s)}},{key:"_getLayoutInfo",value:function(){var e=this._editor.getOption(125),t=this._editor.getOption(43),n=e.fontSize;return(!n||n<5||n>t)&&(n=.9*t|0),{fontSize:n,fontFamily:e.fontFamily||this._editor.getOption(40)}}},{key:"_removeAllDecorations",value:function(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}}]),e}();A.ID="editor.contrib.InlayHints",A=D([I(1,f.ICodeEditorService),I(2,y.IThemeService),I(3,E.IConfigurationService)],A),(0,h.registerEditorContribution)(A.ID,A),k.CommandsRegistry.registerCommand("_executeInlayHintProvider",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return R(void 0,void 0,void 0,t(s).mark((function n(){var i,o,l,u,c;return t(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t(a)(r,2),o=i[0],l=i[1],(0,x.assertType)(C.URI.isUri(o)),(0,x.assertType)(b.Range.isIRange(l)),n.next=5,e.get(w.ITextModelService).createModelReference(o);case 5:return u=n.sent,n.prev=6,n.next=9,L(u.object.textEditorModel,[b.Range.lift(l)],m.CancellationToken.None);case 9:return c=n.sent,n.abrupt("return",(0,g.flatten)(c.map((function(e){return e.list}))).sort((function(e,t){return S.Position.compare(e.position,t.position)})));case 11:return n.prev=11,u.dispose(),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[6,,11,14]])})))}))})),o.register("1SfM4",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("Og1nm"),c=o("9cZTD"),d=o("7Zg88"),h=o("kT6fp"),f=o("3mkAo"),p=o("cP560"),g=o("jhpae"),v=o("4qRit"),m=o("kxsLz"),y=o("3bY1c"),b=o("1xRRx"),_=o("9yDnc"),k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,r){t(n,r,e)}},x=function(){"use strict";function e(n,i){t(r)(this,e),this.decorationIds=[],this.editor=n,this.editorWorkerService=i}return t(i)(e,[{key:"dispose",value:function(){}},{key:"run",value:function(t,n){var r=this;this.currentRequest&&this.currentRequest.cancel();var i=this.editor.getSelection(),o=this.editor.getModel();if(o&&i){var a=i;if(a.startLineNumber===a.endLineNumber){var s=new(0,g.EditorState)(this.editor,5),l=o.uri;return this.editorWorkerService.canNavigateValueSet(l)?(this.currentRequest=(0,b.createCancelablePromise)((function(e){return r.editorWorkerService.navigateValueSet(l,a,n)})),this.currentRequest.then((function(n){var i=r;if(n&&n.range&&n.value&&s.validate(r.editor)){var o=u.Range.lift(n.range),l=n.range,d=n.value.length-(a.endColumn-a.startColumn);l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.startColumn+n.value.length},d>1&&(a=new(0,c.Selection)(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+d-1));var h=new(0,p.InPlaceReplaceCommand)(o,a,n.value);r.editor.pushUndoStop(),r.editor.executeCommand(t,h),r.editor.pushUndoStop(),r.decorationIds=r.editor.deltaDecorations(r.decorationIds,[{range:l,options:e.DECORATION}]),r.decorationRemover&&r.decorationRemover.cancel(),r.decorationRemover=(0,b.timeout)(350),r.decorationRemover.then((function(){return i.decorationIds=i.editor.deltaDecorations(i.decorationIds,[])})).catch(_.onUnexpectedError)}})).catch(_.onUnexpectedError)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();x.ID="editor.contrib.inPlaceReplaceController",x.DECORATION=y.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),x=k([C(1,f.IEditorWorkerService)],x);var w=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.inPlaceReplace.up",label:l.localize("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:d.EditorContextKeys.writable,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:3154,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){var n=x.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}]),o}(h.EditorAction),S=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.inPlaceReplace.down",label:l.localize("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:d.EditorContextKeys.writable,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:3156,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){var n=x.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}]),o}(h.EditorAction);(0,h.registerEditorContribution)(x.ID,x),(0,h.registerEditorAction)(w),(0,h.registerEditorAction)(S),(0,v.registerThemingParticipant)((function(e,t){var n=e.getColor(m.editorBracketMatchBorder);n&&t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px ".concat(n,"; }"))}))})),o.register("cP560",(function(n,r){e(n.exports,"InPlaceReplaceCommand",(function(){return l}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("9cZTD"),l=function(){"use strict";function e(n,r,o){t(i)(this,e),this._editRange=n,this._originalSelection=r,this._text=o}return t(a)(e,[{key:"getEditOperations",value:function(e,t){t.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,t){var n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new(0,s.Selection)(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new(0,s.Selection)(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}]),e}()})),o.register("fvKJN",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("aLDYa"),c=o("BcgjZ"),d=o("kT6fp"),h=o("iwJuG"),f=o("4wcre"),p=o("dDWQn"),g=o("6JJ1Z"),v=o("kaKvC"),m=o("Og1nm"),y=o("9cZTD"),b=o("7Zg88"),_=o("8ONDU"),k=o("43VHS"),C=o("7mbqh"),x=o("lvhYu"),w=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this,i)).down=e,a}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){var n=t.getSelections().map((function(e,t){return{selection:e,index:t,ignore:!1}}));n.sort((function(e,t){return m.Range.compareRangesUsingStarts(e.selection,t.selection)}));for(var r=n[0],i=1;i<n.length;i++){var o=n[i];r.selection.endLineNumber===o.selection.startLineNumber&&(r.index<o.index?o.ignore=!0:(r.ignore=!0,r=o))}var a=[],s=!0,l=!1,u=void 0;try{for(var c,d=n[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;a.push(new(0,_.CopyLinesCommand)(h.selection,this.down,h.ignore))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}}]),o}(d.EditorAction),S=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,!1,{id:"editor.action.copyLinesUpAction",label:l.localize("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:x.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}return i}(w),E=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,!0,{id:"editor.action.copyLinesDownAction",label:l.localize("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:x.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}return i}(w),D=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.duplicateSelection",label:l.localize("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:b.EditorContextKeys.writable,menuOpts:{menuId:x.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}return t(i)(o,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=[],i=t.getSelections(),o=t.getModel(),a=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(d.isEmpty())r.push(new(0,_.CopyLinesCommand)(d,!0));else{var f=new(0,y.Selection)(d.endLineNumber,d.endColumn,d.endLineNumber,d.endColumn);r.push(new(0,h.ReplaceCommandThatSelectsText)(f,o.getValueInRange(d)))}}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}}]),o}(d.EditorAction),I=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this,i)).down=e,a}return t(i)(o,[{key:"run",value:function(e,t){var n=[],r=t.getSelections()||[],i=t.getOption(9),o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;n.push(new(0,k.MoveLinesCommand)(c,this.down,i))}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}]),o}(d.EditorAction),R=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,!1,{id:"editor.action.moveLinesUpAction",label:l.localize("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:x.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}return i}(I),L=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,!0,{id:"editor.action.moveLinesDownAction",label:l.localize("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:x.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}return i}(I),A=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this,i)).descending=e,a}return t(i)(o,[{key:"run",value:function(e,t){var n=t.getSelections()||[],r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(!C.SortLinesCommand.canRun(t.getModel(),l,this.descending))return}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}for(var u=[],c=0,d=n.length;c<d;c++)u[c]=new(0,C.SortLinesCommand)(n[c],this.descending);t.pushUndoStop(),t.executeCommands(this.id,u),t.pushUndoStop()}}]),o}(d.EditorAction),M=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,!1,{id:"editor.action.sortLinesAscending",label:l.localize("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:b.EditorContextKeys.writable})}return i}(A),T=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,!0,{id:"editor.action.sortLinesDescending",label:l.localize("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:b.EditorContextKeys.writable})}return i}(A),N=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:o.ID,label:l.localize("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,u.KeyChord)(2089,2102),weight:100}})}return t(i)(o,[{key:"run",value:function(e,t,n){var r=[];"auto-save"===n.reason&&(r=(t.getSelections()||[]).map((function(e){return new(0,v.Position)(e.positionLineNumber,e.positionColumn)})));var i=t.getSelection();if(null!==i){var o=new(0,f.TrimTrailingWhitespaceCommand)(i,r);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop()}}}]),o}(d.EditorAction);N.ID="editor.action.trimTrailingWhitespace";var P=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.deleteLines",label:l.localize("lines.delete","Delete Line"),alias:"Delete Line",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){var n=this._getLinesToRemove(t),r=t.getModel();if(1!==r.getLineCount()||1!==r.getLineMaxColumn(1)){for(var i=0,o=[],a=[],s=0,l=n.length;s<l;s++){var u=n[s],c=u.startLineNumber,d=u.endLineNumber,h=1,f=r.getLineMaxColumn(d);d<r.getLineCount()?(d+=1,f=1):c>1&&(c-=1,h=r.getLineMaxColumn(c)),o.push(g.EditOperation.replace(new(0,y.Selection)(c,h,d,f),"")),a.push(new(0,y.Selection)(c-i,u.positionColumn,c-i,u.positionColumn)),i+=u.endLineNumber-u.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,o,a),t.pushUndoStop()}}}},{key:"_getLinesToRemove",value:function(e){var t=e.getSelections().map((function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort((function(e,t){return e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber}));for(var n=[],r=t[0],i=1;i<t.length;i++)r.endLineNumber+1>=t[i].startLineNumber?r.endLineNumber=t[i].endLineNumber:(n.push(r),r=t[i]);return n.push(r),n}}]),o}(d.EditorAction),O=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.indentLines",label:l.localize("lines.indent","Indent Line"),alias:"Indent Line",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2137,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){var n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,p.TypeOperations.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}]),o}(d.EditorAction),F=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.outdentLines",label:l.localize("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2135,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){c.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)}}]),o}(d.EditorAction),B=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.insertLineBefore",label:l.localize("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){var n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,p.TypeOperations.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}]),o}(d.EditorAction),z=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.insertLineAfter",label:l.localize("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){var n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,p.TypeOperations.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}]),o}(d.EditorAction),W=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.apply(this,arguments)}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){for(var n=t.getSelection(),r=this._getRangesToDelete(t),i=[],o=0,a=r.length-1;o<a;o++){var s=r[o],l=r[o+1];null===m.Range.intersectRanges(s,l)?i.push(s):r[o+1]=m.Range.plusRange(s,l)}i.push(r[r.length-1]);var u=this._getEndCursorState(n,i),c=i.map((function(e){return g.EditOperation.replace(e,"")}));t.pushUndoStop(),t.executeEdits(this.id,c,u),t.pushUndoStop()}}}]),o}(d.EditorAction),H=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"deleteAllLeft",label:l.localize("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}return t(i)(o,[{key:"_getEndCursorState",value:function(e,t){var n=null,r=[],i=0;return t.forEach((function(t){var o;if(1===t.endColumn&&i>0){var a=t.startLineNumber-i;o=new(0,y.Selection)(a,t.startColumn,a,t.startColumn)}else o=new(0,y.Selection)(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);i+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=o:r.push(o)})),n&&r.unshift(n),r}},{key:"_getRangesToDelete",value:function(e){var t=e.getSelections();if(null===t)return[];var n=t,r=e.getModel();return null===r?[]:(n.sort(m.Range.compareRangesUsingStarts),n=n.map((function(e){if(e.isEmpty()){if(1===e.startColumn){var t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:r.getLineContent(t).length+1;return new(0,m.Range)(t,n,e.startLineNumber,1)}return new(0,m.Range)(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new(0,m.Range)(e.startLineNumber,1,e.endLineNumber,e.endColumn)})))}}]),o}(W),V=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"deleteAllRight",label:l.localize("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}return t(i)(o,[{key:"_getEndCursorState",value:function(e,t){for(var n=null,r=[],i=0,o=t.length;i<o;i++){var a=t[i],s=new(0,y.Selection)(a.startLineNumber-0,a.startColumn,a.startLineNumber-0,a.startColumn);a.intersectRanges(e)?n=s:r.push(s)}return n&&r.unshift(n),r}},{key:"_getRangesToDelete",value:function(e){var t=e.getModel();if(null===t)return[];var n=e.getSelections();if(null===n)return[];var r=n.map((function(e){if(e.isEmpty()){var n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new(0,m.Range)(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new(0,m.Range)(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e}));return r.sort(m.Range.compareRangesUsingStarts),r}}]),o}(W),j=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.joinLines",label:l.localize("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){var n=t.getSelections();if(null!==n){var r=t.getSelection();if(null!==r){n.sort(m.Range.compareRangesUsingStarts);var i=[],o=n.reduce((function(e,t){return e.isEmpty()?e.endLineNumber===t.startLineNumber?(r.equalsSelection(e)&&(r=t),t):t.startLineNumber>e.endLineNumber+1?(i.push(e),t):new(0,y.Selection)(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(i.push(e),t):new(0,y.Selection)(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)}));i.push(o);var a=t.getModel();if(null!==a){for(var s=[],l=[],u=r,c=0,d=0,h=i.length;d<h;d++){var f=i[d],p=f.startLineNumber,v=0,b=void 0,_=void 0,k=a.getLineContent(f.endLineNumber).length-f.endColumn;if(f.isEmpty()||f.startLineNumber===f.endLineNumber){var C=f.getStartPosition();C.lineNumber<a.getLineCount()?(b=p+1,_=a.getLineMaxColumn(b)):(b=C.lineNumber,_=a.getLineMaxColumn(C.lineNumber))}else b=f.endLineNumber,_=a.getLineMaxColumn(b);for(var x=a.getLineContent(p),w=p+1;w<=b;w++){var S=a.getLineContent(w),E=a.getLineFirstNonWhitespaceColumn(w);if(E>=1){var D=!0;""===x&&(D=!1),!D||" "!==x.charAt(x.length-1)&&"\t"!==x.charAt(x.length-1)||(D=!1,x=x.replace(/[\s\uFEFF\xA0]+$/g," "));var I=S.substr(E-1);x+=(D?" ":"")+I,v=D?I.length+1:I.length}else v=0}var R=new(0,m.Range)(p,1,b,_);if(!R.isEmpty()){var L=void 0;f.isEmpty()?(s.push(g.EditOperation.replace(R,x)),L=new(0,y.Selection)(R.startLineNumber-c,x.length-v+1,p-c,x.length-v+1)):f.startLineNumber===f.endLineNumber?(s.push(g.EditOperation.replace(R,x)),L=new(0,y.Selection)(f.startLineNumber-c,f.startColumn,f.endLineNumber-c,f.endColumn)):(s.push(g.EditOperation.replace(R,x)),L=new(0,y.Selection)(f.startLineNumber-c,f.startColumn,f.startLineNumber-c,x.length-k)),null!==m.Range.intersectRanges(R,r)?u=L:l.push(L)}c+=R.endLineNumber-R.startLineNumber}l.unshift(u),t.pushUndoStop(),t.executeEdits(this.id,s,l),t.pushUndoStop()}}}}}]),o}(d.EditorAction),K=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.transpose",label:l.localize("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:b.EditorContextKeys.writable})}return t(i)(o,[{key:"run",value:function(e,t){var n=t.getSelections();if(null!==n){var r=t.getModel();if(null!==r){for(var i=[],o=0,a=n.length;o<a;o++){var s=n[o];if(s.isEmpty()){var l=s.getStartPosition(),u=r.getLineMaxColumn(l.lineNumber);if(l.column>=u){if(l.lineNumber===r.getLineCount())continue;var c=new(0,m.Range)(l.lineNumber,Math.max(1,l.column-1),l.lineNumber+1,1),d=r.getValueInRange(c).split("").reverse().join("");i.push(new(0,h.ReplaceCommand)(new(0,y.Selection)(l.lineNumber,Math.max(1,l.column-1),l.lineNumber+1,1),d))}else{var f=new(0,m.Range)(l.lineNumber,Math.max(1,l.column-1),l.lineNumber,l.column+1),p=r.getValueInRange(f).split("").reverse().join("");i.push(new(0,h.ReplaceCommandThatPreservesSelection)(f,p,new(0,y.Selection)(l.lineNumber,l.column+1,l.lineNumber,l.column+1)))}}}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}}}]),o}(d.EditorAction),U=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.apply(this,arguments)}return t(i)(o,[{key:"run",value:function(e,t){var n=t.getSelections();if(null!==n){var r=t.getModel();if(null!==r){var i=t.getOption(115),o=[],a=!0,s=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(d.isEmpty()){var h=d.getStartPosition(),f=t.getConfiguredWordAtPosition(h);if(!f)continue;var p=new(0,m.Range)(h.lineNumber,f.startColumn,h.lineNumber,f.endColumn),v=r.getValueInRange(p);o.push(g.EditOperation.replace(p,this._modifyText(v,i)))}else{var y=r.getValueInRange(d);o.push(g.EditOperation.replace(d,this._modifyText(y,i)))}}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop()}}}}]),o}(d.EditorAction),q=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.transformToUppercase",label:l.localize("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:b.EditorContextKeys.writable})}return t(i)(o,[{key:"_modifyText",value:function(e,t){return e.toLocaleUpperCase()}}]),o}(U),Z=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.transformToLowercase",label:l.localize("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:b.EditorContextKeys.writable})}return t(i)(o,[{key:"_modifyText",value:function(e,t){return e.toLocaleLowerCase()}}]),o}(U),G=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.transformToTitlecase",label:l.localize("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:b.EditorContextKeys.writable})}return t(i)(o,[{key:"_modifyText",value:function(e,t){for(var n=("\r\n\t "+t).split(""),r="",i=!0,o=0;o<e.length;o++){var a=e[o];n.indexOf(a)>=0?(i=!0,r+=a):i?(i=!1,r+=a.toLocaleUpperCase()):r+=a.toLocaleLowerCase()}return r}}]),o}(U),Q=function(){"use strict";function e(n,i){t(r)(this,e),this._pattern=n,this._flags=i,this._actual=null,this._evaluated=!1}return t(i)(e,[{key:"get",value:function(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}},{key:"isSupported",value:function(){return null!==this.get()}}]),e}(),J=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.transformToSnakecase",label:l.localize("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:b.EditorContextKeys.writable})}return t(i)(o,[{key:"_modifyText",value:function(e,t){var n=o.regExp1.get(),r=o.regExp2.get();return n&&r?e.replace(n,"$1_$2").replace(r,"$1_$2$3").toLocaleLowerCase():e}}]),o}(U);J.regExp1=new Q("(\\p{Ll})(\\p{Lu})","gmu"),J.regExp2=new Q("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,d.registerEditorAction)(S),(0,d.registerEditorAction)(E),(0,d.registerEditorAction)(D),(0,d.registerEditorAction)(R),(0,d.registerEditorAction)(L),(0,d.registerEditorAction)(M),(0,d.registerEditorAction)(T),(0,d.registerEditorAction)(N),(0,d.registerEditorAction)(P),(0,d.registerEditorAction)(O),(0,d.registerEditorAction)(F),(0,d.registerEditorAction)(B),(0,d.registerEditorAction)(z),(0,d.registerEditorAction)(H),(0,d.registerEditorAction)(V),(0,d.registerEditorAction)(j),(0,d.registerEditorAction)(K),(0,d.registerEditorAction)(q),(0,d.registerEditorAction)(Z),(0,d.registerEditorAction)(G),J.regExp1.isSupported()&&J.regExp2.isSupported()&&(0,d.registerEditorAction)(J)})),o.register("4wcre",(function(n,r){e(n.exports,"TrimTrailingWhitespaceCommand",(function(){return c}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("flPya"),l=o("6JJ1Z"),u=o("Og1nm"),c=function(){"use strict";function e(n,r){t(i)(this,e),this._selection=n,this._cursors=r,this._selectionId=null}return t(a)(e,[{key:"getEditOperations",value:function(e,t){for(var n=function(e,t){t.sort((function(e,t){return e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber}));for(var n=t.length-2;n>=0;n--)t[n].lineNumber===t[n+1].lineNumber&&t.splice(n,1);for(var r=[],i=0,o=0,a=t.length,c=1,d=e.getLineCount();c<=d;c++){var h=e.getLineContent(c),f=h.length+1,p=0;if(!(o<a&&t[o].lineNumber===c&&(p=t[o].column,o++,p===f))&&0!==h.length){var g=s.lastNonWhitespaceIndex(h),v=0;if(-1===g)v=1;else{if(g===h.length-1)continue;v=g+2}v=Math.max(p,v),r[i++]=l.EditOperation.delete(new(0,u.Range)(c,v,c,f))}}return r}(e,this._cursors),r=0,i=n.length;r<i;r++){var o=n[r];t.addEditOperation(o.range,o.text)}this._selectionId=t.trackSelection(this._selection)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._selectionId)}}]),e}()})),o.register("8ONDU",(function(n,r){e(n.exports,"CopyLinesCommand",(function(){return u}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("Og1nm"),l=o("9cZTD"),u=function(){"use strict";function e(n,r,o){t(i)(this,e),this._selection=n,this._isCopyingDown=r,this._noop=o||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return t(a)(e,[{key:"getEditOperations",value:function(e,t){var n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));for(var r=[],i=n.startLineNumber;i<=n.endLineNumber;i++)r.push(e.getLineContent(i));var o=r.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new(0,s.Range)(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new(0,s.Range)(n.startLineNumber,1,n.startLineNumber,1),o+"\n"):t.addEditOperation(new(0,s.Range)(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}},{key:"computeCursorState",value:function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var r=n.startLineNumber,i=n.startColumn,o=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(r+=this._startLineNumberDelta,i=1),0!==this._endLineNumberDelta&&(o+=this._endLineNumberDelta,a=1),n=l.Selection.createWithDirection(r,i,o,a,this._selectionDirection)}return n}}]),e}()})),o.register("43VHS",(function(n,r){e(n.exports,"MoveLinesCommand",(function(){return p}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("flPya"),l=o("5JMDG"),u=o("Og1nm"),c=o("9cZTD"),d=o("hN9YV"),h=o("95goo"),f=o("jr4wU"),p=function(){"use strict";function e(n,r,o){t(i)(this,e),this._selection=n,this._isMovingDown=r,this._autoIndent=o,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return t(a)(e,[{key:"getEditOperations",value:function(e,t){var n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)this._selectionId=t.trackSelection(this._selection);else if(this._isMovingDown||1!==this._selection.startLineNumber){this._moveEndPositionDown=!1;var r=this._selection;r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));var i=e.getOptions(),o=i.tabSize,a=i.indentSize,l=i.insertSpaces,d=this.buildIndentConverter(o,a,l),p={getLineTokens:function(t){return e.getLineTokens(t)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)},getLineContent:null};if(r.startLineNumber===r.endLineNumber&&1===e.getLineMaxColumn(r.startLineNumber)){var g=r.startLineNumber,v=this._isMovingDown?g+1:g-1;1===e.getLineMaxColumn(v)?t.addEditOperation(new(0,u.Range)(1,1,1,1),null):(t.addEditOperation(new(0,u.Range)(g,1,g,1),e.getLineContent(v)),t.addEditOperation(new(0,u.Range)(v,1,v,e.getLineMaxColumn(v)),null)),r=new(0,c.Selection)(v,1,v,1)}else{var m,y;if(this._isMovingDown){m=r.endLineNumber+1,y=e.getLineContent(m),t.addEditOperation(new(0,u.Range)(m-1,e.getLineMaxColumn(m-1),m,e.getLineMaxColumn(m)),null);var b=y;if(this.shouldAutoIndent(e,r)){var _=this.matchEnterRule(e,d,o,m,r.startLineNumber-1);if(null!==_){var k=s.getLeadingWhitespace(e.getLineContent(m)),C=_+f.getSpaceCnt(k,o),x=f.generateIndent(C,o,l);b=x+this.trimLeft(y)}else{p.getLineContent=function(t){return t===r.startLineNumber?e.getLineContent(m):e.getLineContent(t)};var w=h.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,p,e.getLanguageIdAtPosition(m,1),r.startLineNumber,d);if(null!==w){var S=s.getLeadingWhitespace(e.getLineContent(m)),E=f.getSpaceCnt(w,o);if(E!==f.getSpaceCnt(S,o)){var D=f.generateIndent(E,o,l);b=D+this.trimLeft(y)}}}t.addEditOperation(new(0,u.Range)(r.startLineNumber,1,r.startLineNumber,1),b+"\n");var I=this.matchEnterRuleMovingDown(e,d,o,r.startLineNumber,m,b);if(null!==I)0!==I&&this.getIndentEditsOfMovingBlock(e,t,r,o,l,I);else{p.getLineContent=function(t){return t===r.startLineNumber?b:t>=r.startLineNumber+1&&t<=r.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)};var R=h.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,p,e.getLanguageIdAtPosition(m,1),r.startLineNumber+1,d);if(null!==R){var L=s.getLeadingWhitespace(e.getLineContent(r.startLineNumber)),A=f.getSpaceCnt(R,o),M=f.getSpaceCnt(L,o);if(A!==M){var T=A-M;this.getIndentEditsOfMovingBlock(e,t,r,o,l,T)}}}}else t.addEditOperation(new(0,u.Range)(r.startLineNumber,1,r.startLineNumber,1),b+"\n")}else if(m=r.startLineNumber-1,y=e.getLineContent(m),t.addEditOperation(new(0,u.Range)(m,1,m+1,1),null),t.addEditOperation(new(0,u.Range)(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),"\n"+y),this.shouldAutoIndent(e,r)){p.getLineContent=function(t){return t===m?e.getLineContent(r.startLineNumber):e.getLineContent(t)};var N=this.matchEnterRule(e,d,o,r.startLineNumber,r.startLineNumber-2);if(null!==N)0!==N&&this.getIndentEditsOfMovingBlock(e,t,r,o,l,N);else{var P=h.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,p,e.getLanguageIdAtPosition(r.startLineNumber,1),m,d);if(null!==P){var O=s.getLeadingWhitespace(e.getLineContent(r.startLineNumber)),F=f.getSpaceCnt(P,o),B=f.getSpaceCnt(O,o);if(F!==B){var z=F-B;this.getIndentEditsOfMovingBlock(e,t,r,o,l,z)}}}}}this._selectionId=t.trackSelection(r)}else this._selectionId=t.trackSelection(this._selection)}},{key:"buildIndentConverter",value:function(e,t,n){return{shiftIndent:function(r){return l.ShiftCommand.shiftIndent(r,r.length+1,e,t,n)},unshiftIndent:function(r){return l.ShiftCommand.unshiftIndent(r,r.length+1,e,t,n)}}}},{key:"parseEnterResult",value:function(e,t,n,r,i){if(i){var o=i.indentation;i.indentAction===d.IndentAction.None||i.indentAction===d.IndentAction.Indent?o=i.indentation+i.appendText:i.indentAction===d.IndentAction.IndentOutdent?o=i.indentation:i.indentAction===d.IndentAction.Outdent&&(o=t.unshiftIndent(i.indentation)+i.appendText);var a=e.getLineContent(r);if(this.trimLeft(a).indexOf(this.trimLeft(o))>=0){var l=s.getLeadingWhitespace(e.getLineContent(r)),u=s.getLeadingWhitespace(o),c=h.LanguageConfigurationRegistry.getIndentMetadata(e,r);return null!==c&&2&c&&(u=t.unshiftIndent(u)),f.getSpaceCnt(u,n)-f.getSpaceCnt(l,n)}}return null}},{key:"matchEnterRuleMovingDown",value:function(e,t,n,r,i,o){if(s.lastNonWhitespaceIndex(o)>=0){var a=e.getLineMaxColumn(i),l=h.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,e,new(0,u.Range)(i,a,i,a));return this.parseEnterResult(e,t,n,r,l)}for(var c=r-1;c>=1;){var d=e.getLineContent(c);if(s.lastNonWhitespaceIndex(d)>=0)break;c--}if(c<1||r>e.getLineCount())return null;var f=e.getLineMaxColumn(c),p=h.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,e,new(0,u.Range)(c,f,c,f));return this.parseEnterResult(e,t,n,r,p)}},{key:"matchEnterRule",value:function(e,t,n,r,i,o){for(var a=i;a>=1;){var l=void 0;if(l=a===i&&void 0!==o?o:e.getLineContent(a),s.lastNonWhitespaceIndex(l)>=0)break;a--}if(a<1||r>e.getLineCount())return null;var c=e.getLineMaxColumn(a),d=h.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,e,new(0,u.Range)(a,c,a,c));return this.parseEnterResult(e,t,n,r,d)}},{key:"trimLeft",value:function(e){return e.replace(/^\s+/,"")}},{key:"shouldAutoIndent",value:function(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;var n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==h.LanguageConfigurationRegistry.getIndentRulesSupport(n)}},{key:"getIndentEditsOfMovingBlock",value:function(e,t,n,r,i,o){for(var a=n.startLineNumber;a<=n.endLineNumber;a++){var l=e.getLineContent(a),c=s.getLeadingWhitespace(l),d=f.getSpaceCnt(c,r)+o,h=f.generateIndent(d,r,i);h!==c&&(t.addEditOperation(new(0,u.Range)(a,1,a,c.length+1),h),a===n.endLineNumber&&n.endColumn<=c.length+1&&""===h&&(this._moveEndLineSelectionShrink=!0))}}},{key:"computeCursorState",value:function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}]),e}()})),o.register("7mbqh",(function(n,r){e(n.exports,"SortLinesCommand",(function(){return u}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("6JJ1Z"),l=o("Og1nm"),u=function(){"use strict";function e(n,r){t(i)(this,e),this.selection=n,this.descending=r,this.selectionId=null}return t(a)(e,[{key:"getEditOperations",value:function(e,t){var n=function(e,t,n){var r=c(e,t,n);return r?s.EditOperation.replace(new(0,l.Range)(r.startLineNumber,1,r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),r.after.join("\n")):null}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}],[{key:"getCollator",value:function(){return e._COLLATOR||(e._COLLATOR=new Intl.Collator),e._COLLATOR}},{key:"canRun",value:function(e,t,n){if(null===e)return!1;var r=c(e,t,n);if(!r)return!1;for(var i=0,o=r.before.length;i<o;i++)if(r.before[i]!==r.after[i])return!0;return!1}}]),e}();function c(e,t,n){var r=t.startLineNumber,i=t.endLineNumber;if(1===t.endColumn&&i--,r>=i)return null;for(var o=[],a=r;a<=i;a++)o.push(e.getLineContent(a));var s=o.slice(0);return s.sort(u.getCollator().compare),!0===n&&(s=s.reverse()),{startLineNumber:r,endLineNumber:i,before:o,after:s}}u._COLLATOR=null})),o.register("z4imX",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("k0Xaj"),s=o("5464t"),l=o("hgtn2"),u=o("56Cfp"),c=o("aV5UR"),d=o("4GLgu"),h=o("dKkCN"),f=o("kT6fp"),p=o("ddsHh"),g=o("glSIC"),v=o("kaKvC"),m=o("7C9Vb"),y=o("Og1nm"),b=o("aQzpN"),_=o("1xRRx"),k=o("3bY1c"),C=o("6x2MV"),x=o("7Zg88"),w=o("bErzw"),S=o("flIZY"),E=o("9yDnc"),D=o("flPya"),I=o("eZPXr"),R=o("4qRit"),L=o("3bv5f"),A=o("95goo"),M=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,r){t(n,r,e)}},N=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},P=new(0,C.RawContextKey)("LinkedEditingInputVisible",!1),O="linked-editing-decoration",F=function(e){"use strict";t(l)(o,e);var n=t(c)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this))._debounceDuration=200,a._localToDispose=a._register(new(0,g.DisposableStore)),a._editor=e,a._enabled=!1,a._visibleContextKey=P.bindTo(i),a._currentDecorations=[],a._languageWordPattern=null,a._currentWordPattern=null,a._ignoreChangeEvent=!1,a._localToDispose=a._register(new(0,g.DisposableStore)),a._rangeUpdateTriggerPromise=null,a._rangeSyncTriggerPromise=null,a._currentRequest=null,a._currentRequestPosition=null,a._currentRequestModelVersion=null,a._register(a._editor.onDidChangeModel((function(){return a.reinitialize(!0)}))),a._register(a._editor.onDidChangeConfiguration((function(e){(e.hasChanged(60)||e.hasChanged(80))&&a.reinitialize(!1)}))),a._register(b.LinkedEditingRangeProviderRegistry.onDidChange((function(){return a.reinitialize(!1)}))),a._register(a._editor.onDidChangeModelLanguage((function(){return a.reinitialize(!0)}))),a.reinitialize(!0),a}return t(i)(o,[{key:"reinitialize",value:function(e){var t=this,n=this._editor.getModel(),r=null!==n&&(this._editor.getOption(60)||this._editor.getOption(80))&&b.LinkedEditingRangeProviderRegistry.has(n);if((r!==this._enabled||e)&&(this._enabled=r,this.clearRanges(),this._localToDispose.clear(),r&&null!==n)){this._languageWordPattern=A.LanguageConfigurationRegistry.getWordDefinition(n.getLanguageIdentifier().id),this._localToDispose.add(n.onDidChangeLanguageConfiguration((function(){t._languageWordPattern=A.LanguageConfigurationRegistry.getWordDefinition(n.getLanguageIdentifier().id)})));var i=new(0,_.Delayer)(this._debounceDuration),o=function(){var e=t;t._rangeUpdateTriggerPromise=i.trigger((function(){return e.updateRanges()}),t._debounceDuration)},a=new(0,_.Delayer)(0);this._localToDispose.add(this._editor.onDidChangeCursorPosition((function(){o()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((function(e){if(!t._ignoreChangeEvent&&t._currentDecorations.length>0){var r=n.getDecorationRange(t._currentDecorations[0]);if(r&&e.changes.every((function(e){return r.intersectRanges(e.range)})))return i=t._currentDecorations,s=t,void(t._rangeSyncTriggerPromise=a.trigger((function(){return s._syncRanges(i)})))}var i,s;o()}))),this._localToDispose.add({dispose:function(){i.cancel(),a.cancel()}}),this.updateRanges()}}},{key:"_syncRanges",value:function(e){if(this._editor.hasModel()&&e===this._currentDecorations&&0!==e.length){var t=this._editor.getModel(),n=t.getDecorationRange(e[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();var r=t.getValueInRange(n);if(this._currentWordPattern){var i=r.match(this._currentWordPattern);if((i?i[0].length:0)!==r.length)return this.clearRanges()}for(var o=[],a=1,s=e.length;a<s;a++){var l=t.getDecorationRange(e[a]);if(l)if(l.startLineNumber!==l.endLineNumber)o.push({range:l,text:r});else{var u=t.getValueInRange(l),c=r,d=l.startColumn,h=l.endColumn,f=D.commonPrefixLength(u,c);d+=f,u=u.substr(f),c=c.substr(f);var p=D.commonSuffixLength(u,c);h-=p,u=u.substr(0,u.length-p),c=c.substr(0,c.length-p),d===h&&0===c.length||o.push({range:new(0,y.Range)(l.startLineNumber,d,l.endLineNumber,h),text:c})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;var g=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(g)}finally{this._ignoreChangeEvent=!1}}}},{key:"dispose",value:function(){this.clearRanges(),t(a)(t(s)(o.prototype),"dispose",this).call(this)}},{key:"clearRanges",value:function(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}},{key:"updateRanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return N(this,void 0,void 0,t(d).mark((function n(){var r,i,a,s,l,u;return t(d).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this,this._editor.hasModel()){n.next=4;break}return this.clearRanges(),n.abrupt("return");case 4:if(i=this._editor.getPosition(),!(!this._enabled&&!e||this._editor.getSelections().length>1)){n.next=8;break}return this.clearRanges(),n.abrupt("return");case 8:if(a=this._editor.getModel(),s=a.getVersionId(),!this._currentRequestPosition||this._currentRequestModelVersion!==s){n.next=17;break}if(!i.equals(this._currentRequestPosition)){n.next=13;break}return n.abrupt("return");case 13:if(!(this._currentDecorations&&this._currentDecorations.length>0)){n.next=17;break}if(!(l=a.getDecorationRange(this._currentDecorations[0]))||!l.containsPosition(i)){n.next=17;break}return n.abrupt("return");case 17:return this._currentRequestPosition=i,this._currentRequestModelVersion=s,u=(0,_.createCancelablePromise)((function(e){return N(r,void 0,void 0,t(d).mark((function n(){var r,l,c,h,f,p,g;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(a,i,e);case 3:if(r=t.sent,u===this._currentRequest){t.next=6;break}return t.abrupt("return");case 6:if(this._currentRequest=null,s===a.getVersionId()){t.next=9;break}return t.abrupt("return");case 9:l=[],(null==r?void 0:r.ranges)&&(l=r.ranges),this._currentWordPattern=(null==r?void 0:r.wordPattern)||this._languageWordPattern,c=!1,h=0,f=l.length;case 14:if(!(h<f)){t.next=22;break}if(!y.Range.containsPosition(l[h],i)){t.next=19;break}return c=!0,0!==h&&(p=l[h],l.splice(h,1),l.unshift(p)),t.abrupt("break",22);case 19:h++,t.next=14;break;case 22:if(c){t.next=25;break}return this.clearRanges(),t.abrupt("return");case 25:g=l.map((function(e){return{range:e,options:o.DECORATION}})),this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,g),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(0),(0,E.isPromiseCanceledError)(t.t0)||(0,E.onUnexpectedError)(t.t0),this._currentRequest!==u&&this._currentRequest||this.clearRanges();case 34:case"end":return t.stop()}}),n,this,[[0,30]])})))})),this._currentRequest=u,n.abrupt("return",u);case 22:case"end":return n.stop()}}),n,this)})))}}],[{key:"get",value:function(e){return e.getContribution(o.ID)}}]),o}(g.Disposable);F.ID="editor.contrib.linkedEditing",F.DECORATION=k.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:O}),F=M([T(1,C.IContextKeyService)],F);var B=function(e){"use strict";t(l)(o,e);var n=t(c)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.linkedEditing",label:h.localize("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:C.ContextKeyExpr.and(x.EditorContextKeys.writable,x.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:x.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}return t(i)(o,[{key:"runCommand",value:function(e,n){var r=this,i=e.get(S.ICodeEditorService),l=t(u)(Array.isArray(n)&&n||[void 0,void 0],2),c=l[0],d=l[1];return w.URI.isUri(c)&&v.Position.isIPosition(d)?i.openCodeEditor({resource:c},i.getActiveCodeEditor()).then((function(e){var t=r;e&&(e.setPosition(d),e.invokeWithinContext((function(n){return t.reportTelemetry(n,e),t.run(n,e)})))}),E.onUnexpectedError):t(a)(t(s)(o.prototype),"runCommand",this).call(this,e,n)}},{key:"run",value:function(e,t){var n=F.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}]),o}(f.EditorAction),z=f.EditorCommand.bindToContribution(F.get);function W(e,n,r){var i=this,o=b.LinkedEditingRangeProviderRegistry.ordered(e);return(0,_.first)(o.map((function(o){return function(){return N(i,void 0,void 0,t(d).mark((function i(){return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.provideLinkedEditingRanges(e,n,r);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),(0,E.onUnexpectedExternalError)(t.t0),t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),i,null,[[0,6]])})))}})),(function(e){return!!e&&p.isNonEmptyArray(null==e?void 0:e.ranges)}))}(0,f.registerEditorCommand)(new z({id:"cancelLinkedEditingInput",precondition:P,handler:function(e){return e.clearRanges()},kbOpts:{kbExpr:x.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));var H=(0,I.registerColor)("editor.linkedEditingBackground",{dark:L.Color.fromHex("#f00").transparent(.3),light:L.Color.fromHex("#f00").transparent(.3),hc:L.Color.fromHex("#f00").transparent(.3)},h.localize("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,R.registerThemingParticipant)((function(e,t){var n=e.getColor(H);n&&t.addRule(".monaco-editor .".concat(O," { background: ").concat(n,"; border-left-color: ").concat(n,"; }"))})),(0,f.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(function(e,t){return W(e,t,m.CancellationToken.None)})),(0,f.registerEditorContribution)(F.ID,F),(0,f.registerEditorAction)(B)})),o.register("enpNV",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("56Cfp"),l=o("aV5UR"),u=o("4GLgu"),c=o("dKkCN"),d=o("1xRRx"),h=o("7C9Vb"),f=o("9yDnc"),p=o("2Y8KV"),g=o("glSIC"),v=o("4YgGD"),m=o("kT6fp"),y=o("3bY1c"),b=o("aQzpN"),_=o("lxkvT"),k=o("f4CYk"),C=o("ds0Oh"),x=o("KDpXQ"),w=o("eZPXr"),S=o("4qRit"),E=o("bErzw"),D=o("98cBO"),I=o("5Z1yh"),R=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,r){t(n,r,e)}},A=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};var M={general:y.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:y.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},T=function(){"use strict";function e(n,i){t(r)(this,e),this.link=n,this.decorationId=i}return t(i)(e,[{key:"activate",value:function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!0))}},{key:"deactivate",value:function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!1))}}],[{key:"decoration",value:function(t,n){return{range:t.range,options:e._getOptions(t,n,!1)}}},{key:"_getOptions",value:function(e,t,n){var r=Object.assign({},n?M.active:M.general);return r.hoverMessage=function(e,t){var n=e.url&&/^command:/i.test(e.url.toString()),r=e.tooltip?e.tooltip:n?c.localize("links.navigate.executeCmd","Execute command"):c.localize("links.navigate.follow","Follow link"),i=t?v.isMacintosh?c.localize("links.navigate.kb.meta.mac","cmd + click"):c.localize("links.navigate.kb.meta","ctrl + click"):v.isMacintosh?c.localize("links.navigate.kb.alt.mac","option + click"):c.localize("links.navigate.kb.alt","alt + click");if(e.url){var o="";if(/^command:/i.test(e.url.toString())){var a=e.url.toString().match(/^command:([^?#]+)/);if(a){var s=a[1],l=c.localize("tooltip.explanation","Execute command {0}",s);o=' "'.concat(l,'"')}}return new(0,p.MarkdownString)("",!0).appendMarkdown("[".concat(r,"](").concat(e.url.toString(!0)).concat(o,") (").concat(i,")"))}return(new(0,p.MarkdownString)).appendText("".concat(r," (").concat(i,")"))}(e,t),r}}]),e}(),N=function(){"use strict";function e(n,i,o){var a=this;t(r)(this,e),this.listenersToRemove=new(0,g.DisposableStore),this.editor=n,this.openerService=i,this.notificationService=o;var l=new(0,_.ClickLinkGesture)(n);this.listenersToRemove.add(l),this.listenersToRemove.add(l.onMouseMoveOrRelevantKeyDown((function(e){var n=t(s)(e,2),r=n[0],i=n[1];a._onEditorMouseMove(r,i)}))),this.listenersToRemove.add(l.onExecute((function(e){a.onEditorMouseUp(e)}))),this.listenersToRemove.add(l.onCancel((function(e){a.cleanUpActiveLinkDecoration()}))),this.enabled=n.getOption(61),this.listenersToRemove.add(n.onDidChangeConfiguration((function(e){var t=n.getOption(61);a.enabled!==t&&(a.enabled=t,a.updateDecorations([]),a.stop(),a.beginCompute())}))),this.listenersToRemove.add(n.onDidChangeModelContent((function(e){return a.onChange()}))),this.listenersToRemove.add(n.onDidChangeModel((function(e){return a.onModelChanged()}))),this.listenersToRemove.add(n.onDidChangeModelLanguage((function(e){return a.onModelModeChanged()}))),this.listenersToRemove.add(b.LinkProviderRegistry.onDidChange((function(e){return a.onModelModeChanged()}))),this.timeout=new d.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return t(i)(e,[{key:"onModelChanged",value:function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}},{key:"onModelModeChanged",value:function(){this.stop(),this.beginCompute()}},{key:"onChange",value:function(){var t=this;this.timeout.setIfNotSet((function(){return t.beginCompute()}),e.RECOMPUTE_TIME)}},{key:"beginCompute",value:function(){return A(this,void 0,void 0,t(u).mark((function e(){var n;return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.editor.hasModel()&&this.enabled){e.next=2;break}return e.abrupt("return");case 2:if(n=this.editor.getModel(),b.LinkProviderRegistry.has(n)){e.next=5;break}return e.abrupt("return");case 5:return this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=d.createCancelablePromise((function(e){return(0,k.getLinks)(n,e)})),e.prev=7,e.next=10,this.computePromise;case 10:this.activeLinksList=e.sent,this.updateDecorations(this.activeLinksList.links),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),(0,f.onUnexpectedError)(e.t0);case 17:return e.prev=17,this.computePromise=null,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[7,14,17,20]])})))}},{key:"updateDecorations",value:function(e){for(var t="altKey"===this.editor.getOption(68),n=[],r=Object.keys(this.currentOccurrences),i=0,o=r.length;i<o;i++){var a=r[i],s=this.currentOccurrences[a];n.push(s.decorationId)}var l=[],u=!0,c=!1,d=void 0;if(e)try{for(var h,f=e[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;l.push(T.decoration(p,t))}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}var g=this.editor.deltaDecorations(n,l);this.currentOccurrences={},this.activeLinkDecorationId=null;for(var v=0,m=g.length;v<m;v++){var y=new T(e[v],g[v]);this.currentOccurrences[y.decorationId]=y}}},{key:"_onEditorMouseMove",value:function(e,t){var n="altKey"===this.editor.getOption(68);if(this.isEnabled(e,t)){var r=this;this.cleanUpActiveLinkDecoration();var i=this.getLinkOccurrence(e.target.position);i&&this.editor.changeDecorations((function(e){i.activate(e,n),r.activeLinkDecorationId=i.decorationId}))}else this.cleanUpActiveLinkDecoration()}},{key:"cleanUpActiveLinkDecoration",value:function(){var e="altKey"===this.editor.getOption(68);if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((function(n){t.deactivate(n,e)})),this.activeLinkDecorationId=null}}},{key:"onEditorMouseUp",value:function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}}},{key:"openLinkOccurrence",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;if(this.openerService){var i=e.link;i.resolve(h.CancellationToken.None).then((function(e){if("string"==typeof e&&r.editor.hasModel()){var i=r.editor.getModel().uri;if(i.scheme===D.Schemas.file&&e.startsWith("".concat(D.Schemas.file,":"))){var o=E.URI.parse(e);if(o.scheme===D.Schemas.file){var a=I.originalFSPath(o),s=null;a.startsWith("/./")?s=".".concat(a.substr(1)):a.startsWith("//./")&&(s=".".concat(a.substr(2))),s&&(e=I.joinPath(i,s))}}}return r.openerService.open(e,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})}),(function(e){var t=e instanceof Error?e.message:e;"invalid"===t?r.notificationService.warn(c.localize("invalid.url","Failed to open this link because it is not well-formed: {0}",i.url.toString())):"missing"===t?r.notificationService.warn(c.localize("missing.url","Failed to open this link because its target is missing.")):(0,f.onUnexpectedError)(e)}))}}},{key:"getLinkOccurrence",value:function(e){if(!this.editor.hasModel()||!e)return null;var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.currentOccurrences[s.id];if(l)return l}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}},{key:"isEnabled",value:function(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}},{key:"stop",value:function(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}},{key:"dispose",value:function(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();N.ID="editor.linkDetector",N.RECOMPUTE_TIME=1e3,N=R([L(1,x.IOpenerService),L(2,C.INotificationService)],N);var P=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.openLink",label:c.localize("label","Open Link"),alias:"Open Link",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t){var n=N.get(t);if(n&&t.hasModel()){var r=t.getSelections(),i=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=n.getLinkOccurrence(u.getEndPosition());c&&n.openLinkOccurrence(c,!1)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}}}]),o}(m.EditorAction);(0,m.registerEditorContribution)(N.ID,N),(0,m.registerEditorAction)(P),(0,S.registerThemingParticipant)((function(e,t){var n=e.getColor(w.editorActiveLinkForeground);n&&t.addRule(".monaco-editor .detected-link-active { color: ".concat(n," !important; }"))}))})),o.register("f4CYk",(function(n,r){e(n.exports,"getLinks",(function(){return C}),(function(e){return C=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("4GLgu"),u=o("7C9Vb"),c=o("9yDnc"),d=o("bErzw"),h=o("Og1nm"),f=o("aQzpN"),p=o("8nQ63"),g=o("1Ms2U"),v=o("glSIC"),m=o("ddsHh"),y=o("2lfWM"),b=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},_=function(){"use strict";function e(n,r){t(i)(this,e),this._link=n,this._provider=r}return t(a)(e,[{key:"toJSON",value:function(){return{range:this.range,url:this.url,tooltip:this.tooltip}}},{key:"range",get:function(){return this._link.range}},{key:"url",get:function(){return this._link.url}},{key:"tooltip",get:function(){return this._link.tooltip}},{key:"resolve",value:function(e){return b(this,void 0,void 0,t(l).mark((function n(){var r;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this,!this._link.url){t.next=3;break}return t.abrupt("return",this._link.url);case 3:if("function"!=typeof this._provider.resolveLink){t.next=5;break}return t.abrupt("return",Promise.resolve(this._provider.resolveLink(this._link,e)).then((function(t){return r._link=t||r._link,r._link.url?r.resolve(e):Promise.reject(new Error("missing"))})));case 5:return t.abrupt("return",Promise.reject(new Error("missing")));case 6:case"end":return t.stop()}}),n,this)})))}}]),e}(),k=function(){"use strict";function e(n){t(i)(this,e),this._disposables=new(0,v.DisposableStore);var r=[],o=!0,a=!1,l=void 0;try{for(var u,c=this,d=function(n,i){var o=t(s)(i.value,2),a=o[0],l=o[1],u=a.links.map((function(e){return new _(e,l)}));r=e._union(r,u),(0,v.isDisposable)(a)&&c._disposables.add(a)},h=n[Symbol.iterator]();!(o=(u=h.next()).done);o=!0)d(0,u)}catch(e){a=!0,l=e}finally{try{o||null==h.return||h.return()}finally{if(a)throw l}}this.links=r}return t(a)(e,[{key:"dispose",value:function(){this._disposables.dispose(),this.links.length=0}}],[{key:"_union",value:function(e,t){var n,r,i,o,a=[];for(n=0,i=0,r=e.length,o=t.length;n<r&&i<o;){var s=e[n],l=t[i];if(h.Range.areIntersectingOrTouching(s.range,l.range))n++;else h.Range.compareRangesUsingStarts(s.range,l.range)<0?(a.push(s),n++):(a.push(l),i++)}for(;n<r;n++)a.push(e[n]);for(;i<o;i++)a.push(t[i]);return a}}]),e}();function C(e,t){var n=[],r=f.LinkProviderRegistry.ordered(e).reverse().map((function(r,i){return Promise.resolve(r.provideLinks(e,t)).then((function(e){e&&(n[i]=[e,r])}),c.onUnexpectedExternalError)}));return Promise.all(r).then((function(){var e=new k((0,m.coalesce)(n));return t.isCancellationRequested?(e.dispose(),new k([])):e}))}g.CommandsRegistry.registerCommand("_executeLinkProvider",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return b(void 0,void 0,void 0,t(l).mark((function n(){var i,o,a,c,h,f,g;return t(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t(s)(r,2),o=i[0],a=i[1],(0,y.assertType)(o instanceof d.URI),"number"!=typeof a&&(a=0),c=e.get(p.IModelService).getModel(o)){n.next=6;break}return n.abrupt("return",[]);case 6:return n.next=8,C(c,u.CancellationToken.None);case 8:if(h=n.sent){n.next=11;break}return n.abrupt("return",[]);case 11:f=0;case 12:if(!(f<Math.min(a,h.links.length))){n.next=18;break}return n.next=15,h.links[f].resolve(u.CancellationToken.None);case 15:f++,n.next=12;break;case 18:return g=h.links.slice(0),h.dispose(),n.abrupt("return",g);case 21:case"end":return n.stop()}}),n)})))}))})),o.register("dbtWh",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("k0Xaj"),s=o("5464t"),l=o("hgtn2"),u=o("aV5UR"),c=o("dKkCN"),d=o("1xRRx"),h=o("aLDYa"),f=o("glSIC"),p=o("3mtPc"),g=o("kT6fp"),v=o("gBpOn"),m=o("Og1nm"),y=o("9cZTD"),b=o("7Zg88"),_=o("caczl"),k=o("3bY1c"),C=o("aQzpN"),x=o("4kj3Y"),w=o("lvhYu"),S=o("eZPXr"),E=o("4qRit"),D=o("6x2MV");function I(e,t){var n=t.filter((function(t){return!e.find((function(e){return e.equals(t)}))}));if(n.length>=1){var r=n.map((function(e){return"line ".concat(e.viewState.position.lineNumber," column ").concat(e.viewState.position.column)})).join(", "),i=1===n.length?c.localize("cursorAdded","Cursor added: {0}",r):c.localize("cursorsAdded","Cursors added: {0}",r);(0,p.status)(i)}}var R=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.insertCursorAbove",label:c.localize("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:w.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}return t(i)(o,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=n&&!0===n.logicalLine,i=t._getViewModel();if(!i.cursorConfig.readOnly){i.pushStackElement();var o=i.getCursorStates();i.setCursorStates(n.source,3,v.CursorMoveCommands.addCursorUp(i,o,r)),i.revealTopMostCursor(n.source),I(o,i.getCursorStates())}}}}]),o}(g.EditorAction),L=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.insertCursorBelow",label:c.localize("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:w.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}return t(i)(o,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=n&&!0===n.logicalLine,i=t._getViewModel();if(!i.cursorConfig.readOnly){i.pushStackElement();var o=i.getCursorStates();i.setCursorStates(n.source,3,v.CursorMoveCommands.addCursorDown(i,o,r)),i.revealBottomMostCursor(n.source),I(o,i.getCursorStates())}}}}]),o}(g.EditorAction),A=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:c.localize("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:w.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}return t(i)(o,[{key:"getCursorsForSelection",value:function(e,t,n){if(!e.isEmpty()){for(var r=e.startLineNumber;r<e.endLineNumber;r++){var i=t.getLineMaxColumn(r);n.push(new(0,y.Selection)(r,i,r,i))}e.endColumn>1&&n.push(new(0,y.Selection)(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}},{key:"run",value:function(e,t){var n=this;if(t.hasModel()){var r=t.getModel(),i=t.getSelections(),o=t._getViewModel(),a=o.getCursorStates(),s=[];i.forEach((function(e){return n.getCursorsForSelection(e,r,s)})),s.length>0&&t.setSelections(s),I(a,o.getCursorStates())}}}]),o}(g.EditorAction),M=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.addCursorsToBottom",label:c.localize("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){for(var n=t.getSelections(),r=t.getModel().getLineCount(),i=[],o=n[0].startLineNumber;o<=r;o++)i.push(new(0,y.Selection)(o,n[0].startColumn,o,n[0].endColumn));var a=t._getViewModel(),s=a.getCursorStates();i.length>0&&t.setSelections(i),I(s,a.getCursorStates())}}}]),o}(g.EditorAction),T=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.addCursorsToTop",label:c.localize("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){for(var n=t.getSelections(),r=[],i=n[0].startLineNumber;i>=1;i--)r.push(new(0,y.Selection)(i,n[0].startColumn,i,n[0].endColumn));var o=t._getViewModel(),a=o.getCursorStates();r.length>0&&t.setSelections(r),I(a,o.getCursorStates())}}}]),o}(g.EditorAction),N=function e(n,i,o){"use strict";t(r)(this,e),this.selections=n,this.revealRange=i,this.revealScrollType=o},P=function(){"use strict";function e(n,i,o,a,s,l,u){t(r)(this,e),this._editor=n,this.findController=i,this.isDisconnectedFromFindController=o,this.searchText=a,this.wholeWord=s,this.matchCase=l,this.currentMatch=u}return t(i)(e,[{key:"addSelectionToNextFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new N(t.concat(e),e,0)}},{key:"moveSelectionToNextFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new N(t.slice(0,t.length-1).concat(e),e,0)}},{key:"_getNextMatch",value:function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),n=t[t.length-1],r=this._editor.getModel().findNextMatch(this.searchText,n.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return r?new(0,y.Selection)(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn):null}},{key:"addSelectionToPreviousFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new N(t.concat(e),e,0)}},{key:"moveSelectionToPreviousFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new N(t.slice(0,t.length-1).concat(e),e,0)}},{key:"_getPreviousMatch",value:function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),n=t[t.length-1],r=this._editor.getModel().findPreviousMatch(this.searchText,n.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return r?new(0,y.Selection)(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn):null}},{key:"selectAll",value:function(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}],[{key:"create",value:function(t,n){if(!t.hasModel())return null;var r=n.getState();if(!t.hasTextFocus()&&r.isRevealed&&r.searchString.length>0)return new e(t,n,!1,r.searchString,r.wholeWord,r.matchCase,null);var i,o,a=!1,s=t.getSelections();1===s.length&&s[0].isEmpty()?(a=!0,i=!0,o=!0):(i=r.wholeWord,o=r.matchCase);var l,u=t.getSelection(),c=null;if(u.isEmpty()){var d=t.getConfiguredWordAtPosition(u.getStartPosition());if(!d)return null;l=d.word,c=new(0,y.Selection)(u.startLineNumber,d.startColumn,u.startLineNumber,d.endColumn)}else l=t.getModel().getValueInRange(u).replace(/\r\n/g,"\n");return new e(t,n,a,l,i,o,c)}}]),e}(),O=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(e){var i;return t(r)(this,o),(i=n.call(this))._sessionDispose=i._register(new(0,f.DisposableStore)),i._editor=e,i._ignoreSelectionChange=!1,i._session=null,i}return t(i)(o,[{key:"dispose",value:function(){this._endSession(),t(a)(t(s)(o.prototype),"dispose",this).call(this)}},{key:"_beginSessionIfNeeded",value:function(e){if(!this._session){var t=this,n=P.create(this._editor,e);if(!n)return;this._session=n;var r={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(r.wholeWordOverride=1,r.matchCaseOverride=1,r.isRegexOverride=2),e.getState().change(r,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((function(e){t._ignoreSelectionChange||t._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((function(){t._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((function(e){(e.matchCase||e.wholeWord)&&t._endSession()})))}}},{key:"_endSession",value:function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){this._session.findController.getState().change({wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0},!1)}this._session=null}},{key:"_setSelections",value:function(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}},{key:"_expandEmptyToWord",value:function(e,t){if(!t.isEmpty())return t;var n=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return n?new(0,y.Selection)(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t}},{key:"_applySessionResult",value:function(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}},{key:"getSession",value:function(e){return this._session}},{key:"addSelectionToNextFindMatch",value:function(e){if(this._editor.hasModel()){if(!this._session){var t=this._editor.getSelections();if(t.length>1){var n=e.getState().matchCase;if(!q(this._editor.getModel(),t,n)){for(var r=this._editor.getModel(),i=[],o=0,a=t.length;o<a;o++)i[o]=this._expandEmptyToWord(r,t[o]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}},{key:"addSelectionToPreviousFindMatch",value:function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}},{key:"moveSelectionToNextFindMatch",value:function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}},{key:"moveSelectionToPreviousFindMatch",value:function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}},{key:"selectAll",value:function(e){if(this._editor.hasModel()){var t=null,n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex)t=this._editor.getModel().findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(n.searchScope){var r=n.searchScope,i=[];t.forEach((function(e){r.forEach((function(t){e.range.endLineNumber<=t.endLineNumber&&e.range.startLineNumber>=t.startLineNumber&&i.push(e)}))})),t=i}if(t.length>0){for(var o=this._editor.getSelection(),a=0,s=t.length;a<s;a++){var l=t[a];if(l.range.intersectRanges(o)){t[a]=t[0],t[0]=l;break}}this._setSelections(t.map((function(e){return new(0,y.Selection)(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})))}}}}],[{key:"get",value:function(e){return e.getContribution(o.ID)}}]),o}(f.Disposable);O.ID="editor.contrib.multiCursorController";var F=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.apply(this,arguments)}return t(i)(o,[{key:"run",value:function(e,t){var n=O.get(t);if(n){var r=x.CommonFindController.get(t);if(r){var i=t._getViewModel();if(i){var o=i.getCursorStates();this._run(n,r),I(o,i.getCursorStates())}}}}}]),o}(g.EditorAction),B=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:c.localize("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:w.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}return t(i)(o,[{key:"_run",value:function(e,t){e.addSelectionToNextFindMatch(t)}}]),o}(F),z=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:c.localize("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:w.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}return t(i)(o,[{key:"_run",value:function(e,t){e.addSelectionToPreviousFindMatch(t)}}]),o}(F),W=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:c.localize("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:(0,h.KeyChord)(2089,2082),weight:100}})}return t(i)(o,[{key:"_run",value:function(e,t){e.moveSelectionToNextFindMatch(t)}}]),o}(F),H=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:c.localize("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}return t(i)(o,[{key:"_run",value:function(e,t){e.moveSelectionToPreviousFindMatch(t)}}]),o}(F),V=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.selectHighlights",label:c.localize("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:w.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}return t(i)(o,[{key:"_run",value:function(e,t){e.selectAll(t)}}]),o}(F),j=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.changeAll",label:c.localize("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:D.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}return t(i)(o,[{key:"_run",value:function(e,t){e.selectAll(t)}}]),o}(F),K=function(){"use strict";function e(n,i,o,a){t(r)(this,e),this.searchText=n,this.matchCase=i,this.wordSeparators=o,this.modelVersionId=a}return t(i)(e,null,[{key:"softEquals",value:function(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}}]),e}(),U=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(e){var i;return t(r)(this,o),(i=n.call(this)).editor=e,i._isEnabled=e.getOption(96),i.decorations=[],i.updateSoon=i._register(new(0,d.RunOnceScheduler)((function(){return i._update()}),300)),i.state=null,i._register(e.onDidChangeConfiguration((function(t){i._isEnabled=e.getOption(96)}))),i._register(e.onDidChangeCursorSelection((function(e){i._isEnabled&&(e.selection.isEmpty()?3===e.reason?(i.state&&i._setState(null),i.updateSoon.schedule()):i._setState(null):i._update())}))),i._register(e.onDidChangeModel((function(e){i._setState(null)}))),i._register(e.onDidChangeModelContent((function(e){i._isEnabled&&i.updateSoon.schedule()}))),i._register(x.CommonFindController.get(e).getState().onFindReplaceStateChange((function(e){i._update()}))),i}return t(i)(o,[{key:"_update",value:function(){this._setState(o._createState(this._isEnabled,this.editor))}},{key:"_setState",value:function(e){if(K.softEquals(this.state,e))this.state=e;else if(this.state=e,this.state){if(this.editor.hasModel()){var t=this.editor.getModel();if(!t.isTooLargeForTokenization()){var n=C.DocumentHighlightProviderRegistry.has(t)&&this.editor.getOption(70),r=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map((function(e){return e.range}));r.sort(m.Range.compareRangesUsingStarts);var i=this.editor.getSelections();i.sort(m.Range.compareRangesUsingStarts);for(var a=[],s=0,l=0,u=r.length,c=i.length;s<u;){var d=r[s];if(l>=c)a.push(d),s++;else{var h=m.Range.compareRangesUsingStarts(d,i[l]);h<0?(!i[l].isEmpty()&&m.Range.areIntersecting(d,i[l])||a.push(d),s++):(h>0||s++,l++)}}var f=a.map((function(e){return{range:e,options:n?o._SELECTION_HIGHLIGHT:o._SELECTION_HIGHLIGHT_OVERVIEW}}));this.decorations=this.editor.deltaDecorations(this.decorations,f)}}}else this.decorations=this.editor.deltaDecorations(this.decorations,[])}},{key:"dispose",value:function(){this._setState(null),t(a)(t(s)(o.prototype),"dispose",this).call(this)}}],[{key:"_createState",value:function(e,t){if(!e)return null;if(!t.hasModel())return null;var n=t.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;var r=O.get(t);if(!r)return null;var i=x.CommonFindController.get(t);if(!i)return null;var o=r.getSession(i);if(!o){var a=t.getSelections();if(a.length>1){var s=i.getState().matchCase;if(!q(t.getModel(),a,s))return null}o=P.create(t,i)}if(!o)return null;if(o.currentMatch)return null;if(/^[ \t]+$/.test(o.searchText))return null;if(o.searchText.length>200)return null;var l=i.getState(),u=l.matchCase;if(l.isRevealed){var c=l.searchString;u||(c=c.toLowerCase());var d=o.searchText;if(u||(d=d.toLowerCase()),c===d&&o.matchCase===l.matchCase&&o.wholeWord===l.wholeWord&&!l.isRegex)return null}return new K(o.searchText,o.matchCase,o.wholeWord?t.getOption(115):null,t.getModel().getVersionId())}}]),o}(f.Disposable);function q(e,t,n){for(var r=Z(e,t[0],!n),i=1,o=t.length;i<o;i++){var a=t[i];if(a.isEmpty())return!1;if(r!==Z(e,a,!n))return!1}return!0}function Z(e,t,n){var r=e.getValueInRange(t);return n?r.toLowerCase():r}U.ID="editor.contrib.selectionHighlighter",U._SELECTION_HIGHLIGHT_OVERVIEW=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,E.themeColorFromId)(S.overviewRulerSelectionHighlightForeground),position:_.OverviewRulerLane.Center}}),U._SELECTION_HIGHLIGHT=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),(0,g.registerEditorContribution)(O.ID,O),(0,g.registerEditorContribution)(U.ID,U),(0,g.registerEditorAction)(R),(0,g.registerEditorAction)(L),(0,g.registerEditorAction)(A),(0,g.registerEditorAction)(B),(0,g.registerEditorAction)(z),(0,g.registerEditorAction)(W),(0,g.registerEditorAction)(H),(0,g.registerEditorAction)(V),(0,g.registerEditorAction)(j),(0,g.registerEditorAction)(M),(0,g.registerEditorAction)(T)})),o.register("4jwTd",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("glSIC"),c=o("e1Jmh"),d=o("7Zg88"),h=o("6x2MV"),f=o("kT6fp"),p=o("01rq3"),g=o("dBqMd"),v=o("aQzpN"),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},b=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this)).editor=e,a.widget=a._register(i.createInstance(p.ParameterHintsWidget,a.editor)),a}return t(i)(o,[{key:"cancel",value:function(){this.widget.cancel()}},{key:"previous",value:function(){this.widget.previous()}},{key:"next",value:function(){this.widget.next()}},{key:"trigger",value:function(e){this.widget.trigger(e)}}],[{key:"get",value:function(e){return e.getContribution(o.ID)}}]),o}(u.Disposable);b.ID="editor.controller.parameterHints",b=m([y(1,c.IInstantiationService)],b);var _=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.triggerParameterHints",label:l.localize("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:d.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t){var n=b.get(t);n&&n.trigger({triggerKind:v.SignatureHelpTriggerKind.Invoke})}}]),o}(f.EditorAction);(0,f.registerEditorContribution)(b.ID,b),(0,f.registerEditorAction)(_);var k=f.EditorCommand.bindToContribution(b.get);(0,f.registerEditorCommand)(new k({id:"closeParameterHints",precondition:g.Context.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:175,kbExpr:d.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,f.registerEditorCommand)(new k({id:"showPrevParameterHint",precondition:h.ContextKeyExpr.and(g.Context.Visible,g.Context.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:175,kbExpr:d.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,f.registerEditorCommand)(new k({id:"showNextParameterHint",precondition:h.ContextKeyExpr.and(g.Context.Visible,g.Context.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:175,kbExpr:d.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))})),o.register("01rq3",(function(n,r){e(n.exports,"ParameterHintsWidget",(function(){return N}),(function(e){return N=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("56Cfp"),u=o("aV5UR"),c=o("i3Iko"),d=o("3mtPc"),h=o("jXMBk"),f=o("4YObi"),p=o("glSIC"),g=o("4eQyS"),v=o("7iTRb"),m=o("dBqMd"),y=o("dKkCN"),b=o("6x2MV"),_=o("KDpXQ"),k=o("eZPXr"),C=o("4qRit"),x=o("gAbGW"),w=o("flPya"),S=o("9k9F9"),E=o("2lfWM"),D=o("eqXyA"),I=o("4boq2"),R=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,r){t(n,r,e)}},A=c.$,M=(0,I.registerIcon)("parameter-hints-next",S.Codicon.chevronDown,y.localize("parameterHintsNextIcon","Icon for show next parameter hint.")),T=(0,I.registerIcon)("parameter-hints-previous",S.Codicon.chevronUp,y.localize("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),N=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(e,o,a,s){var l;return t(i)(this,r),(l=n.call(this)).editor=e,l.renderDisposeables=l._register(new(0,p.DisposableStore)),l.visible=!1,l.announcedLabel=null,l.allowEditorOverflow=!0,l.markdownRenderer=l._register(new(0,v.MarkdownRenderer)({editor:e},s,a)),l.model=l._register(new(0,x.ParameterHintsModel)(e)),l.keyVisible=m.Context.Visible.bindTo(o),l.keyMultipleSignatures=m.Context.MultipleSignatures.bindTo(o),l._register(l.model.onChangedHints((function(e){e?(l.show(),l.render(e)):l.hide()}))),l}return t(a)(r,[{key:"createParameterHintDOMNodes",value:function(){var e=this,t=A(".editor-widget.parameter-hints-widget"),n=c.append(t,A(".phwrapper"));n.tabIndex=-1;var r=c.append(n,A(".controls")),i=c.append(r,A(".button"+C.ThemeIcon.asCSSSelector(T))),o=c.append(r,A(".overloads")),a=c.append(r,A(".button"+C.ThemeIcon.asCSSSelector(M)));this._register(c.addDisposableListener(i,"click",(function(t){c.EventHelper.stop(t),e.previous()}))),this._register(c.addDisposableListener(a,"click",(function(t){c.EventHelper.stop(t),e.next()})));var s=A(".body"),l=new(0,h.DomScrollableElement)(s,{});this._register(l),n.appendChild(l.getDomNode());var u=c.append(s,A(".signature")),d=c.append(s,A(".docs"));t.style.userSelect="text",this.domNodes={element:t,signature:u,overloads:o,docs:d,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((function(t){e.visible&&e.editor.layoutContentWidget(e)})));var p=function(){if(e.domNodes){var t=e.editor.getOption(41);e.domNodes.element.style.fontSize="".concat(t.fontSize,"px")}};p(),this._register(f.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(41)})).on(p,null)),this._register(this.editor.onDidLayoutChange((function(t){return e.updateMaxHeight()}))),this.updateMaxHeight()}},{key:"show",value:function(){var e=this;this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((function(){e.domNodes&&e.domNodes.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))}},{key:"hide",value:function(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}},{key:"getPosition",value:function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}},{key:"render",value:function(e){var t;if(this.renderDisposeables.clear(),this.domNodes){var n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";var r=e.signatures[e.activeSignature];if(r){var i=c.append(this.domNodes.signature,A(".code")),o=this.editor.getOption(41);i.style.fontSize="".concat(o.fontSize,"px"),i.style.fontFamily=o.fontFamily;var a=r.parameters.length>0,s=null!==(t=r.activeParameter)&&void 0!==t?t:e.activeParameter;if(a)this.renderParameters(i,r,s);else c.append(i,A("span")).textContent=r.label;var l=r.parameters[s];if(null==l?void 0:l.documentation){var u=A("span.documentation");if("string"==typeof l.documentation)u.textContent=l.documentation;else{var h=this.renderMarkdownDocs(l.documentation);u.appendChild(h.element)}c.append(this.domNodes.docs,A("p",{},u))}if(void 0===r.documentation);else if("string"==typeof r.documentation)c.append(this.domNodes.docs,A("p",{},r.documentation));else{var f=this.renderMarkdownDocs(r.documentation);c.append(this.domNodes.docs,f.element)}var p=this.hasDocs(r,l);if(this.domNodes.signature.classList.toggle("has-docs",p),this.domNodes.docs.classList.toggle("empty",!p),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,l){var g=this.getParameterLabel(r,s);this.announcedLabel!==g&&(d.alert(y.localize("hint","{0}, hint",g)),this.announcedLabel=g)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}},{key:"renderMarkdownDocs",value:function(e){var t=this,n=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:function(){var e;null===(e=t.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return n.element.classList.add("markdown-docs"),n}},{key:"hasDocs",value:function(e,t){return!!(t&&"string"==typeof t.documentation&&(0,E.assertIsDefined)(t.documentation).length>0)||(!!(t&&"object"==typeof t.documentation&&(0,E.assertIsDefined)(t.documentation).value.length>0)||(!!(e.documentation&&"string"==typeof e.documentation&&(0,E.assertIsDefined)(e.documentation).length>0)||!!(e.documentation&&"object"==typeof e.documentation&&(0,E.assertIsDefined)(e.documentation.value).length>0)))}},{key:"renderParameters",value:function(e,n,r){var i=t(l)(this.getParameterLabelOffsets(n,r),2),o=i[0],a=i[1],s=document.createElement("span");s.textContent=n.label.substring(0,o);var u=document.createElement("span");u.textContent=n.label.substring(o,a),u.className="parameter active";var d=document.createElement("span");d.textContent=n.label.substring(a),c.append(e,s,u,d)}},{key:"getParameterLabel",value:function(e,t){var n=e.parameters[t];return Array.isArray(n.label)?e.label.substring(n.label[0],n.label[1]):n.label}},{key:"getParameterLabelOffsets",value:function(e,t){var n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){var r=new RegExp("(\\W|^)".concat((0,w.escapeRegExpCharacters)(n.label),"(?=\\W|$)"),"g");r.test(e.label);var i=r.lastIndex-n.label.length;return i>=0?[i,r.lastIndex]:[0,0]}return[0,0]}return[0,0]}},{key:"next",value:function(){this.editor.focus(),this.model.next()}},{key:"previous",value:function(){this.editor.focus(),this.model.previous()}},{key:"cancel",value:function(){this.model.cancel()}},{key:"getDomNode",value:function(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}},{key:"getId",value:function(){return r.ID}},{key:"trigger",value:function(e){this.model.trigger(e,0)}},{key:"updateMaxHeight",value:function(){if(this.domNodes){var e=Math.max(this.editor.getLayoutInfo().height/4,250),t="".concat(e,"px");this.domNodes.element.style.maxHeight=t;var n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=t)}}}]),r}(p.Disposable);N.ID="editor.widget.parameterHintsWidget",N=R([L(1,b.IContextKeyService),L(2,_.IOpenerService),L(3,g.IModeService)],N),(0,C.registerThemingParticipant)((function(e,t){var n=e.getColor(k.editorHoverBorder);if(n){var r=e.type===D.ColorScheme.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .parameter-hints-widget { border: ".concat(r,"px solid ").concat(n,"; }")),t.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ".concat(n.transparent(.5),"; }")),t.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ".concat(n.transparent(.5),"; }"))}var i=e.getColor(k.editorHoverBackground);i&&t.addRule(".monaco-editor .parameter-hints-widget { background-color: ".concat(i,"; }"));var o=e.getColor(k.textLinkForeground);o&&t.addRule(".monaco-editor .parameter-hints-widget a { color: ".concat(o,"; }"));var a=e.getColor(k.editorHoverForeground);a&&t.addRule(".monaco-editor .parameter-hints-widget { color: ".concat(a,"; }"));var s=e.getColor(k.textCodeBlockBackground);s&&t.addRule(".monaco-editor .parameter-hints-widget code { background-color: ".concat(s,"; }"))}))})),o.register("dBqMd",(function(n,r){e(n.exports,"Context",(function(){return m}),(function(e){return m=e})),e(n.exports,"provideSignatureHelp",(function(){return y}),(function(e){return y=e}));var i=o("56Cfp"),a=o("4GLgu"),s=o("9yDnc"),l=o("kaKvC"),u=o("aQzpN"),c=o("6x2MV"),d=o("7C9Vb"),h=o("1Ms2U"),f=o("bErzw"),p=o("2lfWM"),g=o("gy8en"),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},m={Visible:new(0,c.RawContextKey)("parameterHintsVisible",!1),MultipleSignatures:new(0,c.RawContextKey)("parameterHintsMultipleSignatures",!1)};function y(e,n,r,i){return v(this,void 0,void 0,t(a).mark((function o(){var l,c,d,h,f,p,g,v;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=u.SignatureHelpProviderRegistry.ordered(e),c=!0,d=!1,h=void 0,t.prev=2,f=l[Symbol.iterator]();case 4:if(c=(p=f.next()).done){t.next=20;break}return g=p.value,t.prev=6,t.next=9,g.provideSignatureHelp(e,n,i,r);case 9:if(!(v=t.sent)){t.next=12;break}return t.abrupt("return",v);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),(0,s.onUnexpectedExternalError)(t.t0);case 17:c=!0,t.next=4;break;case 20:t.next=26;break;case 22:t.prev=22,t.t1=t.catch(2),d=!0,h=t.t1;case 26:t.prev=26,t.prev=27,c||null==f.return||f.return();case 29:if(t.prev=29,!d){t.next=32;break}throw h;case 32:return t.finish(29);case 33:return t.finish(26);case 34:return t.abrupt("return",void 0);case 35:case"end":return t.stop()}}),o,null,[[2,22,26,34],[6,14],[27,,29,33]])})))}h.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return v(void 0,void 0,void 0,t(a).mark((function n(){var o,s,c,h,v,m;return t(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t(i)(r,3),s=o[0],c=o[1],h=o[2],(0,p.assertType)(f.URI.isUri(s)),(0,p.assertType)(l.Position.isIPosition(c)),(0,p.assertType)("string"==typeof h||!h),n.next=6,e.get(g.ITextModelService).createModelReference(s);case 6:return v=n.sent,n.prev=7,n.next=10,y(v.object.textEditorModel,l.Position.lift(c),{triggerKind:u.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:h},d.CancellationToken.None);case 10:if(m=n.sent){n.next=13;break}return n.abrupt("return",void 0);case 13:return setTimeout((function(){return m.dispose()}),0),n.abrupt("return",m.value);case 15:return n.prev=15,v.dispose(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[7,,15,18]])})))}))})),o.register("gAbGW",(function(n,r){e(n.exports,"ParameterHintsModel",(function(){return C}),(function(e){return C=e}));var i,a=o("bETlW"),s=o("fZTNQ"),l=o("j7KTJ"),u=o("k0Xaj"),c=o("5464t"),d=o("hgtn2"),h=o("aV5UR"),f=o("4GLgu"),p=o("1xRRx"),g=o("9yDnc"),v=o("4YObi"),m=o("glSIC"),y=o("8ewkN"),b=o("aQzpN"),_=o("dBqMd"),k=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};!function(e){e.Default={type:0};e.Pending=function e(n,r){"use strict";t(s)(this,e),this.request=n,this.previouslyActiveHints=r,this.type=2};e.Active=function e(n){"use strict";t(s)(this,e),this.hints=n,this.type=1}}(i||(i={}));var C=function(e){"use strict";t(d)(r,e);var n=t(h)(r);function r(e){var o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DEFAULT_DELAY;return t(s)(this,r),(o=n.call(this))._onChangedHints=o._register(new(0,v.Emitter)),o.onChangedHints=o._onChangedHints.event,o.triggerOnType=!1,o._state=i.Default,o._pendingTriggers=[],o._lastSignatureHelpResult=o._register(new(0,m.MutableDisposable)),o.triggerChars=new(0,y.CharacterSet),o.retriggerChars=new(0,y.CharacterSet),o.triggerId=0,o.editor=e,o.throttledDelayer=new(0,p.Delayer)(l),o._register(o.editor.onDidBlurEditorWidget((function(){return o.cancel()}))),o._register(o.editor.onDidChangeConfiguration((function(){return o.onEditorConfigurationChange()}))),o._register(o.editor.onDidChangeModel((function(e){return o.onModelChanged()}))),o._register(o.editor.onDidChangeModelLanguage((function(e){return o.onModelChanged()}))),o._register(o.editor.onDidChangeCursorSelection((function(e){return o.onCursorChange(e)}))),o._register(o.editor.onDidChangeModelContent((function(e){return o.onModelContentChange()}))),o._register(b.SignatureHelpProviderRegistry.onDidChange(o.onModelChanged,t(a)(o))),o._register(o.editor.onDidType((function(e){return o.onDidType(e)}))),o.onEditorConfigurationChange(),o.onModelChanged(),o}return t(l)(r,[{key:"state",get:function(){return this._state},set:function(e){2===this._state.type&&this._state.request.cancel(),this._state=e}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state=i.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}},{key:"trigger",value:function(e,t){var n=this,r=this.editor.getModel();if(r&&b.SignatureHelpProviderRegistry.has(r)){var i=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((function(){return n.doTrigger(i)}),t).catch(g.onUnexpectedError)}}},{key:"next",value:function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e==e-1,r=this.editor.getOption(74).cycle;!(e<2||n)||r?this.updateActiveSignature(n&&r?0:t+1):this.cancel()}}},{key:"previous",value:function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=0===t,r=this.editor.getOption(74).cycle;!(e<2||n)||r?this.updateActiveSignature(n&&r?e-1:t-1):this.cancel()}}},{key:"updateActiveSignature",value:function(e){1===this.state.type&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}},{key:"doTrigger",value:function(e){return k(this,void 0,void 0,t(f).mark((function n(){var r,o,a,s,l,u,c;return t(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=1===this.state.type||2===this.state.type,o=this.getLastActiveHints(),this.cancel(!0),0!==this._pendingTriggers.length){t.next=5;break}return t.abrupt("return",!1);case 5:if(a=this._pendingTriggers.reduce(x),this._pendingTriggers=[],s={triggerKind:a.triggerKind,triggerCharacter:a.triggerCharacter,isRetrigger:r,activeSignatureHelp:o},this.editor.hasModel()){t.next=10;break}return t.abrupt("return",!1);case 10:return l=this.editor.getModel(),u=this.editor.getPosition(),this.state=new i.Pending((0,p.createCancelablePromise)((function(e){return(0,_.provideSignatureHelp)(l,u,s,e)})),o),t.prev=13,t.next=16,this.state.request;case 16:if(c=t.sent,e===this.triggerId){t.next=20;break}return null==c||c.dispose(),t.abrupt("return",!1);case 20:if(c&&c.value.signatures&&0!==c.value.signatures.length){t.next=27;break}return null==c||c.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),t.abrupt("return",!1);case 27:return this.state=new i.Active(c.value),this._lastSignatureHelpResult.value=c,this._onChangedHints.fire(this.state.hints),t.abrupt("return",!0);case 31:t.next=38;break;case 33:return t.prev=33,t.t0=t.catch(13),e===this.triggerId&&(this.state=i.Default),(0,g.onUnexpectedError)(t.t0),t.abrupt("return",!1);case 38:case"end":return t.stop()}}),n,this,[[13,33]])})))}},{key:"getLastActiveHints",value:function(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}},{key:"isTriggered",get:function(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}},{key:"onModelChanged",value:function(){this.cancel(),this.triggerChars=new(0,y.CharacterSet),this.retriggerChars=new(0,y.CharacterSet);var e=this.editor.getModel();if(e){var t=!0,n=!1,r=void 0;try{for(var i,o=b.SignatureHelpProviderRegistry.ordered(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=!0,l=!1,u=void 0;try{for(var c,d=(a.signatureHelpTriggerCharacters||[])[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;this.triggerChars.add(h.charCodeAt(0)),this.retriggerChars.add(h.charCodeAt(0))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var f=!0,p=!1,g=void 0;try{for(var v,m=(a.signatureHelpRetriggerCharacters||[])[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var _=v.value;this.retriggerChars.add(_.charCodeAt(0))}}catch(e){p=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(p)throw g}}}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}}},{key:"onDidType",value:function(e){if(this.triggerOnType){var t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:e.charAt(t)})}}},{key:"onCursorChange",value:function(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}},{key:"onModelContentChange",value:function(){this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}},{key:"onEditorConfigurationChange",value:function(){this.triggerOnType=this.editor.getOption(74).enabled,this.triggerOnType||this.cancel()}},{key:"dispose",value:function(){this.cancel(!0),t(u)(t(c)(r.prototype),"dispose",this).call(this)}}]),r}(m.Disposable);function x(e,t){switch(t.triggerKind){case b.SignatureHelpTriggerKind.Invoke:return t;case b.SignatureHelpTriggerKind.ContentChange:return e;case b.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}C.DEFAULT_DELAY=120})),o.register("bATkW",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("k0Xaj"),s=o("5464t"),l=o("hgtn2"),u=o("56Cfp"),c=o("aV5UR"),d=o("4GLgu"),h=o("dKkCN"),f=o("9yDnc"),p=o("6x2MV"),g=o("5rgie"),v=o("kT6fp"),m=o("7Zg88"),y=o("iYUnJ"),b=o("aQzpN"),_=o("kaKvC"),k=o("3mtPc"),C=o("Og1nm"),x=o("5ph9j"),w=o("jhpae"),S=o("ds0Oh"),E=o("cNfsy"),D=o("bErzw"),I=o("flIZY"),R=o("7C9Vb"),L=o("glSIC"),A=o("1xRRx"),M=o("iAca1"),T=o("e1Jmh"),N=o("jDR4s"),P=o("a15NK"),O=o("f5kv2"),F=o("2lfWM"),B=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},z=function(e,t){return function(n,r){t(n,r,e)}},W=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},H=function(){"use strict";function e(n,i){t(r)(this,e),this.model=n,this.position=i,this._providerRenameIdx=0,this._providers=b.RenameProviderRegistry.ordered(n)}return t(i)(e,[{key:"hasProvider",value:function(){return this._providers.length>0}},{key:"resolveRenameLocation",value:function(e){return W(this,void 0,void 0,t(d).mark((function n(){var r,i,o,a;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],this._providerRenameIdx=0;case 2:if(!(this._providerRenameIdx<this._providers.length)){t.next=18;break}if((i=this._providers[this._providerRenameIdx]).resolveRenameLocation){t.next=6;break}return t.abrupt("break",18);case 6:return t.next=8,i.resolveRenameLocation(this.model,this.position,e);case 8:if(o=t.sent){t.next=11;break}return t.abrupt("continue",15);case 11:if(!o.rejectReason){t.next=14;break}return r.push(o.rejectReason),t.abrupt("continue",15);case 14:return t.abrupt("return",o);case 15:this._providerRenameIdx++,t.next=2;break;case 18:if(a=this.model.getWordAtPosition(this.position)){t.next=21;break}return t.abrupt("return",{range:C.Range.fromPositions(this.position),text:"",rejectReason:r.length>0?r.join("\n"):void 0});case 21:return t.abrupt("return",{range:new(0,C.Range)(this.position.lineNumber,a.startColumn,this.position.lineNumber,a.endColumn),text:a.word,rejectReason:r.length>0?r.join("\n"):void 0});case 22:case"end":return t.stop()}}),n,this)})))}},{key:"provideRenameEdits",value:function(e,n){return W(this,void 0,void 0,t(d).mark((function r(){return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._provideRenameEdits(e,this._providerRenameIdx,[],n));case 1:case"end":return t.stop()}}),r,this)})))}},{key:"_provideRenameEdits",value:function(e,n,r,i){return W(this,void 0,void 0,t(d).mark((function o(){var a,s;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this._providers[n]){t.next=3;break}return t.abrupt("return",{edits:[],rejectReason:r.join("\n")});case 3:return t.next=5,a.provideRenameEdits(this.model,this.position,e,i);case 5:if(s=t.sent){t.next=10;break}return t.abrupt("return",this._provideRenameEdits(e,n+1,r.concat(h.localize("no result","No result.")),i));case 10:if(!s.rejectReason){t.next=12;break}return t.abrupt("return",this._provideRenameEdits(e,n+1,r.concat(s.rejectReason),i));case 12:return t.abrupt("return",s);case 13:case"end":return t.stop()}}),o,this)})))}}]),e}();function V(e,n,r){return W(this,void 0,void 0,t(d).mark((function i(){var o,a;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new H(e,n),t.next=3,o.resolveRenameLocation(R.CancellationToken.None);case 3:if(!(null==(a=t.sent)?void 0:a.rejectReason)){t.next=6;break}return t.abrupt("return",{edits:[],rejectReason:a.rejectReason});case 6:return t.abrupt("return",o.provideRenameEdits(r,R.CancellationToken.None));case 7:case"end":return t.stop()}}),i)})))}var j=function(){"use strict";function e(n,i,o,a,s,l,u){var c=this;t(r)(this,e),this.editor=n,this._instaService=i,this._notificationService=o,this._bulkEditService=a,this._progressService=s,this._logService=l,this._configService=u,this._dispoableStore=new(0,L.DisposableStore),this._cts=new(0,R.CancellationTokenSource),this._renameInputField=this._dispoableStore.add(new(0,A.IdleValue)((function(){return c._dispoableStore.add(c._instaService.createInstance(y.RenameInputField,c.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))})))}return t(i)(e,[{key:"dispose",value:function(){this._dispoableStore.dispose(),this._cts.dispose(!0)}},{key:"run",value:function(){return W(this,void 0,void 0,t(d).mark((function e(){var n,r,i,o,a,s,l,u,c,f,p;return t(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this,this._cts.dispose(!0),this.editor.hasModel()){e.next=4;break}return e.abrupt("return",void 0);case 4:if(r=this.editor.getPosition(),(i=new H(this.editor.getModel(),r)).hasProvider()){e.next=8;break}return e.abrupt("return",void 0);case 8:return this._cts=new(0,w.EditorStateCancellationTokenSource)(this.editor,5),e.prev=10,a=i.resolveRenameLocation(this._cts.token),this._progressService.showWhile(a,250),e.next=15,a;case 15:o=e.sent,e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(10),x.MessageController.get(this.editor).showMessage(e.t0||h.localize("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),r),e.abrupt("return",void 0);case 22:if(o){e.next=24;break}return e.abrupt("return",void 0);case 24:if(!o.rejectReason){e.next=27;break}return x.MessageController.get(this.editor).showMessage(o.rejectReason,r),e.abrupt("return",void 0);case 27:if(!this._cts.token.isCancellationRequested){e.next=29;break}return e.abrupt("return",void 0);case 29:return this._cts.dispose(),this._cts=new(0,w.EditorStateCancellationTokenSource)(this.editor,5,o.range),s=this.editor.getSelection(),l=0,u=o.text.length,C.Range.isEmpty(s)||C.Range.spansMultipleLines(s)||!C.Range.containsRange(o.range,s)||(l=Math.max(0,s.startColumn-o.range.startColumn),u=Math.min(o.range.endColumn,s.endColumn)-o.range.startColumn),c=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),e.next=38,this._renameInputField.value.getInput(o.range,o.text,l,u,c,this._cts.token);case 38:if("boolean"!=typeof(f=e.sent)){e.next=42;break}return f&&this.editor.focus(),e.abrupt("return",void 0);case 42:return this.editor.focus(),p=(0,A.raceCancellation)(i.provideRenameEdits(f.newName,this._cts.token),this._cts.token).then((function(e){return W(n,void 0,void 0,t(d).mark((function n(){var r;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this,e&&this.editor.hasModel()){t.next=3;break}return t.abrupt("return");case 3:if(!e.rejectReason){t.next=6;break}return this._notificationService.info(e.rejectReason),t.abrupt("return");case 6:this._bulkEditService.apply(E.ResourceEdit.convert(e),{editor:this.editor,showPreview:f.wantsPreview,label:h.localize("label","Renaming '{0}'",null==o?void 0:o.text),quotableLabel:h.localize("quotableLabel","Renaming {0}",null==o?void 0:o.text)}).then((function(e){e.ariaSummary&&(0,k.alert)(h.localize("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,f.newName,e.ariaSummary))})).catch((function(e){r._notificationService.error(h.localize("rename.failedApply","Rename failed to apply edits")),r._logService.error(e)}));case 7:case"end":return t.stop()}}),n,this)})))}),(function(e){n._notificationService.error(h.localize("rename.failed","Rename failed to compute edits")),n._logService.error(e)})),this._progressService.showWhile(p,250),e.abrupt("return",p);case 46:case"end":return e.stop()}}),e,this,[[10,18]])})))}},{key:"acceptRenameInput",value:function(e){this._renameInputField.value.acceptInput(e)}},{key:"cancelRenameInput",value:function(){this._renameInputField.value.cancelInput(!0)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();j.ID="editor.contrib.renameController",j=B([z(1,T.IInstantiationService),z(2,S.INotificationService),z(3,E.IBulkEditService),z(4,g.IEditorProgressService),z(5,M.ILogService),z(6,O.ITextResourceConfigurationService)],j);var K=function(e){"use strict";t(l)(o,e);var n=t(c)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.rename",label:h.localize("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:p.ContextKeyExpr.and(m.EditorContextKeys.writable,m.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}return t(i)(o,[{key:"runCommand",value:function(e,n){var r=this,i=e.get(I.ICodeEditorService),l=t(u)(Array.isArray(n)&&n||[void 0,void 0],2),c=l[0],d=l[1];return D.URI.isUri(c)&&_.Position.isIPosition(d)?i.openCodeEditor({resource:c},i.getActiveCodeEditor()).then((function(e){var t=r;e&&(e.setPosition(d),e.invokeWithinContext((function(n){return t.reportTelemetry(n,e),t.run(n,e)})))}),f.onUnexpectedError):t(a)(t(s)(o.prototype),"runCommand",this).call(this,e,n)}},{key:"run",value:function(e,t){var n=j.get(t);return n?n.run():Promise.resolve()}}]),o}(v.EditorAction);(0,v.registerEditorContribution)(j.ID,j),(0,v.registerEditorAction)(K);var U=v.EditorCommand.bindToContribution(j.get);(0,v.registerEditorCommand)(new U({id:"acceptRenameInput",precondition:y.CONTEXT_RENAME_INPUT_VISIBLE,handler:function(e){return e.acceptRenameInput(!1)},kbOpts:{weight:199,kbExpr:m.EditorContextKeys.focus,primary:3}})),(0,v.registerEditorCommand)(new U({id:"acceptRenameInputWithPreview",precondition:p.ContextKeyExpr.and(y.CONTEXT_RENAME_INPUT_VISIBLE,p.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:function(e){return e.acceptRenameInput(!0)},kbOpts:{weight:199,kbExpr:m.EditorContextKeys.focus,primary:1027}})),(0,v.registerEditorCommand)(new U({id:"cancelRenameInput",precondition:y.CONTEXT_RENAME_INPUT_VISIBLE,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:199,kbExpr:m.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,v.registerModelAndPositionCommand)("_executeDocumentRenameProvider",(function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=t(u)(i,1),s=a[0];return(0,F.assertType)("string"==typeof s),V(e,n,s)})),N.Registry.as(P.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:h.localize("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})})),o.register("iYUnJ",(function(n,r){e(n.exports,"CONTEXT_RENAME_INPUT_VISIBLE",(function(){return m}),(function(e){return m=e})),e(n.exports,"RenameInputField",(function(){return y}),(function(e){return y=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("glSIC"),u=o("kaKvC"),c=o("dKkCN"),d=o("6x2MV"),h=o("eZPXr"),f=o("4qRit"),p=o("hwMdw"),g=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t){return function(n,r){t(n,r,e)}},m=new(0,d.RawContextKey)("renameInputVisible",!1,(0,c.localize)("renameInputVisible","Whether the rename input widget is visible")),y=function(){"use strict";function e(n,r,o,a,s){var u=this;t(i)(this,e),this._editor=n,this._acceptKeybindings=r,this._themeService=o,this._keybindingService=a,this._disposables=new(0,l.DisposableStore),this.allowEditorOverflow=!0,this._visibleContextKey=m.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(41)&&u._updateFont()}))),this._disposables.add(o.onDidColorThemeChange(this._updateStyles,this))}return t(a)(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"__renameInputWidget"}},{key:"getDomNode",value:function(){if(!this._domNode){var e=this;this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,c.localize)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);var n=function(){var n,r,i=t(s)(e._acceptKeybindings,2),o=i[0],a=i[1];e._keybindingService.lookupKeybinding(o),e._label.innerText=(0,c.localize)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(n=e._keybindingService.lookupKeybinding(o))||void 0===n?void 0:n.getLabel(),null===(r=e._keybindingService.lookupKeybinding(a))||void 0===r?void 0:r.getLabel())};n(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(n)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}},{key:"_updateStyles",value:function(e){var t,n,r,i;if(this._input&&this._domNode){var o=e.getColor(h.widgetShadow);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(h.editorWidgetBackground))&&void 0!==t?t:""),this._domNode.style.boxShadow=o?" 0 0 8px 2px ".concat(o):"",this._domNode.style.color=String(null!==(n=e.getColor(h.inputForeground))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(r=e.getColor(h.inputBackground))&&void 0!==r?r:"");var a=e.getColor(h.inputBorder);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=null!==(i=null==a?void 0:a.toString())&&void 0!==i?i:"none"}}},{key:"_updateFont",value:function(){if(this._input&&this._label){var e=this._editor.getOption(41);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize="".concat(e.fontSize,"px"),this._label.style.fontSize="".concat(.8*e.fontSize,"px")}}},{key:"getPosition",value:function(){return this._visible?{position:this._position,preference:[2,1]}:null}},{key:"afterRender",value:function(e){e||this.cancelInput(!0)}},{key:"acceptInput",value:function(e){this._currentAcceptInput&&this._currentAcceptInput(e)}},{key:"cancelInput",value:function(e){this._currentCancelInput&&this._currentCancelInput(e)}},{key:"getInput",value:function(e,t,n,r,i,o){var a=this;this._domNode.classList.toggle("preview",i),this._position=new(0,u.Position)(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var s=new(0,l.DisposableStore);return new Promise((function(e){var n=a;a._currentCancelInput=function(t){return n._currentAcceptInput=void 0,n._currentCancelInput=void 0,e(t),!0},a._currentAcceptInput=function(r){0!==n._input.value.trim().length&&n._input.value!==t?(n._currentAcceptInput=void 0,n._currentCancelInput=void 0,e({newName:n._input.value,wantsPreview:i&&r})):n.cancelInput(!0)},o.onCancellationRequested((function(){return n.cancelInput(!0)})),s.add(a._editor.onDidBlurEditorWidget((function(){return n.cancelInput(!1)}))),a._show()})).finally((function(){s.dispose(),a._hide()}))}},{key:"_show",value:function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((function(){e._input.focus(),e._input.setSelectionRange(parseInt(e._input.getAttribute("selectionStart")),parseInt(e._input.getAttribute("selectionEnd")))}),100)}},{key:"_hide",value:function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}}]),e}();y=g([v(2,f.IThemeService),v(3,p.IKeybindingService),v(4,d.IContextKeyService)],y)})),o.register("lU3VU",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("56Cfp"),l=o("aV5UR"),u=o("4GLgu"),c=o("ddsHh"),d=o("7C9Vb"),h=o("kT6fp"),f=o("kaKvC"),p=o("Og1nm"),g=o("9cZTD"),v=o("7Zg88"),m=o("aQzpN"),y=o("dKkCN"),b=o("lvhYu"),_=o("kl941"),k=o("8pfoh"),C=o("1Ms2U"),x=o("9yDnc"),w=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},S=function(){"use strict";function e(n,i){t(r)(this,e),this.index=n,this.ranges=i}return t(i)(e,[{key:"mov",value:function(t){var n=this.index+(t?1:-1);if(n<0||n>=this.ranges.length)return this;var r=new e(n,this.ranges);return r.ranges[n].equalsRange(this.ranges[this.index])?r.mov(t):r}}]),e}(),E=function(){"use strict";function e(n){t(r)(this,e),this._editor=n,this._ignoreSelection=!1}return t(i)(e,[{key:"dispose",value:function(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}},{key:"run",value:function(e){return w(this,void 0,void 0,t(u).mark((function n(){var r,i,o,a;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this,this._editor.hasModel()){t.next=3;break}return t.abrupt("return");case 3:if(i=this._editor.getSelections(),o=this._editor.getModel(),m.SelectionRangeRegistry.has(o)){t.next=7;break}return t.abrupt("return");case 7:if(this._state){t.next=10;break}return t.next=10,L(o,i.map((function(e){return e.getPosition()})),this._editor.getOption(101),d.CancellationToken.None).then((function(e){var t,n=function(t){e[t]=e[t].filter((function(e){return e.containsPosition(i[t].getStartPosition())&&e.containsPosition(i[t].getEndPosition())})),e[t].unshift(i[t])},o=r;if(c.isNonEmptyArray(e)&&e.length===i.length&&r._editor.hasModel()&&c.equals(r._editor.getSelections(),i,(function(e,t){return e.equalsSelection(t)}))){for(var a=0;a<e.length;a++)n(a);r._state=e.map((function(e){return new S(0,e)})),null===(t=r._selectionListener)||void 0===t||t.dispose(),r._selectionListener=r._editor.onDidChangeCursorPosition((function(){var e;o._ignoreSelection||(null===(e=o._selectionListener)||void 0===e||e.dispose(),o._state=void 0)}))}}));case 10:if(this._state){t.next=12;break}return t.abrupt("return");case 12:this._state=this._state.map((function(t){return t.mov(e)})),a=this._state.map((function(e){return g.Selection.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())})),this._ignoreSelection=!0;try{this._editor.setSelections(a)}finally{this._ignoreSelection=!1}case 16:case"end":return t.stop()}}),n,this)})))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();E.ID="editor.contrib.smartSelectController";var D=function(e){"use strict";t(a)(o,e);var n=t(l)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this,i))._forward=e,a}return t(i)(o,[{key:"run",value:function(e,n){return w(this,void 0,void 0,t(u).mark((function e(){var r;return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=E.get(n))){e.next=4;break}return e.next=4,r.run(this._forward);case 4:case"end":return e.stop()}}),e,this)})))}}]),o}(h.EditorAction),I=function(e){"use strict";t(a)(i,e);var n=t(l)(i);function i(){return t(r)(this,i),n.call(this,!0,{id:"editor.action.smartSelect.expand",label:y.localize("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:b.MenuId.MenubarSelectionMenu,group:"1_basic",title:y.localize({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}return i}(D);C.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var R=function(e){"use strict";t(a)(i,e);var n=t(l)(i);function i(){return t(r)(this,i),n.call(this,!1,{id:"editor.action.smartSelect.shrink",label:y.localize("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:b.MenuId.MenubarSelectionMenu,group:"1_basic",title:y.localize({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}return i}(D);function L(e,n,r,i){return w(this,void 0,void 0,t(u).mark((function o(){var a,s,l,d,h,g,v,y,b;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(1===(a=m.SelectionRangeRegistry.all(e)).length&&a.unshift(new(0,k.BracketSelectionRangeProvider)),s=[],l=[],d=!0,h=!1,g=void 0,t.prev=5,v=a[Symbol.iterator]();!(d=(y=v.next()).done);d=!0)b=y.value,s.push(Promise.resolve(b.provideSelectionRanges(e,n,i)).then((function(e){if(c.isNonEmptyArray(e)&&e.length===n.length)for(var t=0;t<n.length;t++){l[t]||(l[t]=[]);var r=!0,i=!1,o=void 0;try{for(var a,s=e[t][Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;p.Range.isIRange(u.range)&&p.Range.containsPosition(u.range,n[t])&&l[t].push(p.Range.lift(u.range))}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}),x.onUnexpectedExternalError));t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),h=!0,g=t.t0;case 13:t.prev=13,t.prev=14,d||null==v.return||v.return();case 16:if(t.prev=16,!h){t.next=19;break}throw g;case 19:return t.finish(16);case 20:return t.finish(13);case 21:return t.next=23,Promise.all(s);case 23:return t.abrupt("return",l.map((function(t){if(0===t.length)return[];t.sort((function(e,t){return f.Position.isBefore(e.getStartPosition(),t.getStartPosition())?1:f.Position.isBefore(t.getStartPosition(),e.getStartPosition())||f.Position.isBefore(e.getEndPosition(),t.getEndPosition())?-1:f.Position.isBefore(t.getEndPosition(),e.getEndPosition())?1:0}));var n,i=[],o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;(!n||p.Range.containsRange(c,n)&&!p.Range.equalsRange(c,n))&&(i.push(c),n=c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}if(!r.selectLeadingAndTrailingWhitespace)return i;for(var d=[i[0]],h=1;h<i.length;h++){var g=i[h-1],v=i[h];if(v.startLineNumber!==g.startLineNumber||v.endLineNumber!==g.endLineNumber){var m=new(0,p.Range)(g.startLineNumber,e.getLineFirstNonWhitespaceColumn(g.startLineNumber),g.endLineNumber,e.getLineLastNonWhitespaceColumn(g.endLineNumber));m.containsRange(g)&&!m.equalsRange(g)&&v.containsRange(m)&&!v.equalsRange(m)&&d.push(m);var y=new(0,p.Range)(g.startLineNumber,1,g.endLineNumber,e.getLineMaxColumn(g.endLineNumber));y.containsRange(g)&&!y.equalsRange(m)&&v.containsRange(y)&&!v.equalsRange(y)&&d.push(y)}d.push(v)}return d})));case 24:case"end":return t.stop()}}),o,null,[[5,9,13,21],[14,,16,20]])})))}(0,h.registerEditorContribution)(E.ID,E),(0,h.registerEditorAction)(I),(0,h.registerEditorAction)(R),m.SelectionRangeRegistry.register("*",new(0,_.WordSelectionRangeProvider)),(0,h.registerModelCommand)("_executeSelectionRangeProvider",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t(s)(r,1),a=o[0];return L(e,a,{selectLeadingAndTrailingWhitespace:!0},d.CancellationToken.None)}))})),o.register("kl941",(function(n,r){e(n.exports,"WordSelectionRangeProvider",(function(){return u}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("Og1nm"),l=o("flPya"),u=function(){"use strict";function e(){t(i)(this,e)}return t(a)(e,[{key:"provideSelectionRanges",value:function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=[];n.push(u),this._addInWordRanges(u,e,l),this._addWordRanges(u,e,l),this._addWhitespaceLine(u,e,l),u.push({range:e.getFullModelRange()})}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},{key:"_addInWordRanges",value:function(e,t,n){var r=t.getWordAtPosition(n);if(r){for(var i=r.word,o=r.startColumn,a=n.column-o,u=a,c=a,d=0;u>=0;u--){var h=i.charCodeAt(u);if(u!==a&&(95===h||45===h))break;if((0,l.isLowerAsciiLetter)(h)&&(0,l.isUpperAsciiLetter)(d))break;d=h}for(u+=1;c<i.length;c++){var f=i.charCodeAt(c);if((0,l.isUpperAsciiLetter)(f)&&(0,l.isLowerAsciiLetter)(d))break;if(95===f||45===f)break;d=f}u<c&&e.push({range:new(0,s.Range)(n.lineNumber,o+u,n.lineNumber,o+c)})}}},{key:"_addWordRanges",value:function(e,t,n){var r=t.getWordAtPosition(n);r&&e.push({range:new(0,s.Range)(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn)})}},{key:"_addWhitespaceLine",value:function(e,t,n){t.getLineLength(n.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(n.lineNumber)&&e.push({range:new(0,s.Range)(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}]),e}()})),o.register("861Ao",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dKkCN"),u=o("kT6fp"),c=o("9H3ov"),d=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.forceRetokenize",label:l.localize("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}return t(i)(o,[{key:"run",value:function(e,t){if(t.hasModel()){var n=t.getModel();n.resetTokenization();var r=new(0,c.StopWatch)(!0);n.forceTokenization(n.getLineCount()),r.stop(),console.log("tokenization took ".concat(r.elapsed()))}}}]),o}(u.EditorAction);(0,u.registerEditorAction)(d)})),o.register("d4bwV",(function(n,r){e(n.exports,"ToggleTabFocusModeAction",(function(){return f}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("dKkCN"),c=o("3mtPc"),d=o("kT6fp"),h=o("3l5A9"),f=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(){return t(i)(this,r),n.call(this,{id:r.ID,label:u.localize({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}return t(a)(r,[{key:"run",value:function(e,t){var n=!h.TabFocus.getTabFocusMode();h.TabFocus.setTabFocusMode(n),n?(0,c.alert)(u.localize("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,c.alert)(u.localize("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}]),r}(d.EditorAction);f.ID="editor.action.toggleTabFocusMode",(0,d.registerEditorAction)(f)})),o.register("38Pzv",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("4GLgu"),u=o("dKkCN"),c=o("glSIC"),d=o("kT6fp"),h=o("flIZY"),f=o("jwhjs"),p=o("5Z1yh"),g=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t){return function(n,r){t(n,r,e)}},m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},y="ignoreUnusualLineTerminators";function b(e,t,n){e.setModelProperty(t.uri,y,n)}function _(e,t){return e.getModelProperty(t.uri,y)}var k=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i,a){var s;return t(r)(this,o),(s=n.call(this))._editor=e,s._dialogService=i,s._codeEditorService=a,s._config=s._editor.getOption(112),s._register(s._editor.onDidChangeConfiguration((function(e){e.hasChanged(112)&&(s._config=s._editor.getOption(112),s._checkForUnusualLineTerminators())}))),s._register(s._editor.onDidChangeModel((function(){s._checkForUnusualLineTerminators()}))),s._register(s._editor.onDidChangeModelContent((function(e){e.isUndoing||s._checkForUnusualLineTerminators()}))),s}return t(i)(o,[{key:"_checkForUnusualLineTerminators",value:function(){return m(this,void 0,void 0,t(l).mark((function e(){var n;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("off"!==this._config){e.next=2;break}return e.abrupt("return");case 2:if(this._editor.hasModel()){e.next=4;break}return e.abrupt("return");case 4:if((n=this._editor.getModel()).mightContainUnusualLineTerminators()){e.next=7;break}return e.abrupt("return");case 7:if(!0!==_(this._codeEditorService,n)){e.next=10;break}return e.abrupt("return");case 10:if(!this._editor.getOption(79)){e.next=12;break}return e.abrupt("return");case 12:if("auto"!==this._config){e.next=15;break}return n.removeUnusualLineTerminators(this._editor.getSelections()),e.abrupt("return");case 15:return e.next=17,this._dialogService.confirm({title:u.localize("unusualLineTerminators.title","Unusual Line Terminators"),message:u.localize("unusualLineTerminators.message","Detected unusual line terminators"),detail:u.localize("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,p.basename)(n.uri)),primaryButton:u.localize("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:u.localize("unusualLineTerminators.ignore","Ignore")});case 17:if(e.sent.confirmed){e.next=21;break}return b(this._codeEditorService,n,!0),e.abrupt("return");case 21:n.removeUnusualLineTerminators(this._editor.getSelections());case 22:case"end":return e.stop()}}),e,this)})))}}]),o}(c.Disposable);k.ID="editor.contrib.unusualLineTerminatorsDetector",k=g([v(1,f.IDialogService),v(2,h.ICodeEditorService)],k),(0,d.registerEditorContribution)(k.ID,k)})),o.register("ag6tF",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("1xRRx"),u=o("glSIC"),c=o("kT6fp"),d=o("aQzpN"),h=o("8nQ63"),f=o("20J8d"),p=o("4qRit"),g=o("8KoBX"),v=o("39lgU"),m=o("dfd2q"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,r){t(n,r,e)}},_=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i,a,s){var u;return t(r)(this,o),(u=n.call(this))._modelService=i,u._themeService=a,u._configurationService=s,u._editor=e,u._tokenizeViewport=new(0,l.RunOnceScheduler)((function(){return u._tokenizeViewportNow()}),100),u._outstandingRequests=[],u._register(u._editor.onDidScrollChange((function(){u._tokenizeViewport.schedule()}))),u._register(u._editor.onDidChangeModel((function(){u._cancelAll(),u._tokenizeViewport.schedule()}))),u._register(u._editor.onDidChangeModelContent((function(e){u._cancelAll(),u._tokenizeViewport.schedule()}))),u._register(d.DocumentRangeSemanticTokensProviderRegistry.onDidChange((function(){u._cancelAll(),u._tokenizeViewport.schedule()}))),u._register(u._configurationService.onDidChangeConfiguration((function(e){e.affectsConfiguration(v.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(u._cancelAll(),u._tokenizeViewport.schedule())}))),u._register(u._themeService.onDidColorThemeChange((function(){u._cancelAll(),u._tokenizeViewport.schedule()}))),u}return t(i)(o,[{key:"_cancelAll",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._outstandingRequests[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.cancel()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this._outstandingRequests=[]}},{key:"_removeOutstandingRequest",value:function(e){for(var t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}},{key:"_tokenizeViewportNow",value:function(){var e=this;if(this._editor.hasModel()){var t=this._editor.getModel();if(!t.hasCompleteSemanticTokens())if((0,v.isSemanticColoringEnabled)(t,this._themeService,this._configurationService)){var n=(0,m.getDocumentRangeSemanticTokensProvider)(t);if(n){var r=this._modelService.getSemanticTokensProviderStyling(n),i=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(i.map((function(i){return e._requestRange(t,i,n,r)})))}else t.hasSomeSemanticTokens()&&t.setSemanticTokens(null,!1)}else t.hasSomeSemanticTokens()&&t.setSemanticTokens(null,!1)}}},{key:"_requestRange",value:function(e,t,n,r){var i=this,o=e.getVersionId(),a=(0,l.createCancelablePromise)((function(r){return Promise.resolve(n.provideDocumentRangeSemanticTokens(e,t,r))}));return a.then((function(n){n&&!e.isDisposed()&&e.getVersionId()===o&&e.setPartialSemanticTokens(t,(0,f.toMultilineTokens2)(n,r,e.getLanguageIdentifier()))})).then((function(){return i._removeOutstandingRequest(a)}),(function(){return i._removeOutstandingRequest(a)})),a}}]),o}(u.Disposable);_.ID="editor.contrib.viewportSemanticTokens",_=y([b(1,h.IModelService),b(2,p.IThemeService),b(3,g.IConfigurationService)],_),(0,c.registerEditorContribution)(_.ID,_)})),o.register("a374p",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("k0Xaj"),s=o("5464t"),l=o("hgtn2"),u=o("aV5UR"),c=o("dKkCN"),d=o("ddsHh"),h=o("1xRRx"),f=o("7C9Vb"),p=o("9yDnc"),g=o("glSIC"),v=o("kT6fp"),m=o("Og1nm"),y=o("7Zg88"),b=o("caczl"),_=o("3bY1c"),k=o("aQzpN"),C=o("6x2MV"),x=o("eZPXr"),w=o("4qRit"),S=o("3mtPc"),E=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},D=function(e,t){return function(n,r){t(n,r,e)}},I=(0,x.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},c.localize("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),R=(0,x.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},c.localize("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),L=(0,x.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:x.activeContrastBorder},c.localize("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),A=(0,x.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:x.activeContrastBorder},c.localize("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),M=(0,x.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},c.localize("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),T=(0,x.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},c.localize("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),N=new(0,C.RawContextKey)("hasWordHighlights",!1);function P(e,t,n){var r=k.DocumentHighlightProviderRegistry.ordered(e);return(0,h.first)(r.map((function(r){return function(){return Promise.resolve(r.provideDocumentHighlights(e,t,n)).then(void 0,p.onUnexpectedExternalError)}})),d.isNonEmptyArray)}var O=function(){"use strict";function e(n,i,o){var a=this;t(r)(this,e),this._wordRange=this._getCurrentWordRange(n,i),this.result=(0,h.createCancelablePromise)((function(e){return a._compute(n,i,o,e)}))}return t(i)(e,[{key:"_getCurrentWordRange",value:function(e,t){var n=e.getWordAtPosition(t.getPosition());return n?new(0,m.Range)(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}},{key:"isValid",value:function(e,t,n){for(var r=t.startLineNumber,i=t.startColumn,o=t.endColumn,a=this._getCurrentWordRange(e,t),s=Boolean(this._wordRange&&this._wordRange.equalsRange(a)),l=0,u=n.length;!s&&l<u;l++){var c=e.getDecorationRange(n[l]);c&&c.startLineNumber===r&&c.startColumn<=i&&c.endColumn>=o&&(s=!0)}return s}},{key:"cancel",value:function(){this.result.cancel()}}]),e}(),F=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.apply(this,arguments)}return t(i)(o,[{key:"_compute",value:function(e,t,n,r){return P(e,t.getPosition(),r).then((function(e){return e||[]}))}}]),o}(O),B=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(e,i,a){var s;return t(r)(this,o),(s=n.call(this,e,i,a))._selectionIsEmpty=i.isEmpty(),s}return t(i)(o,[{key:"_compute",value:function(e,t,n,r){return(0,h.timeout)(250,r).then((function(){if(!t.isEmpty())return[];var r=e.getWordAtPosition(t.getPosition());return!r||r.word.length>1e3?[]:e.findMatches(r.word,!0,!1,!0,n,!1).map((function(e){return{range:e.range,kind:k.DocumentHighlightKind.Text}}))}))}},{key:"isValid",value:function(e,n,r){var i=n.isEmpty();return this._selectionIsEmpty===i&&t(a)(t(s)(o.prototype),"isValid",this).call(this,e,n,r)}}]),o}(O);(0,v.registerModelAndPositionCommand)("_executeDocumentHighlights",(function(e,t){return P(e,t,f.CancellationToken.None)}));var z=function(){"use strict";function e(n,i){var o=this;t(r)(this,e),this.toUnhook=new(0,g.DisposableStore),this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=n,this._hasWordHighlights=N.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(70),this.model=this.editor.getModel(),this.toUnhook.add(n.onDidChangeCursorPosition((function(e){o._ignorePositionChangeEvent||o.occurrencesHighlight&&o._onPositionChanged(e)}))),this.toUnhook.add(n.onDidChangeModelContent((function(e){o._stopAll()}))),this.toUnhook.add(n.onDidChangeConfiguration((function(e){var t=o.editor.getOption(70);o.occurrencesHighlight!==t&&(o.occurrencesHighlight=t,o._stopAll())}))),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return t(i)(e,[{key:"hasDecorations",value:function(){return this._decorationIds.length>0}},{key:"restore",value:function(){this.occurrencesHighlight&&this._run()}},{key:"_getSortedHighlights",value:function(){var e=this;return d.coalesce(this._decorationIds.map((function(t){return e.model.getDecorationRange(t)})).sort(m.Range.compareRangesUsingStarts))}},{key:"moveNext",value:function(){var e=this,t=this._getSortedHighlights(),n=(t.findIndex((function(t){return t.containsPosition(e.editor.getPosition())}))+1)%t.length,r=t[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);var i=this._getWord();if(i){var o=this.editor.getModel().getLineContent(r.startLineNumber);(0,S.alert)("".concat(o,", ").concat(n+1," of ").concat(t.length," for '").concat(i.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}},{key:"moveBack",value:function(){var e=this,t=this._getSortedHighlights(),n=(t.findIndex((function(t){return t.containsPosition(e.editor.getPosition())}))-1+t.length)%t.length,r=t[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);var i=this._getWord();if(i){var o=this.editor.getModel().getLineContent(r.startLineNumber);(0,S.alert)("".concat(o,", ").concat(n+1," of ").concat(t.length," for '").concat(i.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}},{key:"_removeDecorations",value:function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}},{key:"_stopAll",value:function(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}},{key:"_onPositionChanged",value:function(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}},{key:"_getWord",value:function(){var e=this.editor.getSelection(),t=e.startLineNumber,n=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:n})}},{key:"_run",value:function(){var e=this.editor.getSelection();if(e.startLineNumber===e.endLineNumber){var t=e.startColumn,n=e.endColumn,r=this._getWord();if(!r||r.startColumn>t||r.endColumn<n)this._stopAll();else{var i,o,a,s=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{var l=this;this._stopAll();var u=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(i=this.model,o=this.editor.getSelection(),a=this.editor.getOption(115),k.DocumentHighlightProviderRegistry.has(i)?new F(i,o,a):new B(i,o,a)),this.workerRequest.result.then((function(e){u===l.workerRequestTokenId&&(l.workerRequestCompleted=!0,l.workerRequestValue=e||[],l._beginRenderDecorations())}),p.onUnexpectedError)}}}else this._stopAll()}},{key:"_beginRenderDecorations",value:function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((function(){e.renderDecorations()}),n-t)}},{key:"renderDecorations",value:function(){this.renderDecorationsTimer=-1;var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=this.workerRequestValue[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.range&&t.push({range:s.range,options:e._getDecorationOptions(s.kind)})}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,t),this._hasWordHighlights.set(this.hasDecorations())}},{key:"dispose",value:function(){this._stopAll(),this.toUnhook.dispose()}}],[{key:"_getDecorationOptions",value:function(e){return e===k.DocumentHighlightKind.Write?this._WRITE_OPTIONS:e===k.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}}]),e}();z._WRITE_OPTIONS=_.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,w.themeColorFromId)(T),position:b.OverviewRulerLane.Center}}),z._TEXT_OPTIONS=_.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,w.themeColorFromId)(x.overviewRulerSelectionHighlightForeground),position:b.OverviewRulerLane.Center}}),z._REGULAR_OPTIONS=_.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,w.themeColorFromId)(M),position:b.OverviewRulerLane.Center}});var W=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(e,i){var a;t(r)(this,o),(a=n.call(this)).wordHighlighter=null;var s=function(){e.hasModel()&&(a.wordHighlighter=new z(e,i))};return a._register(e.onDidChangeModel((function(e){a.wordHighlighter&&(a.wordHighlighter.dispose(),a.wordHighlighter=null),s()}))),s(),a}return t(i)(o,[{key:"saveViewState",value:function(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}},{key:"moveNext",value:function(){this.wordHighlighter&&this.wordHighlighter.moveNext()}},{key:"moveBack",value:function(){this.wordHighlighter&&this.wordHighlighter.moveBack()}},{key:"restoreViewState",value:function(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}},{key:"dispose",value:function(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),t(a)(t(s)(o.prototype),"dispose",this).call(this)}}],[{key:"get",value:function(e){return e.getContribution(o.ID)}}]),o}(g.Disposable);W.ID="editor.contrib.wordHighlighter",W=E([D(1,C.IContextKeyService)],W);var H=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(e,i){var a;return t(r)(this,o),(a=n.call(this,i))._isNext=e,a}return t(i)(o,[{key:"run",value:function(e,t){var n=W.get(t);n&&(this._isNext?n.moveNext():n.moveBack())}}]),o}(v.EditorAction),V=function(e){"use strict";t(l)(i,e);var n=t(u)(i);function i(){return t(r)(this,i),n.call(this,!0,{id:"editor.action.wordHighlight.next",label:c.localize("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:N,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}return i}(H),j=function(e){"use strict";t(l)(i,e);var n=t(u)(i);function i(){return t(r)(this,i),n.call(this,!1,{id:"editor.action.wordHighlight.prev",label:c.localize("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:N,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}return i}(H),K=function(e){"use strict";t(l)(o,e);var n=t(u)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.wordHighlight.trigger",label:c.localize("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:N.toNegated(),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}return t(i)(o,[{key:"run",value:function(e,t,n){var r=W.get(t);r&&r.restoreViewState(!0)}}]),o}(v.EditorAction);(0,v.registerEditorContribution)(W.ID,W),(0,v.registerEditorAction)(V),(0,v.registerEditorAction)(j),(0,v.registerEditorAction)(K),(0,w.registerThemingParticipant)((function(e,t){var n=e.getColor(x.editorSelectionHighlight);n&&(t.addRule(".monaco-editor .focused .selectionHighlight { background-color: ".concat(n,"; }")),t.addRule(".monaco-editor .selectionHighlight { background-color: ".concat(n.transparent(.5),"; }")));var r=e.getColor(I);r&&t.addRule(".monaco-editor .wordHighlight { background-color: ".concat(r,"; }"));var i=e.getColor(R);i&&t.addRule(".monaco-editor .wordHighlightStrong { background-color: ".concat(i,"; }"));var o=e.getColor(x.editorSelectionHighlightBorder);o&&t.addRule(".monaco-editor .selectionHighlight { border: 1px ".concat("hc"===e.type?"dotted":"solid"," ").concat(o,"; box-sizing: border-box; }"));var a=e.getColor(L);a&&t.addRule(".monaco-editor .wordHighlight { border: 1px ".concat("hc"===e.type?"dashed":"solid"," ").concat(a,"; box-sizing: border-box; }"));var s=e.getColor(A);s&&t.addRule(".monaco-editor .wordHighlightStrong { border: 1px ".concat("hc"===e.type?"dashed":"solid"," ").concat(s,"; box-sizing: border-box; }"))}))})),o.register("bxAcV",(function(n,r){e(n.exports,"MoveWordCommand",(function(){return E})),e(n.exports,"DeleteWordCommand",(function(){return U}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("aV5UR"),d=o("dKkCN"),h=o("kT6fp"),f=o("iwJuG"),p=o("4AdlH"),g=o("2oYim"),v=o("egOQr"),m=o("kaKvC"),y=o("Og1nm"),b=o("9cZTD"),_=o("7Zg88"),k=o("eo8iS"),C=o("6x2MV"),x=o("jh0RV"),w=o("95goo"),S=o("1Ok71"),E=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e){var o;return t(i)(this,r),(o=n.call(this,e))._inSelectionMode=e.inSelectionMode,o._wordNavigationType=e.wordNavigationType,o}return t(a)(r,[{key:"runEditorCommand",value:function(e,t,n){var r=this;if(t.hasModel()){var i=(0,v.getMapForWordSeparators)(t.getOption(115)),o=t.getModel(),a=t.getSelections().map((function(e){var t=new(0,m.Position)(e.positionLineNumber,e.positionColumn),n=r._move(i,o,t,r._wordNavigationType);return r._moveTo(e,n,r._inSelectionMode)}));if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map((function(e){return p.CursorState.fromModelSelection(e)}))),1===a.length){var s=new(0,m.Position)(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(s,0)}}}},{key:"_moveTo",value:function(e,t,n){return n?new(0,b.Selection)(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new(0,b.Selection)(t.lineNumber,t.column,t.lineNumber,t.column)}}]),r}(h.EditorCommand),D=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"_move",value:function(e,t,n,r){return g.WordOperations.moveWordLeft(e,t,n,r)}}]),r}(E),I=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"_move",value:function(e,t,n,r){return g.WordOperations.moveWordRight(e,t,n,r)}}]),r}(E),R=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}return r}(D),L=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}return r}(D),A=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){var e;return t(i)(this,r),n.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:C.ContextKeyExpr.and(_.EditorContextKeys.textInputFocus,null===(e=C.ContextKeyExpr.and(k.CONTEXT_ACCESSIBILITY_MODE_ENABLED,S.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}return r}(D),M=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}return r}(D),T=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}return r}(D),N=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){var e;return t(i)(this,r),n.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:C.ContextKeyExpr.and(_.EditorContextKeys.textInputFocus,null===(e=C.ContextKeyExpr.and(k.CONTEXT_ACCESSIBILITY_MODE_ENABLED,S.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}return r}(D),P=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}return t(a)(r,[{key:"_move",value:function(e,n,i,o){return t(s)(t(l)(r.prototype),"_move",this).call(this,(0,v.getMapForWordSeparators)(x.EditorOptions.wordSeparators.defaultValue),n,i,o)}}]),r}(D),O=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}return t(a)(r,[{key:"_move",value:function(e,n,i,o){return t(s)(t(l)(r.prototype),"_move",this).call(this,(0,v.getMapForWordSeparators)(x.EditorOptions.wordSeparators.defaultValue),n,i,o)}}]),r}(D),F=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}return r}(I),B=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){var e;return t(i)(this,r),n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:C.ContextKeyExpr.and(_.EditorContextKeys.textInputFocus,null===(e=C.ContextKeyExpr.and(k.CONTEXT_ACCESSIBILITY_MODE_ENABLED,S.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}return r}(I),z=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}return r}(I),W=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}return r}(I),H=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){var e;return t(i)(this,r),n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:C.ContextKeyExpr.and(_.EditorContextKeys.textInputFocus,null===(e=C.ContextKeyExpr.and(k.CONTEXT_ACCESSIBILITY_MODE_ENABLED,S.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}return r}(I),V=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}return r}(I),j=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}return t(a)(r,[{key:"_move",value:function(e,n,i,o){return t(s)(t(l)(r.prototype),"_move",this).call(this,(0,v.getMapForWordSeparators)(x.EditorOptions.wordSeparators.defaultValue),n,i,o)}}]),r}(I),K=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}return t(a)(r,[{key:"_move",value:function(e,n,i,o){return t(s)(t(l)(r.prototype),"_move",this).call(this,(0,v.getMapForWordSeparators)(x.EditorOptions.wordSeparators.defaultValue),n,i,o)}}]),r}(I),U=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e){var o;return t(i)(this,r),(o=n.call(this,e))._whitespaceHeuristics=e.whitespaceHeuristics,o._wordNavigationType=e.wordNavigationType,o}return t(a)(r,[{key:"runEditorCommand",value:function(e,t,n){var r=this;if(t.hasModel()){var i=(0,v.getMapForWordSeparators)(t.getOption(115)),o=t.getModel(),a=t.getSelections(),s=t.getOption(5),l=t.getOption(8),u=w.LanguageConfigurationRegistry.getAutoClosingPairs(o.getLanguageIdentifier().id),c=t._getViewModel(),d=a.map((function(e){var n=r._delete({wordSeparators:i,model:o,selection:e,whitespaceHeuristics:r._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:s,autoClosingQuotes:l,autoClosingPairs:u,autoClosedCharacters:c.getCursorAutoClosedCharacters()},r._wordNavigationType);return new(0,f.ReplaceCommand)(n,"")}));t.pushUndoStop(),t.executeCommands(this.id,d),t.pushUndoStop()}}}]),r}(h.EditorCommand),q=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"_delete",value:function(e,t){var n=g.WordOperations.deleteWordLeft(e,t);return n||new(0,y.Range)(1,1,1,1)}}]),r}(U),Z=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.apply(this,arguments)}return t(a)(r,[{key:"_delete",value:function(e,t){var n=g.WordOperations.deleteWordRight(e,t);if(n)return n;var r=e.model.getLineCount(),i=e.model.getLineMaxColumn(r);return new(0,y.Range)(r,i,r,i)}}]),r}(U),G=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:_.EditorContextKeys.writable})}return r}(q),Q=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:_.EditorContextKeys.writable})}return r}(q),J=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}return r}(q),Y=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:_.EditorContextKeys.writable})}return r}(Z),X=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:_.EditorContextKeys.writable})}return r}(Z),$=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}return r}(Z),ee=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{id:"deleteInsideWord",precondition:_.EditorContextKeys.writable,label:d.localize("deleteInsideWord","Delete Word"),alias:"Delete Word"})}return t(a)(r,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=(0,v.getMapForWordSeparators)(t.getOption(115)),i=t.getModel(),o=t.getSelections().map((function(e){var t=g.WordOperations.deleteInsideWord(r,i,e);return new(0,f.ReplaceCommand)(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}}]),r}(h.EditorAction);(0,h.registerEditorCommand)(new R),(0,h.registerEditorCommand)(new L),(0,h.registerEditorCommand)(new A),(0,h.registerEditorCommand)(new M),(0,h.registerEditorCommand)(new T),(0,h.registerEditorCommand)(new N),(0,h.registerEditorCommand)(new F),(0,h.registerEditorCommand)(new B),(0,h.registerEditorCommand)(new z),(0,h.registerEditorCommand)(new W),(0,h.registerEditorCommand)(new H),(0,h.registerEditorCommand)(new V),(0,h.registerEditorCommand)(new P),(0,h.registerEditorCommand)(new O),(0,h.registerEditorCommand)(new j),(0,h.registerEditorCommand)(new K),(0,h.registerEditorCommand)(new G),(0,h.registerEditorCommand)(new Q),(0,h.registerEditorCommand)(new J),(0,h.registerEditorCommand)(new Y),(0,h.registerEditorCommand)(new X),(0,h.registerEditorCommand)(new $),(0,h.registerEditorAction)(ee)})),o.register("505pN",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("kT6fp"),u=o("2oYim"),c=o("Og1nm"),d=o("7Zg88"),h=o("bxAcV"),f=o("1Ms2U"),p=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:d.EditorContextKeys.writable,kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}return t(i)(o,[{key:"_delete",value:function(e,t){var n=u.WordPartOperations.deleteWordPartLeft(e);return n||new(0,c.Range)(1,1,1,1)}}]),o}(h.DeleteWordCommand),g=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:d.EditorContextKeys.writable,kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}return t(i)(o,[{key:"_delete",value:function(e,t){var n=u.WordPartOperations.deleteWordPartRight(e);if(n)return n;var r=e.model.getLineCount(),i=e.model.getLineMaxColumn(r);return new(0,c.Range)(r,i,r,i)}}]),o}(h.DeleteWordCommand),v=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.apply(this,arguments)}return t(i)(o,[{key:"_move",value:function(e,t,n,r){return u.WordPartOperations.moveWordPartLeft(e,t,n)}}]),o}(h.MoveWordCommand),m=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}return i}(v);f.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var y=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}return i}(v);f.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var b=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.apply(this,arguments)}return t(i)(o,[{key:"_move",value:function(e,t,n,r){return u.WordPartOperations.moveWordPartRight(e,t,n)}}]),o}(h.MoveWordCommand),_=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}return i}(b),k=function(e){"use strict";t(a)(i,e);var n=t(s)(i);function i(){return t(r)(this,i),n.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}return i}(b);(0,l.registerEditorCommand)(new p),(0,l.registerEditorCommand)(new g),(0,l.registerEditorCommand)(new m),(0,l.registerEditorCommand)(new y),(0,l.registerEditorCommand)(new _),(0,l.registerEditorCommand)(new k)})),o.register("hFVut",(function(e,n){var r=o("bETlW"),i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("aV5UR"),d=o("i3Iko"),h=o("lgqgj"),f=o("3vPVc"),p=o("3mtPc"),g=o("2lK1h"),v=o("glSIC"),m=o("4YgGD"),y=o("flPya"),b=o("bErzw"),_=o("kT6fp"),k=o("7Zg88"),C=o("d4bwV"),x=o("6x2MV"),w=o("e1Jmh"),S=o("hwMdw"),E=o("KDpXQ"),D=o("eZPXr"),I=o("4qRit"),R=o("jEpCt"),L=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t){return function(n,r){t(n,r,e)}},M=new(0,x.RawContextKey)("accessibilityHelpWidgetVisible",!1),T=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,o){var a;return t(i)(this,r),(a=n.call(this))._editor=e,a._widget=a._register(o.createInstance(N,a._editor)),a}return t(a)(r,[{key:"show",value:function(){this._widget.show()}},{key:"hide",value:function(){this._widget.hide()}}],[{key:"get",value:function(e){return e.getContribution(r.ID)}}]),r}(v.Disposable);T.ID="editor.contrib.accessibilityHelpController",T=L([A(1,w.IInstantiationService)],T);var N=function(e){"use strict";t(u)(o,e);var n=t(c)(o);function o(e,a,s,l){var u;return t(i)(this,o),(u=n.call(this))._contextKeyService=a,u._keybindingService=s,u._openerService=l,u._editor=e,u._isVisibleKey=M.bindTo(u._contextKeyService),u._domNode=(0,h.createFastDomNode)(document.createElement("div")),u._domNode.setClassName("accessibilityHelpWidget"),u._domNode.setDisplay("none"),u._domNode.setAttribute("role","dialog"),u._domNode.setAttribute("aria-hidden","true"),u._contentDomNode=(0,h.createFastDomNode)(document.createElement("div")),u._contentDomNode.setAttribute("role","document"),u._domNode.appendChild(u._contentDomNode),u._isVisible=!1,u._register(u._editor.onDidLayoutChange((function(){u._isVisible&&u._layout()}))),u._register(d.addStandardDisposableListener(u._contentDomNode.domNode,"keydown",(function(e){if(u._isVisible&&(e.equals(2083)&&((0,p.alert)(R.AccessibilityHelpNLS.emergencyConfOn),u._editor.updateOptions({accessibilitySupport:"on"}),d.clearNode(u._contentDomNode.domNode),u._buildContent(),u._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){(0,p.alert)(R.AccessibilityHelpNLS.openingDocs);var t=u._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),u._openerService.open(b.URI.parse(t)),e.preventDefault(),e.stopPropagation()}}))),u.onblur(u._contentDomNode.domNode,(function(){u.hide()})),u._editor.addOverlayWidget(t(r)(u)),u}return t(a)(o,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),t(s)(t(l)(o.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return o.ID}},{key:"getDomNode",value:function(){return this._domNode.domNode}},{key:"getPosition",value:function(){return{preference:null}}},{key:"show",value:function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}},{key:"_descriptionForCommand",value:function(e,t,n){var r=this._keybindingService.lookupKeybinding(e);return r?y.format(t,r.getAriaLabel()):y.format(n,e)}},{key:"_buildContent",value:function(){var e=this._editor.getOptions(),t=this._editor.getSelections(),n=0;if(t){var r=this._editor.getModel();r&&t.forEach((function(e){n+=r.getValueLengthInRange(e)}))}var i=function(e,t){return e&&0!==e.length?1===e.length?t?y.format(R.AccessibilityHelpNLS.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):y.format(R.AccessibilityHelpNLS.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?y.format(R.AccessibilityHelpNLS.multiSelectionRange,e.length,t):e.length>0?y.format(R.AccessibilityHelpNLS.multiSelection,e.length):"":R.AccessibilityHelpNLS.noSelection}(t,n);e.get(52)?e.get(79)?i+=R.AccessibilityHelpNLS.readonlyDiffEditor:i+=R.AccessibilityHelpNLS.editableDiffEditor:e.get(79)?i+=R.AccessibilityHelpNLS.readonlyEditor:i+=R.AccessibilityHelpNLS.editableEditor;var o=m.isMacintosh?R.AccessibilityHelpNLS.changeConfigToOnMac:R.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(e.get(2)){case 0:i+="\n\n - "+o;break;case 2:i+="\n\n - "+R.AccessibilityHelpNLS.auto_on;break;case 1:i+="\n\n - "+R.AccessibilityHelpNLS.auto_off,i+=" "+o}e.get(128)?i+="\n\n - "+this._descriptionForCommand(C.ToggleTabFocusModeAction.ID,R.AccessibilityHelpNLS.tabFocusModeOnMsg,R.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):i+="\n\n - "+this._descriptionForCommand(C.ToggleTabFocusModeAction.ID,R.AccessibilityHelpNLS.tabFocusModeOffMsg,R.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb),i+="\n\n - "+(m.isMacintosh?R.AccessibilityHelpNLS.openDocMac:R.AccessibilityHelpNLS.openDocWinLinux),i+="\n\n"+R.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,f.renderFormattedText)(i)),this._contentDomNode.domNode.setAttribute("aria-label",i)}},{key:"hide",value:function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,d.clearNode(this._contentDomNode.domNode),this._editor.focus())}},{key:"_layout",value:function(){var e=this._editor.getLayoutInfo(),t=Math.max(5,Math.min(o.WIDTH,e.width-40)),n=Math.max(5,Math.min(o.HEIGHT,e.height-40));this._domNode.setWidth(t),this._domNode.setHeight(n);var r=Math.round((e.height-n)/2);this._domNode.setTop(r);var i=Math.round((e.width-t)/2);this._domNode.setLeft(i)}}]),o}(g.Widget);N.ID="editor.contrib.accessibilityHelpWidget",N.WIDTH=500,N.HEIGHT=300,N=L([A(1,x.IContextKeyService),A(2,S.IKeybindingService),A(3,E.IOpenerService)],N);var P=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{id:"editor.action.showAccessibilityHelp",label:R.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}return t(a)(r,[{key:"run",value:function(e,t){var n=T.get(t);n&&n.show()}}]),r}(_.EditorAction);(0,_.registerEditorContribution)(T.ID,T),(0,_.registerEditorAction)(P);var O=_.EditorCommand.bindToContribution(T.get);(0,_.registerEditorCommand)(new O({id:"closeAccessibilityHelp",precondition:M,handler:function(e){return e.hide()},kbOpts:{weight:200,kbExpr:k.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,I.registerThemingParticipant)((function(e,t){var n=e.getColor(D.editorWidgetBackground);n&&t.addRule(".monaco-editor .accessibilityHelpWidget { background-color: ".concat(n,"; }"));var r=e.getColor(D.editorWidgetForeground);r&&t.addRule(".monaco-editor .accessibilityHelpWidget { color: ".concat(r,"; }"));var i=e.getColor(D.widgetShadow);i&&t.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ".concat(i,"; }"));var o=e.getColor(D.contrastBorder);o&&t.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid ".concat(o,"; }"))}))})),o.register("8Gjn6",(function(e,n){var r=o("bETlW"),i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("aV5UR"),d=o("i3Iko"),h=o("glSIC"),f=o("kT6fp"),p=o("4YgGD"),g=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e){var o;return t(i)(this,r),(o=n.call(this)).editor=e,o.widget=null,p.isIOS&&(o._register(e.onDidChangeConfiguration((function(){return o.update()}))),o.update()),o}return t(a)(r,[{key:"update",value:function(){var e=!this.editor.getOption(79);!this.widget&&e?this.widget=new v(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}},{key:"dispose",value:function(){t(s)(t(l)(r.prototype),"dispose",this).call(this),this.widget&&(this.widget.dispose(),this.widget=null)}}]),r}(h.Disposable);g.ID="editor.contrib.iPadShowKeyboard";var v=function(e){"use strict";t(u)(o,e);var n=t(c)(o);function o(e){var a;return t(i)(this,o),(a=n.call(this)).editor=e,a._domNode=document.createElement("textarea"),a._domNode.className="iPadShowKeyboard",a._register(d.addDisposableListener(a._domNode,"touchstart",(function(e){a.editor.focus()}))),a._register(d.addDisposableListener(a._domNode,"focus",(function(e){a.editor.focus()}))),a.editor.addOverlayWidget(t(r)(a)),a}return t(a)(o,[{key:"dispose",value:function(){this.editor.removeOverlayWidget(this),t(s)(t(l)(o.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return o.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{preference:1}}}]),o}(h.Disposable);v.ID="editor.contrib.ShowKeyboardWidget",(0,f.registerEditorContribution)(g.ID,g)})),o.register("aFCUL",(function(e,n){var r=o("bETlW"),i=o("fZTNQ"),a=o("j7KTJ"),s=o("k0Xaj"),l=o("5464t"),u=o("hgtn2"),c=o("aV5UR"),d=o("i3Iko"),h=o("3bv5f"),f=o("glSIC"),p=o("kT6fp"),g=o("aQzpN"),v=o("ff9Kj"),m=o("4eQyS"),y=o("4B8CJ"),b=o("eZPXr"),_=o("4qRit"),k=o("jEpCt"),C=o("eqXyA"),x=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},w=function(e,t){return function(n,r){t(n,r,e)}},S=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(e,o,a){var s;return t(i)(this,r),(s=n.call(this))._editor=e,s._modeService=a,s._widget=null,s._register(s._editor.onDidChangeModel((function(e){return s.stop()}))),s._register(s._editor.onDidChangeModelLanguage((function(e){return s.stop()}))),s._register(g.TokenizationRegistry.onDidChange((function(e){return s.stop()}))),s._register(s._editor.onKeyUp((function(e){return 9===e.keyCode&&s.stop()}))),s}return t(a)(r,[{key:"dispose",value:function(){this.stop(),t(s)(t(l)(r.prototype),"dispose",this).call(this)}},{key:"launch",value:function(){this._widget||this._editor.hasModel()&&(this._widget=new D(this._editor,this._modeService))}},{key:"stop",value:function(){this._widget&&(this._widget.dispose(),this._widget=null)}}],[{key:"get",value:function(e){return e.getContribution(r.ID)}}]),r}(f.Disposable);S.ID="editor.contrib.inspectTokens",S=x([w(1,y.IStandaloneThemeService),w(2,m.IModeService)],S);var E=function(e){"use strict";t(u)(r,e);var n=t(c)(r);function r(){return t(i)(this,r),n.call(this,{id:"editor.action.inspectTokens",label:k.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}return t(a)(r,[{key:"run",value:function(e,t){var n=S.get(t);n&&n.launch()}}]),r}(p.EditorAction);var D=function(e){"use strict";t(u)(o,e);var n=t(c)(o);function o(e,a){var s,l;return t(i)(this,o),(s=n.call(this)).allowEditorOverflow=!0,s._editor=e,s._modeService=a,s._model=s._editor.getModel(),s._domNode=document.createElement("div"),s._domNode.className="tokens-inspect-widget",s._tokenizationSupport=(l=s._model.getLanguageIdentifier(),g.TokenizationRegistry.get(l.language)||{getInitialState:function(){return v.NULL_STATE},tokenize:function(e,t,n,r){return(0,v.nullTokenize)(l.language,e,n,r)},tokenize2:function(e,t,n,r){return(0,v.nullTokenize2)(l.id,e,n,r)}}),s._compute(s._editor.getPosition()),s._register(s._editor.onDidChangeCursorPosition((function(e){return s._compute(s._editor.getPosition())}))),s._editor.addContentWidget(t(r)(s)),s}return t(a)(o,[{key:"dispose",value:function(){this._editor.removeContentWidget(this),t(s)(t(l)(o.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return o._ID}},{key:"_compute",value:function(e){for(var t=this._getTokensAtLine(e.lineNumber),n=0,r=t.tokens1.length-1;r>=0;r--){var i=t.tokens1[r];if(e.column-1>=i.offset){n=r;break}}for(var o=0,a=t.tokens2.length>>>1;a>=0;a--)if(e.column-1>=t.tokens2[a<<1]){o=a;break}var s=this._model.getLineContent(e.lineNumber),l="";if(n<t.tokens1.length){var u=t.tokens1[n].offset,c=n+1<t.tokens1.length?t.tokens1[n+1].offset:s.length;l=s.substring(u,c)}(0,d.reset)(this._domNode,(0,d.$)("h2.tm-token",void 0,function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);switch(i){case 9:t+="→";break;case 32:t+="·";break;default:t+=String.fromCharCode(i)}}return t}(l),(0,d.$)("span.tm-token-length",void 0,"".concat(l.length," ").concat(1===l.length?"char":"chars")))),(0,d.append)(this._domNode,(0,d.$)("hr.tokens-inspect-separator",{style:"clear:both"}));var f=1+(o<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(o<<1)]):null;(0,d.append)(this._domNode,(0,d.$)("table.tm-metadata-table",void 0,(0,d.$)("tbody",void 0,(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"language"),(0,d.$)("td.tm-metadata-value",void 0,"".concat(f?f.languageIdentifier.language:"-?-"))),(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"token type"),(0,d.$)("td.tm-metadata-value",void 0,"".concat(f?this._tokenTypeToString(f.tokenType):"-?-"))),(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"font style"),(0,d.$)("td.tm-metadata-value",void 0,"".concat(f?this._fontStyleToString(f.fontStyle):"-?-"))),(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"foreground"),(0,d.$)("td.tm-metadata-value",void 0,"".concat(f?h.Color.Format.CSS.formatHex(f.foreground):"-?-"))),(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"background"),(0,d.$)("td.tm-metadata-value",void 0,"".concat(f?h.Color.Format.CSS.formatHex(f.background):"-?-")))))),(0,d.append)(this._domNode,(0,d.$)("hr.tokens-inspect-separator")),n<t.tokens1.length&&(0,d.append)(this._domNode,(0,d.$)("span.tm-token-type",void 0,t.tokens1[n].type)),this._editor.layoutContentWidget(this)}},{key:"_decodeMetadata",value:function(e){var t=g.TokenizationRegistry.getColorMap(),n=g.TokenMetadata.getLanguageId(e),r=g.TokenMetadata.getTokenType(e),i=g.TokenMetadata.getFontStyle(e),o=g.TokenMetadata.getForeground(e),a=g.TokenMetadata.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(n),tokenType:r,fontStyle:i,foreground:t[o],background:t[a]}}},{key:"_tokenTypeToString",value:function(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}},{key:"_fontStyleToString",value:function(e){var t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t}},{key:"_getTokensAtLine",value:function(e){var t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t,0),r=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),!0,t,0);return{startState:t,tokens1:n.tokens,tokens2:r.tokens,endState:n.endState}}},{key:"_getStateBeforeLine",value:function(e){for(var t=this._tokenizationSupport.getInitialState(),n=1;n<e;n++){t=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,t,0).endState}return t}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{position:this._editor.getPosition(),preference:[2,1]}}}]),o}(f.Disposable);D._ID="editor.contrib.inspectTokensWidget",(0,p.registerEditorContribution)(S.ID,S),(0,p.registerEditorAction)(E),(0,_.registerThemingParticipant)((function(e,t){var n=e.getColor(b.editorHoverBorder);if(n){var r=e.type===C.ColorScheme.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .tokens-inspect-widget { border: ".concat(r,"px solid ").concat(n,"; }")),t.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ".concat(n,"; }"))}var i=e.getColor(b.editorHoverBackground);i&&t.addRule(".monaco-editor .tokens-inspect-widget { background-color: ".concat(i,"; }"));var o=e.getColor(b.editorHoverForeground);o&&t.addRule(".monaco-editor .tokens-inspect-widget { color: ".concat(o,"; }"))}))})),o.register("i0yJg",(function(e,t){var n=o("jDR4s"),r=o("ifHEL"),i=o("jEpCt"),a=o("egwjU");n.Registry.as(r.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:i.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})})),o.register("egwjU",(function(n,r){e(n.exports,"HelpQuickAccessProvider",(function(){return v}),(function(e){return v=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("hFMTy"),u=o("kghYv"),c=o("ifHEL"),d=o("jDR4s"),h=o("dKkCN"),f=o("glSIC"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t){return function(n,r){t(n,r,e)}},v=function(){"use strict";function e(n){t(i)(this,e),this.quickInputService=n,this.registry=d.Registry.as(c.Extensions.Quickaccess)}return t(a)(e,[{key:"provide",value:function(n){var r=this,i=new(0,f.DisposableStore);i.add(n.onDidAccept((function(){var e=t(s)(n.selectedItems,1)[0];e&&r.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),i.add(n.onDidChangeValue((function(t){var n=r.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));n&&n.prefix&&n.prefix!==e.PREFIX&&r.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})));var o=this.getQuickAccessProviders(),a=o.editorProviders,u=o.globalProviders;return n.items=0===a.length||0===u.length?t(l)(0===a.length?u:a):[{label:(0,h.localize)("globalCommands","global commands"),type:"separator"}].concat(t(l)(u),[{label:(0,h.localize)("editorCommands","editor commands"),type:"separator"}],t(l)(a)),i}},{key:"getQuickAccessProviders",value:function(){var t=[],n=[],r=!0,i=!1,o=void 0;try{for(var a,s=this.registry.getQuickAccessProviders().sort((function(e,t){return e.prefix.localeCompare(t.prefix)}))[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l.prefix!==e.PREFIX){var u=!0,c=!1,d=void 0;try{for(var f,p=l.helpEntries[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var g=f.value,v=g.prefix||l.prefix,m=v||"…";(g.needsEditor?n:t).push({prefix:v,label:m,ariaLabel:(0,h.localize)("helpPickAriaLabel","{0}, {1}",m,g.description),description:g.description})}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return{editorProviders:n,globalProviders:t}}}]),e}();v.PREFIX="?",v=p([g(0,u.IQuickInputService)],v)})),o.register("gpcRj",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("dWnuT"),u=o("jDR4s"),c=o("ifHEL"),d=o("flIZY"),h=o("2lfWM"),f=o("jEpCt"),p=o("4YObi"),g=o("kT6fp"),v=o("7Zg88"),m=o("kghYv"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,r){t(n,r,e)}},_=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e){var i;return t(r)(this,o),(i=n.call(this)).editorService=e,i.onDidActiveTextEditorControlChange=p.Event.None,i}return t(i)(o,[{key:"activeTextEditorControl",get:function(){return(0,h.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}}]),o}(l.AbstractGotoLineQuickAccessProvider);_=y([b(0,d.ICodeEditorService)],_),u.Registry.as(c.Extensions.Quickaccess).registerQuickAccessProvider({ctor:_,prefix:_.PREFIX,helpEntries:[{description:f.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});var k=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.gotoLine",label:f.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}return t(i)(o,[{key:"run",value:function(e){e.get(m.IQuickInputService).quickAccess.show(_.PREFIX)}}]),o}(g.EditorAction);(0,g.registerEditorAction)(k)})),o.register("dWnuT",(function(n,r){e(n.exports,"AbstractGotoLineQuickAccessProvider",(function(){return p}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("56Cfp"),u=o("aV5UR"),c=o("dKkCN"),d=o("glSIC"),h=o("jYTdK"),f=o("gEzVq"),p=function(e){"use strict";t(s)(r,e);var n=t(u)(r);function r(){return t(i)(this,r),n.call(this,{canAcceptInBackground:!0})}return t(a)(r,[{key:"provideWithoutTextEditor",value:function(e){var t=(0,c.localize)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,d.Disposable.None}},{key:"provideWithTextEditor",value:function(e,n,i){var o=this,a=e.editor,s=new(0,d.DisposableStore);s.add(n.onDidAccept((function(r){var i=t(l)(n.selectedItems,1)[0];if(i){if(!o.isValidLineNumber(a,i.lineNumber))return;o.gotoLocation(e,{range:o.toRange(i.lineNumber,i.column),keyMods:n.keyMods,preserveFocus:r.inBackground}),r.inBackground||n.hide()}})));var u=function(){var e=o.parsePosition(a,n.value.trim().substr(r.PREFIX.length)),t=o.getPickLabel(a,e.lineNumber,e.column);if(n.items=[{lineNumber:e.lineNumber,column:e.column,label:t}],n.ariaLabel=t,o.isValidLineNumber(a,e.lineNumber)){var i=o.toRange(e.lineNumber,e.column);a.revealRangeInCenter(i,0),o.addDecorations(a,i)}else o.clearDecorations(a)};u(),s.add(n.onDidChangeValue((function(){return u()})));var c=(0,f.getCodeEditor)(a);c&&(2===c.getOptions().get(58).renderType&&(c.updateOptions({lineNumbers:"on"}),s.add((0,d.toDisposable)((function(){return c.updateOptions({lineNumbers:"relative"})})))));return s}},{key:"toRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}},{key:"parsePosition",value:function(e,t){var n=t.split(/,|:|#/).map((function(e){return parseInt(e,10)})).filter((function(e){return!isNaN(e)})),r=this.lineCount(e)+1;return{lineNumber:n[0]>0?n[0]:r+n[0],column:n[1]}}},{key:"getPickLabel",value:function(e,t,n){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,n)?(0,c.localize)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,n):(0,c.localize)("gotoLineLabel","Go to line {0}.",t);var r=e.getPosition()||{lineNumber:1,column:1},i=this.lineCount(e);return i>1?(0,c.localize)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,i):(0,c.localize)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)}},{key:"isValidLineNumber",value:function(e,t){return!(!t||"number"!=typeof t)&&(t>0&&t<=this.lineCount(e))}},{key:"isValidColumn",value:function(e,t,n){if(!n||"number"!=typeof n)return!1;var r=this.getModel(e);if(!r)return!1;var i={lineNumber:t,column:n};return r.validatePosition(i).equals(i)}},{key:"lineCount",value:function(e){var t,n;return null!==(n=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==n?n:0}}]),r}(h.AbstractEditorNavigationQuickAccessProvider);p.PREFIX=":"})),o.register("jYTdK",(function(n,r){e(n.exports,"AbstractEditorNavigationQuickAccessProvider",(function(){return g}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("56Cfp"),l=o("caczl"),u=o("4qRit"),c=o("kxsLz"),d=o("glSIC"),h=o("gEzVq"),f=o("2lfWM"),p=o("cHQVD"),g=function(){"use strict";function e(n){t(i)(this,e),this.options=n,this.rangeHighlightDecorationId=void 0}return t(a)(e,[{key:"provide",value:function(e,t){var n,r=this,i=new(0,d.DisposableStore);e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;var o=i.add(new(0,d.MutableDisposable));return o.value=this.doProvide(e,t),i.add(this.onDidActiveTextEditorControlChange((function(){o.value=void 0,o.value=r.doProvide(e,t)}))),i}},{key:"doProvide",value:function(e,t){var n=new(0,d.DisposableStore),r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){var i=this,o={editor:r},a=(0,h.getCodeEditor)(r);if(a){var s=this,l=(0,f.withNullAsUndefined)(r.saveViewState());n.add(a.onDidChangeCursorPosition((function(){l=(0,f.withNullAsUndefined)(r.saveViewState())}))),o.restoreViewState=function(){l&&r===s.activeTextEditorControl&&r.restoreViewState(l)},n.add((0,p.once)(t.onCancellationRequested)((function(){var e;return null===(e=o.restoreViewState)||void 0===e?void 0:e.call(o)})))}n.add((0,d.toDisposable)((function(){return i.clearDecorations(r)}))),n.add(this.provideWithTextEditor(o,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}},{key:"canProvideWithTextEditor",value:function(e){return!0}},{key:"gotoLocation",value:function(e,t){var n=e.editor;n.setSelection(t.range),n.revealRangeInCenter(t.range,0),t.preserveFocus||n.focus()}},{key:"getModel",value:function(e){var t;return(0,h.isDiffEditor)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}},{key:"addDecorations",value:function(e,n){var r=this;e.changeDecorations((function(e){var i=[];r.rangeHighlightDecorationId&&(i.push(r.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(r.rangeHighlightDecorationId.rangeHighlightId),r.rangeHighlightDecorationId=void 0);var o=[{range:n,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,u.themeColorFromId)(c.overviewRulerRangeHighlight),position:l.OverviewRulerLane.Full}}}],a=t(s)(e.deltaDecorations(i,o),2),d=a[0],h=a[1];r.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:h}}))}},{key:"clearDecorations",value:function(e){var t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((function(e){e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}]),e}()})),o.register("bm8m7",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR");o("7bfxu"),o("9x6AH");var l=o("3uX7b"),u=o("jDR4s"),c=o("ifHEL"),d=o("flIZY"),h=o("2lfWM"),f=o("jEpCt"),p=o("4YObi"),g=o("kT6fp"),v=o("7Zg88"),m=o("kghYv"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,r){t(n,r,e)}},_=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e){var i;return t(r)(this,o),(i=n.call(this)).editorService=e,i.onDidActiveTextEditorControlChange=p.Event.None,i}return t(i)(o,[{key:"activeTextEditorControl",get:function(){return(0,h.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}}]),o}(l.AbstractGotoSymbolQuickAccessProvider);_=y([b(0,d.ICodeEditorService)],_),u.Registry.as(c.Extensions.Quickaccess).registerQuickAccessProvider({ctor:_,prefix:l.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:f.QuickOutlineNLS.quickOutlineActionLabel,prefix:l.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:f.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:l.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});var k=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.quickOutline",label:f.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:v.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}return t(i)(o,[{key:"run",value:function(e){e.get(m.IQuickInputService).quickAccess.show(l.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}]),o}(g.EditorAction);(0,g.registerEditorAction)(k)})),o.register("3uX7b",(function(n,r){e(n.exports,"AbstractGotoSymbolQuickAccessProvider",(function(){return w}),(function(e){return w=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("5T0Qd"),l=o("hgtn2"),u=o("56Cfp"),c=o("hFMTy"),d=o("aV5UR"),h=o("4GLgu"),f=o("dKkCN"),p=o("7C9Vb"),g=o("glSIC"),v=o("Og1nm"),m=o("jYTdK"),y=o("aQzpN"),b=o("lMyN4"),_=o("flPya"),k=o("9fSTC"),C=o("9k9F9"),x=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},w=function(e){"use strict";t(l)(r,e);var n=t(d)(r);function r(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.create(null);return t(i)(this,r),(e=n.call(this,o)).options=o,e.options.canAcceptInBackground=!0,e}return t(a)(r,[{key:"provideWithoutTextEditor",value:function(e){return this.provideLabelPick(e,(0,f.localize)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),g.Disposable.None}},{key:"provideWithTextEditor",value:function(e,t,n){var r=e.editor,i=this.getModel(r);return i?y.DocumentSymbolProviderRegistry.has(i)?this.doProvideWithEditorSymbols(e,i,t,n):this.doProvideWithoutEditorSymbols(e,i,t,n):g.Disposable.None}},{key:"doProvideWithoutEditorSymbols",value:function(e,n,r,i){var o=this,a=new(0,g.DisposableStore);return this.provideLabelPick(r,(0,f.localize)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),x(o,void 0,void 0,t(h).mark((function o(){return t(h).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLanguageSymbolRegistry(n,a);case 2:if(t.sent&&!i.isCancellationRequested){t.next=5;break}return t.abrupt("return");case 5:a.add(this.doProvideWithEditorSymbols(e,n,r,i));case 6:case"end":return t.stop()}}),o,this)}))),a}},{key:"provideLabelPick",value:function(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}},{key:"waitForLanguageSymbolRegistry",value:function(e,n){return x(this,void 0,void 0,t(h).mark((function r(){var i,o,a;return t(h).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y.DocumentSymbolProviderRegistry.has(e)){t.next=2;break}return t.abrupt("return",!0);case 2:return o=new Promise((function(e){return i=e})),a=n.add(y.DocumentSymbolProviderRegistry.onDidChange((function(){y.DocumentSymbolProviderRegistry.has(e)&&(a.dispose(),i(!0))}))),n.add((0,g.toDisposable)((function(){return i(!1)}))),t.abrupt("return",o);case 7:case"end":return t.stop()}}),r)})))}},{key:"doProvideWithEditorSymbols",value:function(e,n,i,o){var a=this,s=e.editor,l=new(0,g.DisposableStore);l.add(i.onDidAccept((function(n){var r=t(u)(i.selectedItems,1)[0];r&&r.range&&(a.gotoLocation(e,{range:r.range.selection,keyMods:i.keyMods,preserveFocus:n.inBackground}),n.inBackground||i.hide())}))),l.add(i.onDidTriggerItemButton((function(t){var n=t.item;n&&n.range&&(a.gotoLocation(e,{range:n.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())})));var c=this.getDocumentSymbols(n,o),d=void 0,v=function(){return x(a,void 0,void 0,t(h).mark((function e(){var n,a;return t(h).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==d||d.dispose(!0),i.busy=!1,d=new(0,p.CancellationTokenSource)(o),i.busy=!0,e.prev=4,n=(0,k.prepareQuery)(i.value.substr(r.PREFIX.length).trim()),e.next=8,this.doGetSymbolPicks(c,n,void 0,d.token);case 8:if(a=e.sent,!o.isCancellationRequested){e.next=11;break}return e.abrupt("return");case 11:a.length>0?i.items=a:n.original.length>0?this.provideLabelPick(i,(0,f.localize)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,(0,f.localize)("noSymbolResults","No editor symbols"));case 12:return e.prev=12,o.isCancellationRequested||(i.busy=!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[4,,12,15]])})))};l.add(i.onDidChangeValue((function(){return v()}))),v();var m=!0;return l.add(i.onDidChangeActive((function(){var e=t(u)(i.activeItems,1)[0];if(e&&e.range){if(m)return void(m=!1);s.revealRangeInCenter(e.range.selection,0),a.addDecorations(s,e.range.decoration)}}))),l}},{key:"doGetSymbolPicks",value:function(e,n,i,o){return x(this,void 0,void 0,t(h).mark((function a(){var s,l,d,p,g,m,b,x,w,S,I,R,L,A,M,T,N,P,O,F,B,z,W,H,V,j,K,U,q,Z,G,Q,J,Y,X;return t(h).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return q=function(){K&&"number"==typeof j&&U>0&&(K.label=(0,_.format)(D[j]||E,U))},s=this,a.next=4,e;case 4:if(l=a.sent,!o.isCancellationRequested){a.next=7;break}return a.abrupt("return",[]);case 7:d=0===n.original.indexOf(r.SCOPE_PREFIX),p=d?1:0,n.values&&n.values.length>1?(g=(0,k.pieceToQuery)(n.values[0]),m=(0,k.pieceToQuery)(n.values.slice(1))):g=n,b=[],x=0;case 14:if(!(x<l.length)){a.next=45;break}if(w=this,S=l[x],I=(0,_.trim)(S.name),R="$(symbol-".concat(y.SymbolKinds.toString(S.kind)||"property",") ").concat(I),L=R.length-I.length,A=S.containerName,(null==i?void 0:i.extraContainerLabel)&&(A=A?"".concat(i.extraContainerLabel," • ").concat(A):i.extraContainerLabel),M=void 0,T=void 0,N=void 0,P=void 0,!(n.original.length>p)){a.next=40;break}if(O=!1,g!==n&&(F=t(u)((0,k.scoreFuzzy2)(R,Object.assign(Object.assign({},n),{values:void 0}),p,L),2),M=F[0],T=F[1],"number"==typeof M&&(O=!0)),"number"==typeof M){a.next=34;break}if(B=t(u)((0,k.scoreFuzzy2)(R,g,p,L),2),M=B[0],T=B[1],"number"==typeof M){a.next=34;break}return a.abrupt("continue",42);case 34:if(O||!m){a.next=40;break}if(A&&m.original.length>0&&(z=t(u)((0,k.scoreFuzzy2)(A,m),2),N=z[0],P=z[1]),"number"==typeof N){a.next=39;break}return a.abrupt("continue",42);case 39:"number"==typeof M&&(M+=N);case 40:W=S.tags&&S.tags.indexOf(1)>=0,b.push({index:x,kind:S.kind,score:M,label:R,ariaLabel:I,description:A,highlights:W?void 0:{label:T,description:P},range:{selection:v.Range.collapseToStart(S.selectionRange),decoration:S.range},strikethrough:W,buttons:function(){var e,t,n=(null===(e=w.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=w.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(n)return[{iconClass:"right"===n?C.Codicon.splitHorizontal.classNames:C.Codicon.splitVertical.classNames,tooltip:"right"===n?(0,f.localize)("openToSide","Open to the Side"):(0,f.localize)("openToBottom","Open to the Bottom")}]}()});case 42:x++,a.next=14;break;case 45:if(H=b.sort((function(e,t){return d?s.compareByKindAndScore(e,t):s.compareByScore(e,t)})),V=[],!d){a.next=72;break}for(j=void 0,K=void 0,U=0,Z=!0,G=!1,Q=void 0,a.prev=53,J=H[Symbol.iterator]();!(Z=(Y=J.next()).done);Z=!0)X=Y.value,j!==X.kind?(q(),j=X.kind,U=1,K={type:"separator"},V.push(K)):U++,V.push(X);a.next=61;break;case 57:a.prev=57,a.t0=a.catch(53),G=!0,Q=a.t0;case 61:a.prev=61,a.prev=62,Z||null==J.return||J.return();case 64:if(a.prev=64,!G){a.next=67;break}throw Q;case 67:return a.finish(64);case 68:return a.finish(61);case 69:q(),a.next=73;break;case 72:H.length>0&&(V=[{label:(0,f.localize)("symbols","symbols ({0})",b.length),type:"separator"}].concat(t(c)(H)));case 73:return a.abrupt("return",V);case 74:case"end":return a.stop()}}),a,this,[[53,57,61,69],[62,,64,68]])})))}},{key:"compareByScore",value:function(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}},{key:"compareByKindAndScore",value:function(e,t){var n=D[e.kind]||E,r=D[t.kind]||E,i=n.localeCompare(r);return 0===i?this.compareByScore(e,t):i}},{key:"getDocumentSymbols",value:function(e,n){return x(this,void 0,void 0,t(h).mark((function r(){var i;return t(h).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.OutlineModel.create(e,n);case 2:return i=t.sent,t.abrupt("return",n.isCancellationRequested?[]:i.asListOfDocumentSymbols());case 4:case"end":return t.stop()}}),r)})))}}]),r}(m.AbstractEditorNavigationQuickAccessProvider);w.PREFIX="@",w.SCOPE_PREFIX=":",w.PREFIX_BY_CATEGORY="".concat(w.PREFIX).concat(w.SCOPE_PREFIX);var S,E=(0,f.localize)("property","properties ({0})"),D=(S={},t(s)(S,5,(0,f.localize)("method","methods ({0})")),t(s)(S,11,(0,f.localize)("function","functions ({0})")),t(s)(S,8,(0,f.localize)("_constructor","constructors ({0})")),t(s)(S,12,(0,f.localize)("variable","variables ({0})")),t(s)(S,4,(0,f.localize)("class","classes ({0})")),t(s)(S,22,(0,f.localize)("struct","structs ({0})")),t(s)(S,23,(0,f.localize)("event","events ({0})")),t(s)(S,24,(0,f.localize)("operator","operators ({0})")),t(s)(S,10,(0,f.localize)("interface","interfaces ({0})")),t(s)(S,2,(0,f.localize)("namespace","namespaces ({0})")),t(s)(S,3,(0,f.localize)("package","packages ({0})")),t(s)(S,25,(0,f.localize)("typeParameter","type parameters ({0})")),t(s)(S,1,(0,f.localize)("modules","modules ({0})")),t(s)(S,6,(0,f.localize)("property","properties ({0})")),t(s)(S,9,(0,f.localize)("enum","enumerations ({0})")),t(s)(S,21,(0,f.localize)("enumMember","enumeration members ({0})")),t(s)(S,14,(0,f.localize)("string","strings ({0})")),t(s)(S,0,(0,f.localize)("file","files ({0})")),t(s)(S,17,(0,f.localize)("array","arrays ({0})")),t(s)(S,15,(0,f.localize)("number","numbers ({0})")),t(s)(S,16,(0,f.localize)("boolean","booleans ({0})")),t(s)(S,18,(0,f.localize)("object","objects ({0})")),t(s)(S,19,(0,f.localize)("key","keys ({0})")),t(s)(S,7,(0,f.localize)("field","fields ({0})")),t(s)(S,13,(0,f.localize)("constant","constants ({0})")),S)})),o.register("9fSTC",(function(n,r){e(n.exports,"scoreFuzzy2",(function(){return h})),e(n.exports,"prepareQuery",(function(){return m})),e(n.exports,"pieceToQuery",(function(){return b}));var i=o("56Cfp"),a=o("hFMTy"),s=o("hBaq0"),l=o("4fiaR"),u=o("4YgGD"),c=o("flPya"),d=[void 0,[]];function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t;return i.values&&i.values.length>1?f(e,i.values,n,r):p(e,t,n,r)}function f(e,n,r,o){var s=0,l=[],u=!0,c=!1,h=void 0;try{for(var f,v=n[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var m,y=f.value,b=t(i)(p(e,y,r,o),2),_=b[0],k=b[1];if("number"!=typeof _)return d;s+=_,(m=l).push.apply(m,t(a)(k))}}catch(e){c=!0,h=e}finally{try{u||null==v.return||v.return()}finally{if(c)throw h}}return[s,g(l)]}function p(e,t,n,r){var i=(0,s.fuzzyScore)(t.original,t.originalLowercase,n,e,e.toLowerCase(),r,!0);return i?[i[0],(0,s.createMatches)(i)]:d}function g(e){var t=e.sort((function(e,t){return e.start-t.start})),n=[],r=void 0,i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r&&v(r,u)?(r.start=Math.min(r.start,u.start),r.end=Math.max(r.end,u.end)):(r=u,n.push(u))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return n}function v(e,t){return!(e.end<t.start)&&!(t.end<e.start)}function m(e){"string"!=typeof e&&(e="");var t=e.toLowerCase(),n=y(e),r=n.pathNormalized,i=n.normalized,o=n.normalizedLowercase,a=r.indexOf(l.sep)>=0,s=void 0,u=e.split(" "),c=!0,d=!1,h=void 0;if(u.length>1)try{for(var f,p=u[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var g=f.value,v=y(g),m=v.pathNormalized,b=v.normalized,_=v.normalizedLowercase;b&&(s||(s=[]),s.push({original:g,originalLowercase:g.toLowerCase(),pathNormalized:m,normalized:b,normalizedLowercase:_}))}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}return{original:e,originalLowercase:t,pathNormalized:r,normalized:i,normalizedLowercase:o,values:s,containsPathSeparator:a}}function y(e){var t;t=u.isWindows?e.replace(/\//g,l.sep):e.replace(/\\/g,l.sep);var n=(0,c.stripWildcards)(t).replace(/\s/g,"");return{pathNormalized:t,normalized:n,normalizedLowercase:n.toLowerCase()}}function b(e){return Array.isArray(e)?m(e.map((function(e){return e.original})).join(" ")):m(e.original)}})),o.register("ajSEa",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("4GLgu"),u=o("jDR4s"),c=o("ifHEL"),d=o("jEpCt"),h=o("flIZY"),f=o("ifiMb"),p=o("2lfWM"),g=o("e1Jmh"),v=o("hwMdw"),m=o("1Ms2U"),y=o("9nCXB"),b=o("jwhjs"),_=o("kT6fp"),k=o("7Zg88"),C=o("kghYv"),x=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},w=function(e,t){return function(n,r){t(n,r,e)}},S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},E=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(e,i,a,s,l,u){var c;return t(r)(this,o),(c=n.call(this,{showAlias:!1},e,a,s,l,u)).codeEditorService=i,c}return t(i)(o,[{key:"activeTextEditorControl",get:function(){return(0,p.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}},{key:"getCommandPicks",value:function(){return S(this,void 0,void 0,t(l).mark((function e(){return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getCodeEditorCommandPicks());case 1:case"end":return e.stop()}}),e,this)})))}}]),o}(f.AbstractEditorCommandsQuickAccessProvider);E=x([w(0,g.IInstantiationService),w(1,h.ICodeEditorService),w(2,v.IKeybindingService),w(3,m.ICommandService),w(4,y.ITelemetryService),w(5,b.IDialogService)],E),u.Registry.as(c.Extensions.Quickaccess).registerQuickAccessProvider({ctor:E,prefix:E.PREFIX,helpEntries:[{description:d.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});var D=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){return t(r)(this,o),n.call(this,{id:"editor.action.quickCommand",label:d.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:k.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}return t(i)(o,[{key:"run",value:function(e){e.get(C.IQuickInputService).quickAccess.show(E.PREFIX)}}]),o}(_.EditorAction);(0,_.registerEditorAction)(D)})),o.register("ifiMb",(function(n,r){e(n.exports,"AbstractEditorCommandsQuickAccessProvider",(function(){return d}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("b8WRR"),c=o("jozAz"),d=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o,a,s,l,u){return t(i)(this,r),n.call(this,e,o,a,s,l,u)}return t(a)(r,[{key:"getCodeEditorCommandPicks",value:function(){var e=this.activeTextEditorControl;if(!e)return[];var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.getSupportedActions()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push({commandId:s.id,commandAlias:s.alias,label:(0,c.stripIcons)(s.label)||s.id})}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}}]),r}(u.AbstractCommandsQuickAccessProvider)})),o.register("b8WRR",(function(n,r){e(n.exports,"AbstractCommandsQuickAccessProvider",(function(){return R}),(function(e){return R=e}));var i=o("fZTNQ"),a=o("j7KTJ"),s=o("hgtn2"),l=o("aV5UR"),u=o("4GLgu"),c=o("dKkCN"),d=o("6MNul"),h=o("glSIC"),f=o("hBaq0"),p=o("2lfWM"),g=o("7K1Ci"),v=o("91bq0"),m=o("8KoBX"),y=o("e1Jmh"),b=o("hwMdw"),_=o("1Ms2U"),k=o("9nCXB"),C=o("9yDnc"),x=o("jwhjs"),w=o("cylkC"),S=o("3WRuP"),E=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},D=function(e,t){return function(n,r){t(n,r,e)}},I=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},R=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o,a,s,l,u){var c;return t(i)(this,r),(c=n.call(this,r.PREFIX,e)).instantiationService=o,c.keybindingService=a,c.commandService=s,c.telemetryService=l,c.dialogService=u,c.commandsHistory=c._register(c.instantiationService.createInstance(L)),c.options=e,c}return t(a)(r,[{key:"_getPicks",value:function(e,n,i){return I(this,void 0,void 0,t(u).mark((function o(){var a,s,l,d,h,f,g,v,m,y,b,_,k,x,E,D,R,L,A,M,T,N,P,O,F,B;return t(u).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=this,o.next=3,this.getCommandPicks(n,i);case 3:if(s=o.sent,!i.isCancellationRequested){o.next=6;break}return o.abrupt("return",[]);case 6:for(l=[],d=!0,h=!1,f=void 0,o.prev=8,g=s[Symbol.iterator]();!(d=(v=g.next()).done);d=!0)m=v.value,y=(0,p.withNullAsUndefined)(r.WORD_FILTER(e,m.label)),b=m.commandAlias?(0,p.withNullAsUndefined)(r.WORD_FILTER(e,m.commandAlias)):void 0,y||b?(m.highlights={label:y,detail:this.options.showAlias?b:void 0},l.push(m)):e===m.commandId&&l.push(m);o.next=16;break;case 12:o.prev=12,o.t0=o.catch(8),h=!0,f=o.t0;case 16:o.prev=16,o.prev=17,d||null==g.return||g.return();case 19:if(o.prev=19,!h){o.next=22;break}throw f;case 22:return o.finish(19);case 23:return o.finish(16);case 24:for(_=new Map,k=!0,x=!1,E=void 0,o.prev=26,D=l[Symbol.iterator]();!(k=(R=D.next()).done);k=!0)L=R.value,(A=_.get(L.label))?(L.description=L.commandId,A.description=A.commandId):_.set(L.label,L);o.next=34;break;case 30:o.prev=30,o.t1=o.catch(26),x=!0,E=o.t1;case 34:o.prev=34,o.prev=35,k||null==D.return||D.return();case 37:if(o.prev=37,!x){o.next=40;break}throw E;case 40:return o.finish(37);case 41:return o.finish(34);case 42:for(l.sort((function(e,t){var n=a.commandsHistory.peek(e.commandId),r=a.commandsHistory.peek(t.commandId);return n&&r?n>r?-1:1:n?-1:r?1:e.label.localeCompare(t.label)})),M=[],T=!1,N=0;N<l.length;N++)P=this,O=l[N],F=this.keybindingService.lookupKeybinding(O.commandId),B=F?(0,c.localize)("commandPickAriaLabelWithKeybinding","{0}, {1}",O.label,F.getAriaLabel()):O.label,0===N&&this.commandsHistory.peek(O.commandId)&&(M.push({type:"separator",label:(0,c.localize)("recentlyUsed","recently used")}),T=!0),0!==N&&T&&!this.commandsHistory.peek(O.commandId)&&(M.push({type:"separator",label:(0,c.localize)("morecCommands","other commands")}),T=!1),M.push(Object.assign(Object.assign({},O),{ariaLabel:B,detail:this.options.showAlias&&O.commandAlias!==O.label?O.commandAlias:void 0,keybinding:F,accept:function(){return I(P,void 0,void 0,t(u).mark((function e(){return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.commandsHistory.push(O.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:O.commandId,from:"quick open"}),e.prev=2,e.next=5,this.commandService.executeCommand(O.commandId);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),(0,C.isPromiseCanceledError)(e.t0)||this.dialogService.show(w.default.Error,(0,c.localize)("canNotRun","Command '{0}' resulted in an error ({1})",O.label,(0,S.toErrorMessage)(e.t0)));case 10:case"end":return e.stop()}}),e,this,[[2,7]])})))}}));return o.abrupt("return",M);case 47:case"end":return o.stop()}}),o,this,[[8,12,16,24],[17,,19,23],[26,30,34,42],[35,,37,41]])})))}}]),r}(d.PickerQuickAccessProvider);R.PREFIX=">",R.WORD_FILTER=(0,f.or)(f.matchesPrefix,f.matchesWords,f.matchesContiguousSubString),R=E([D(1,y.IInstantiationService),D(2,b.IKeybindingService),D(3,_.ICommandService),D(4,k.ITelemetryService),D(5,x.IDialogService)],R);var L=function(e){"use strict";t(s)(r,e);var n=t(l)(r);function r(e,o){var a;return t(i)(this,r),(a=n.call(this)).storageService=e,a.configurationService=o,a.configuredCommandsHistoryLength=0,a.updateConfiguration(),a.load(),a.registerListeners(),a}return t(a)(r,[{key:"registerListeners",value:function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration((function(){return e.updateConfiguration()})))}},{key:"updateConfiguration",value:function(){this.configuredCommandsHistoryLength=r.getConfiguredCommandHistoryLength(this.configurationService),r.cache&&r.cache.limit!==this.configuredCommandsHistoryLength&&(r.cache.limit=this.configuredCommandsHistoryLength,r.saveState(this.storageService))}},{key:"load",value:function(){var e,t=this.storageService.get(r.PREF_KEY_CACHE,0);if(t)try{e=JSON.parse(t)}catch(e){}var n=r.cache=new(0,g.LRUCache)(this.configuredCommandsHistoryLength,1);e&&(e.usesLRU?e.entries:e.entries.sort((function(e,t){return e.value-t.value}))).forEach((function(e){return n.set(e.key,e.value)}));r.counter=this.storageService.getNumber(r.PREF_KEY_COUNTER,0,r.counter)}},{key:"push",value:function(e){r.cache&&(r.cache.set(e,r.counter++),r.saveState(this.storageService))}},{key:"peek",value:function(e){var t;return null===(t=r.cache)||void 0===t?void 0:t.peek(e)}}],[{key:"saveState",value:function(e){if(r.cache){var t={usesLRU:!0,entries:[]};r.cache.forEach((function(e,n){return t.entries.push({key:n,value:e})})),e.store(r.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(r.PREF_KEY_COUNTER,r.counter,0,0)}}},{key:"getConfiguredCommandHistoryLength",value:function(e){var t,n,i=null===(n=null===(t=e.getValue().workbench)||void 0===t?void 0:t.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof i?i:r.DEFAULT_COMMANDS_HISTORY_LENGTH}}]),r}(h.Disposable);L.DEFAULT_COMMANDS_HISTORY_LENGTH=50,L.PREF_KEY_CACHE="commandPalette.mru.cache",L.PREF_KEY_COUNTER="commandPalette.mru.counter",L.counter=1,L=E([D(0,v.IStorageService),D(1,m.IConfigurationService)],L)})),o.register("6MNul",(function(n,r){e(n.exports,"PickerQuickAccessProvider",(function(){return b}),(function(e){return b=e}));var i,a,s=o("fZTNQ"),l=o("j7KTJ"),u=o("hgtn2"),c=o("56Cfp"),d=o("hFMTy"),h=o("aV5UR"),f=o("4GLgu"),p=o("7C9Vb"),g=o("glSIC"),v=o("1xRRx"),m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function y(e){var t=e;return Array.isArray(t.items)}(a=i||(i={}))[a.NO_ACTION=0]="NO_ACTION",a[a.CLOSE_PICKER=1]="CLOSE_PICKER",a[a.REFRESH_PICKER=2]="REFRESH_PICKER",a[a.REMOVE_ITEM=3]="REMOVE_ITEM";var b=function(e){"use strict";t(u)(r,e);var n=t(h)(r);function r(e,i){var o;return t(s)(this,r),(o=n.call(this)).prefix=e,o.options=i,o}return t(l)(r,[{key:"provide",value:function(e,n){var o,a=this,s=new(0,g.DisposableStore);e.canAcceptInBackground=!!(null===(o=this.options)||void 0===o?void 0:o.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;var l=void 0,u=s.add(new(0,g.MutableDisposable)),h=function(){return m(a,void 0,void 0,t(f).mark((function i(){var o,a,s,c,h,b,_,k,C,x;return t(f).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this,a=u.value=new(0,g.DisposableStore),null==l||l.dispose(!0),e.busy=!1,l=new(0,p.CancellationTokenSource)(n),s=l.token,c=e.value.substr(this.prefix.length).trim(),h=this._getPicks(c,a,s),b=function(t,n){var r,i,a=void 0;if(y(t)?(i=t.items,a=t.active):i=t,0===i.length){if(n)return!1;c.length>0&&(null===(r=o.options)||void 0===r?void 0:r.noResultsPick)&&(i=[o.options.noResultsPick])}return e.items=i,a&&(e.activeItems=[a]),!0},null!==h){i.next=13;break}i.next=36;break;case 13:if(w=void 0,!((w=h).picks&&w.additionalPicks instanceof Promise)){i.next=21;break}return _=this,k=!1,C=!1,i.next=19,Promise.all([m(_,void 0,void 0,t(f).mark((function e(){return t(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.timeout)(r.FAST_PICKS_RACE_DELAY);case 2:if(!s.isCancellationRequested){e.next=4;break}return e.abrupt("return");case 4:C||(k=b(h.picks,!0));case 5:case"end":return e.stop()}}),e)}))),m(_,void 0,void 0,t(f).mark((function n(){var r,i,o,a,l,u,c;return t(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.busy=!0,n.prev=1,n.next=4,h.additionalPicks;case 4:if(r=n.sent,!s.isCancellationRequested){n.next=7;break}return n.abrupt("return");case 7:o=void 0,y(h.picks)?(i=h.picks.items,o=h.picks.active):i=h.picks,l=void 0,y(r)?(a=r.items,l=r.active):a=r,(a.length>0||!k)&&(u=void 0,o||l||(c=e.activeItems[0])&&-1!==i.indexOf(c)&&(u=c),b({items:t(d)(i).concat(t(d)(a)),active:o||l||u}));case 14:return n.prev=14,s.isCancellationRequested||(e.busy=!1),C=!0,n.finish(14);case 18:case"end":return n.stop()}}),n,null,[[1,,14,18]])})))]);case 19:i.next=36;break;case 21:if(h instanceof Promise){i.next=25;break}b(h),i.next=36;break;case 25:return e.busy=!0,i.prev=26,i.next=29,h;case 29:if(x=i.sent,!s.isCancellationRequested){i.next=32;break}return i.abrupt("return");case 32:b(x);case 33:return i.prev=33,s.isCancellationRequested||(e.busy=!1),i.finish(33);case 36:case"end":return i.stop()}var w}),i,this,[[26,,33,36]])})))};return s.add(e.onDidChangeValue((function(){return h()}))),h(),s.add(e.onDidAccept((function(n){var r=t(c)(e.selectedItems,1)[0];"function"==typeof(null==r?void 0:r.accept)&&(n.inBackground||e.hide(),r.accept(e.keyMods,n))}))),s.add(e.onDidTriggerItemButton((function(r){var o=r.button,s=r.item;return m(a,void 0,void 0,t(f).mark((function r(){var a,l,u,c,d,p,g;return t(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof s.trigger){t.next=26;break}if(!((u=null!==(l=null===(a=s.buttons)||void 0===a?void 0:a.indexOf(o))&&void 0!==l?l:-1)>=0)){t.next=26;break}if("number"!=typeof(c=s.trigger(u,e.keyMods))){t.next=9;break}t.t0=c,t.next=12;break;case 9:return t.next=11,c;case 11:t.t0=t.sent;case 12:if(d=t.t0,!n.isCancellationRequested){t.next=15;break}return t.abrupt("return");case 15:t.t1=d,t.next=t.t1===i.NO_ACTION?18:t.t1===i.CLOSE_PICKER?19:t.t1===i.REFRESH_PICKER?21:t.t1===i.REMOVE_ITEM?23:26;break;case 18:return t.abrupt("break",26);case 19:return e.hide(),t.abrupt("break",26);case 21:return h(),t.abrupt("break",26);case 23:return-1!==(p=e.items.indexOf(s))&&((g=e.items.slice()).splice(p,1),e.items=g),t.abrupt("break",26);case 26:case"end":return t.stop()}}),r)})))}))),s}}]),r}(g.Disposable);b.FAST_PICKS_RACE_DELAY=200})),o.register("3WRuP",(function(t,n){e(t.exports,"toErrorMessage",(function(){return c}));var r=o("dKkCN"),i=o("2lfWM"),a=o("ddsHh");function s(e,t){return t&&(e.stack||e.stacktrace)?r.localize("stackTrace.format","{0}: {1}",u(e),l(e.stack)||l(e.stacktrace)):u(e)}function l(e){return Array.isArray(e)?e.join("\n"):e}function u(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?r.localize("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||r.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return r.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){var n=a.coalesce(e),o=c(n[0],t);return n.length>1?r.localize("error.moreErrors","{0} ({1} errors in total)",o,n.length):o}if(i.isString(e))return e;if(e.detail){var l=e.detail;if(l.error)return s(l.error,t);if(l.exception)return s(l.exception,t)}return e.stack?s(e,t):e.message?e.message:r.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}})),o.register("bU4aF",(function(e,n){var r=o("fZTNQ"),i=o("hgtn2"),a=o("aV5UR"),s=o("kT6fp"),l=o("flIZY"),u=o("ed3sE"),c=o("8KoBX"),d=o("6x2MV"),h=o("e1Jmh"),f=o("ds0Oh"),p=o("91bq0"),g=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t){return function(n,r){t(n,r,e)}},m=function(e){"use strict";t(i)(o,e);var n=t(a)(o);function o(e,i,a,s,l,u,c){return t(r)(this,o),n.call(this,!0,e,i,a,s,l,u,c)}return o}(u.ReferencesController);m=g([v(1,d.IContextKeyService),v(2,l.ICodeEditorService),v(3,f.INotificationService),v(4,h.IInstantiationService),v(5,p.IStorageService),v(6,c.IConfigurationService)],m),(0,s.registerEditorContribution)(u.ReferencesController.ID,m)})),o.register("i5Srz",(function(e,n){var r=o("fZTNQ"),i=o("j7KTJ"),a=o("hgtn2"),s=o("aV5UR"),l=o("kT6fp"),u=o("4B8CJ"),c=o("jEpCt"),d=function(e){"use strict";t(a)(o,e);var n=t(s)(o);function o(){var e;return t(r)(this,o),(e=n.call(this,{id:"editor.action.toggleHighContrast",label:c.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}))._originalThemeName=null,e}return t(i)(o,[{key:"run",value:function(e,t){var n=e.get(u.IStandaloneThemeService);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}}]),o}(l.EditorAction);(0,l.registerEditorAction)(d)})),o.register("3NSAE",(function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=function(){function e(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n(this,e),this.closeInput=function(){i.removeInputListeners(),i.input=null,i.setSec(""),i.editor&&i.editor.focus()},this.clear=function(){i.setInnerHtml_(i.node,"")},this.inputKeyUp=function(e){var t=i.input.options;t&&t.onKeyUp&&t.onKeyUp(e,e.target.value,i.closeInput)},this.inputBlur=function(){i.input.options.closeOnBlur&&i.closeInput()},this.inputKeyDown=function(e){var t=i.input,n=t.options,r=t.callback;n&&n.onKeyDown&&n.onKeyDown(e,e.target.value,i.closeInput)||((27===e.keyCode||n&&!1!==n.closeOnEnter&&13==e.keyCode)&&(i.input.node.blur(),e.stopPropagation(),i.closeInput()),13===e.keyCode&&r&&(e.stopPropagation(),e.preventDefault(),r(e.target.value)))},this.node=t,this.modeInfoNode=document.createElement("span"),this.secInfoNode=document.createElement("span"),this.notifNode=document.createElement("span"),this.notifNode.className="vim-notification",this.keyInfoNode=document.createElement("span"),this.keyInfoNode.setAttribute("style","float: right"),this.node.appendChild(this.modeInfoNode),this.node.appendChild(this.secInfoNode),this.node.appendChild(this.notifNode),this.node.appendChild(this.keyInfoNode),this.toggleVisibility(!1),this.editor=r,this.sanitizer=o}var t,i,o;return t=e,(i=[{key:"setMode",value:function(e){"visual"!==e.mode||"linewise"!==e.subMode?this.setText("--".concat(e.mode.toUpperCase(),"--")):this.setText("--VISUAL LINE--")}},{key:"setKeyBuffer",value:function(e){this.keyInfoNode.textContent=e}},{key:"setSec",value:function(e,t,n){if(this.notifNode.textContent="",void 0!==e){this.setInnerHtml_(this.secInfoNode,e);var r=this.secInfoNode.querySelector("input");return r&&(r.focus(),this.input={callback:t,options:n,node:r},n&&(n.selectValueOnOpen&&r.select(),n.value&&(r.value=n.value)),this.addInputListeners()),this.closeInput}}},{key:"setText",value:function(e){this.modeInfoNode.textContent=e}},{key:"toggleVisibility",value:function(e){this.node.style.display=e?"block":"none",this.input&&this.removeInputListeners(),clearInterval(this.notifTimeout)}},{key:"addInputListeners",value:function(){var e=this.input.node;e.addEventListener("keyup",this.inputKeyUp),e.addEventListener("keydown",this.inputKeyDown),e.addEventListener("input",this.inputKeyInput),e.addEventListener("blur",this.inputBlur)}},{key:"removeInputListeners",value:function(){if(this.input&&this.input.node){var e=this.input.node;e.removeEventListener("keyup",this.inputKeyUp),e.removeEventListener("keydown",this.inputKeyDown),e.removeEventListener("input",this.inputKeyInput),e.removeEventListener("blur",this.inputBlur)}}},{key:"showNotification",value:function(e){var t=this,n=document.createElement("span");this.setInnerHtml_(n,e),this.notifNode.textContent=n.textContent,this.notifTimeout=setTimeout((function(){t.notifNode.textContent=""}),5e3)}},{key:"setInnerHtml_",value:function(e,t){if(this.sanitizer){for(;e.children.length;)e.removeChild(e.children[0]);e.appendChild(this.sanitizer(t))}else e.innerHTML=t}}])&&r(t.prototype,i),o&&r(t,o),e}();e.exports.default=i})),o.register("7iAys",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}})),o.register("3CMd0",(function(e,t){"use strict";var n=o("oWGQP");function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return o.PropTypes=o,o}})),o.register("oWGQP",(function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"})),o("cmWpH").register(JSON.parse('{"e9M5B":"index.6b03381e.js","eYbyR":"cssMode.a7a8d860.js","bibKH":"index.effe8ed2.css","a8Dx0":"jsonMode.f8435f1b.js","iOco6":"htmlMode.b18bcd6c.js","fEnBU":"abap.2d1022be.js","agXnf":"apex.09bc04bc.js","gieaP":"azcli.a4bcf551.js","4uSIS":"bat.4cd45515.js","d0TKb":"bicep.3c0e08d7.js","8sqqz":"cameligo.5342a95a.js","bDKAk":"clojure.f195dc87.js","l6zXB":"coffee.522d99cc.js","kXSZs":"cpp.caf2aa5a.js","jNPZ1":"csharp.7baed64c.js","4NBGR":"csp.5bec4b26.js","f5url":"css.82434a10.js","6m3gi":"dart.a83ee35e.js","81BUm":"dockerfile.b3bdd237.js","4P3NC":"ecl.a5920611.js","fGHyh":"elixir.2f4549bd.js","7oEOw":"fsharp.4dfec14a.js","j1Nwc":"go.1c9f9034.js","2NK4H":"graphql.fe7864d7.js","jAG9I":"handlebars.513dd97c.js","lxwTv":"hcl.108f3d65.js","dAM4F":"html.d5e7041d.js","3CCj7":"ini.2752cb39.js","1mWUZ":"java.867e884f.js","6eLDy":"javascript.fef0b9da.js","jKaNq":"typescript.9a91f072.js","2JARJ":"julia.0d9744d3.js","1eriZ":"kotlin.909616f2.js","5egZk":"less.c4bcb374.js","bGfIv":"lexon.785713da.js","ijRR4":"lua.b2b986cd.js","gJmHM":"liquid.6ccd8a2e.js","blqSY":"m3.f98777f4.js","ktr5U":"markdown.c5ace3c4.js","3FmcZ":"mips.abcea9dc.js","kRKoG":"msdax.11505f15.js","e409C":"mysql.90124857.js","Kmohy":"objective-c.4d266acb.js","djTaR":"pascal.0857009f.js","7T8G4":"pascaligo.af22347b.js","hdq1q":"perl.93f903c3.js","i5VXI":"pgsql.0874c35a.js","2nBZa":"php.880c6e25.js","d16j1":"postiats.3fd7bacf.js","jNHXw":"powerquery.c190a553.js","hobZE":"powershell.09b8a602.js","gNH1X":"pug.e4fc4f80.js","fVUpx":"python.b6fd915c.js","hOdwx":"qsharp.c87496ab.js","dSj2c":"r.cfde1ddd.js","3GbuA":"razor.3c1b8731.js","kTfFQ":"redis.556ad89b.js","2SuWw":"redshift.fbc06f13.js","dHMXX":"restructuredtext.7e0c94fa.js","dRVQk":"ruby.8faee793.js","dIWWH":"rust.5e9f245f.js","hRPDd":"sb.e3cda0a6.js","8sQUa":"scala.bd5048d4.js","fBvDQ":"scheme.8330306d.js","6WMmw":"scss.0f05ae69.js","kJ8b4":"shell.a6ca760f.js","fGocR":"solidity.72fbe470.js","lJbhl":"sophia.b0ebb70f.js","dZRUE":"sparql.ea6fc52c.js","1S8ek":"sql.678ce07d.js","euYfo":"st.ae394ee5.js","KmIN2":"swift.15b26d69.js","7nFQ9":"systemverilog.427da7d9.js","5iTBy":"tcl.83b637aa.js","1ePeT":"twig.dc833504.js","eZM1r":"vb.60ca6624.js","60tib":"xml.55db723c.js","lE20h":"yaml.03e8587c.js","nY3UX":"index.f0aab31f.js","fKJAw":"index.11a11d76.js"}'));var a=o("gYOhc"),s={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),s=o("7xQK0");var l=o("aJy7o"),u=(a=o("gYOhc"),o("56Cfp")),c=o("6AbkI");u=o("56Cfp");var d;function h(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function f(){var e,t,n,r;return d||(e="keyval-store",t="keyval",r=(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var t=function(){return indexedDB.databases().finally(e)};n=setInterval(t,100),t()})).finally((function(){return clearInterval(n)})):Promise.resolve()).then((function(){var n=indexedDB.open(e);return n.onupgradeneeded=function(){return n.result.createObjectStore(t)},h(n)})),d=function(e,n){return r.then((function(r){return n(r.transaction(t,e).objectStore(t))}))}),d}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f();return t("readonly",(function(t){return h(t.get(e))}))}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f();return n("readwrite",(function(n){return n.put(t,e),h(n.transaction)}))}c=o("6AbkI");var v=function(){var e=t(u)((0,c.useState)(null),2),n=e[0],r=e[1],i=t(u)((0,c.useState)(!1),2),o=i[0],a=i[1],s=t(u)((0,c.useState)(null),2),l=s[0],d=s[1];return(0,c.useEffect)((function(){p("handle").then((function(e){e&&d(e)}))}),[]),(0,c.useEffect)((function(){var e=null==n?void 0:n.handle;if(void 0!==e){if(g("handle",e),"directory"===e.kind)throw Error("Handle is directory");d(e)}}),[n]),{model:n,setModel:r,dirty:o,setDirty:a,recent:l,setRecent:d}},m=(a=o("gYOhc"),a=o("gYOhc"),c=o("6AbkI"),c=o("6AbkI"),function(e){var t=e.file,n=t.dirty,r=t.setDirty,i=e.editor.value;(0,c.useEffect)((function(){if(!n&&null!==i){var e=i.onDidChangeModelContent((function(){r(!0),e.dispose()}));return function(){e.dispose()}}}),[i,n,r])});o("jU8VS");var y=o("kqL91");o("jU8VS");y=o("kqL91");var b,_,k={current:!1},C=(c=o("6AbkI"),function(e,t){var n=e.current;if(null===n)throw Error(t);return n}),x={value:"",language:"markdown",ariaLabel:"Main markdown editor",codeLens:!1,contextmenu:!1,copyWithSyntaxHighlighting:!1,cursorBlinking:"smooth",cursorSmoothCaretAnimation:!0,cursorSurroundingLines:3,cursorWidth:3,fontFamily:"iA Writer Duo",fontLigatures:!0,wordWrapColumn:64,glyphMargin:!1,disableMonospaceOptimizations:!0,lineNumbers:"off",minimap:{enabled:!1},padding:{top:96,bottom:150},quickSuggestions:!1,roundedSelection:!1,selectionHighlight:!1,smoothScrolling:!0,snippetSuggestions:"none",suggestOnTriggerCharacters:!1,wordBasedSuggestions:!1,wordWrap:"bounded",scrollBeyondLastLine:!1,folding:!1,occurrencesHighlight:!1,renderLineHighlight:"none",hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,scrollbar:{useShadows:!1,horizontal:"hidden",verticalSliderSize:16,verticalScrollbarSize:16}},w=function(e){var t=e.container;return!0!==k.current&&(self.MonacoEnvironment={getWorkerUrl:function(e,t){return"/editor.worker.js"}},document.fonts.ready.then((function(){y.editor.remeasureFonts()})),k.current=!0),y.editor.create(t,x)},S=function(e){var t=e.containerRef,n=e.editor.set;(0,c.useEffect)((function(){var e=C(t,"editor container is null"),r=w({container:e});return r.focus(),n(r),function(){n(null),r.dispose()}}),[n,t])},E=(c=o("6AbkI"),["4XS","3XS","2XS","XS","S","M","L","XL","2XL","3XL","4XL","5XL","6XL","7XL","8XL","9XL","10XL"]),D={"4XS":[11,1.9,42,490],"3XS":[12,1.89,38,482],"2XS":[13,1.89,34,475],XS:[14,1.88,28,470],S:[15,1.87,24,465],M:[16,1.86,22,460],L:[18,1.85,20,455],XL:[20,1.83,20,450],"2XL":[24,1.79,20,445],"3XL":[28,1.75,19,440],"4XL":[32,1.71,18,435],"5XL":[36,1.67,17,430],"6XL":[42,1.61,16,425],"7XL":[48,1.55,15,425],"8XL":[54,1.49,14,425],"9XL":[60,1.43,13,425],"10XL":[72,1.38,12,425]},I=Object.keys(D).reduce((function(e,t){var n=D[t];return e[t]={fontSize:n[0],lineHeight:n[1],spacing:n[2],weight:n[3]},e}),{}),R=function(e){return.6*I[e.size].fontSize*64},L=function(e){var t=R({size:e.size}),n=e.container.clientWidth-t,r=Math.round(n/2);return Math.max(r,48)},A=function(e){var t=e.containerRef,n=e.editor.value,r=e.prefs.size;(0,c.useEffect)((function(){if(null!==n){var e=C(t,"Container is null"),i=new ResizeObserver((function(){n.updateOptions({lineDecorationsWidth:L({container:e,size:r})}),n.layout()}));return i.observe(e),function(){i.unobserve(e)}}}),[n,t,r])},M=(c=o("6AbkI"),u=o("56Cfp"),o("hFMTy")),T=o("84NKZ"),N={};_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var P,O;O=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))};var F=Array.prototype.concat,B=Array.prototype.slice,z=P=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];O(i)?t=F.call(t,B.call(i)):t.push(i)}return t};z.wrap=function(e){return function(){return e(z(arguments))}};var W=Object.hasOwnProperty,H=Object.create(null);for(var V in _)W.call(_,V)&&(H[_[V]]=V);var j=N={to:{},get:{}};function K(e,t,n){return Math.min(Math.max(t,e),n)}function U(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}j.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=j.get.hsl(e),n="hsl";break;case"hwb":t=j.get.hwb(e),n="hwb";break;default:t=j.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},j.get.rgb=function(e){if(!e)return null;var t,n,r,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=t[2],t=t[1],n=0;n<3;n++){var o=2*n;i[n]=parseInt(t.slice(o,o+2),16)}r&&(i[3]=parseInt(r,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(r=(t=t[1])[3],n=0;n<3;n++)i[n]=parseInt(t[n]+t[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(t[n+1],0);t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:W.call(_,t[1])?((i=_[t[1]])[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}for(n=0;n<3;n++)i[n]=K(i[n],0,255);return i[3]=K(i[3],0,1),i},j.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,K(parseFloat(t[2]),0,100),K(parseFloat(t[3]),0,100),K(isNaN(n)?1:n,0,1)]}return null},j.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,K(parseFloat(t[2]),0,100),K(parseFloat(t[3]),0,100),K(isNaN(n)?1:n,0,1)]}return null},j.to.hex=function(){var e=P(arguments);return"#"+U(e[0])+U(e[1])+U(e[2])+(e[3]<1?U(Math.round(255*e[3])):"")},j.to.rgb=function(){var e=P(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},j.to.rgb.percent=function(){var e=P(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},j.to.hsl=function(){var e=P(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},j.to.hwb=function(){var e=P(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},j.to.keyword=function(e){return H[e.slice(0,3)]};var q,Z={},G=(u=o("56Cfp"),{}),Q=!0,J=!1,Y=void 0;try{for(var X,$=Object.keys(_)[Symbol.iterator]();!(Q=(X=$.next()).done);Q=!0){var ee=X.value;G[_[ee]]=ee}}catch(e){J=!0,Y=e}finally{try{Q||null==$.return||$.return()}finally{if(J)throw Y}}var te={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};q=te;var ne=!0,re=!1,ie=void 0;try{for(var oe,ae=Object.keys(te)[Symbol.iterator]();!(ne=(oe=ae.next()).done);ne=!0){var se=oe.value;if(!("channels"in te[se]))throw new Error("missing channels property: "+se);if(!("labels"in te[se]))throw new Error("missing channel labels property: "+se);if(te[se].labels.length!==te[se].channels)throw new Error("channel and label counts mismatch: "+se);var le=te[se],ue=le.channels,ce=le.labels;delete te[se].channels,delete te[se].labels,Object.defineProperty(te[se],"channels",{value:ue}),Object.defineProperty(te[se],"labels",{value:ce})}}catch(e){re=!0,ie=e}finally{try{ne||null==ae.return||ae.return()}finally{if(re)throw ie}}te.rgb.hsl=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.min(n,r,i),a=Math.max(n,r,i),s=a-o;a===o?t=0:n===a?t=(r-i)/s:r===a?t=2+(i-n)/s:i===a&&(t=4+(n-r)/s),(t=Math.min(60*t,360))<0&&(t+=360);var l=(o+a)/2;return[t,100*(a===o?0:l<=.5?s/(a+o):s/(2-a-o)),100*l]},te.rgb.hsv=function(e){var t,n,r,i,o,a=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(a,s,l),c=u-Math.min(a,s,l),d=function(e){return(u-e)/6/c+.5};return 0===c?(i=0,o=0):(o=c/u,t=d(a),n=d(s),r=d(l),a===u?i=r-n:s===u?i=1/3+t-r:l===u&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},te.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[te.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},te.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},te.rgb.keyword=function(e){var t=G[e];if(t)return t;var n,r,i,o=1/0,a=!0,s=!1,l=void 0;try{for(var u,c=Object.keys(_)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=(r=e,i=_[d],Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2)+Math.pow(r[2]-i[2],2));h<o&&(o=h,n=d)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return n},te.keyword.rgb=function(e){return _[e]},te.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},te.rgb.lab=function(e){var t=te.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},te.hsl.rgb=function(e){var t,n,r,i=e[0]/360,o=e[1]/100,a=e[2]/100;if(0===o)return[r=255*a,r,r];for(var s=2*a-(t=a<.5?a*(1+o):a+o-a*o),l=[0,0,0],u=0;u<3;u++)(n=i+1/3*-(u-1))<0&&n++,n>1&&n--,r=6*n<1?s+6*(t-s)*n:2*n<1?t:3*n<2?s+(t-s)*(2/3-n)*6:s,l[u]=255*r;return l},te.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},te.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}},te.hsv.hsl=function(e){var t,n,r=e[0],i=e[1]/100,o=e[2]/100,a=Math.max(o,.01);n=(2-i)*o;var s=(2-i)*a;return t=i*a,[r,100*(t=(t/=s<=1?s:2-s)||0),100*(n/=2)]},te.hwb.rgb=function(e){var t,n=e[0]/360,r=e[1]/100,i=e[2]/100,o=r+i;o>1&&(r/=o,i/=o);var a=Math.floor(6*n),s=1-i;t=6*n-a,0!=(1&a)&&(t=1-t);var l,u,c,d=r+t*(s-r);switch(a){default:case 6:case 0:l=s,u=d,c=r;break;case 1:l=d,u=s,c=r;break;case 2:l=r,u=s,c=d;break;case 3:l=r,u=d,c=s;break;case 4:l=d,u=r,c=s;break;case 5:l=s,u=r,c=d}return[255*l,255*u,255*c]},te.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},te.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},te.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},te.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},te.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},te.lch.lab=function(e){var t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},te.rgb.ansi16=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t(u)(e,3),i=r[0],o=r[1],a=r[2],s=null===n?te.rgb.hsv(e)[2]:n;if(0===(s=Math.round(s/50)))return 30;var l=30+(Math.round(a/255)<<2|Math.round(o/255)<<1|Math.round(i/255));return 2===s&&(l+=60),l},te.hsv.ansi16=function(e){return te.rgb.ansi16(te.hsv.rgb(e),e[2])},te.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},te.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},te.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},te.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},te.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},te.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},te.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},te.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},te.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},te.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},te.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},te.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},te.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},te.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},te.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},te.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},te.gray.hsl=function(e){return[0,0,e[0]]},te.gray.hsv=te.gray.hsl,te.gray.hwb=function(e){return[0,100,e[0]]},te.gray.cmyk=function(e){return[0,0,0,e[0]]},te.gray.lab=function(e){return[e[0],0,0]},te.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},te.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};var de;function he(e){var t=function(){for(var e={},t=Object.keys(q),n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),i=Object.keys(q[r]),o=i.length,a=0;a<o;a++){var s=i[a],l=t[s];-1===l.distance&&(l.distance=t[r].distance+1,l.parent=r,n.unshift(s))}return t}function fe(e,t){return function(n){return t(e(n))}}function pe(e,t){for(var n=[t[e].parent,e],r=q[t[e].parent][e],i=t[e].parent;t[i].parent;)n.unshift(t[i].parent),r=fe(q[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}de=function(e){for(var t=he(e),n={},r=Object.keys(t),i=r.length,o=0;o<i;o++){var a=r[o];null!==t[a].parent&&(n[a]=pe(a,t))}return n};var ge={};Object.keys(q).forEach((function(e){ge[e]={},Object.defineProperty(ge[e],"channels",{value:q[e].channels}),Object.defineProperty(ge[e],"labels",{value:q[e].labels});var t=de(e);Object.keys(t).forEach((function(n){var r=t[n];ge[e][n]=function(e){var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(null==i)return i;i.length>1&&(n=i);var o=e(n);if("object"==typeof o)for(var a=o.length,s=0;s<a;s++)o[s]=Math.round(o[s]);return o};return"conversion"in e&&(t.conversion=e.conversion),t}(r),ge[e][n].raw=function(e){var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return null==i?i:(i.length>1&&(n=i),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),Z=ge;var ve=["keyword","gray","hex"],me={},ye=!0,be=!1,_e=void 0;try{for(var ke,Ce=Object.keys(Z)[Symbol.iterator]();!(ye=(ke=Ce.next()).done);ye=!0){var xe=ke.value;me[t(M)(Z[xe].labels).sort().join("")]=xe}}catch(e){be=!0,_e=e}finally{try{ye||null==Ce.return||Ce.return()}finally{if(be)throw _e}}var we={};function Se(e,n){if(!(this instanceof Se))return new Se(e,n);if(n&&n in ve&&(n=null),n&&!(n in Z))throw new Error("Unknown model: "+n);var r,i;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Se)this.model=e.model,this.color=t(M)(e.color),this.valpha=e.valpha;else if("string"==typeof e){var o=N.get(e);if(null===o)throw new Error("Unable to parse color from string: "+e);this.model=o.model,i=Z[this.model].channels,this.color=o.value.slice(0,i),this.valpha="number"==typeof o.value[i]?o.value[i]:1}else if(e.length>0){this.model=n||"rgb",i=Z[this.model].channels;var a=Array.prototype.slice.call(e,0,i);this.color=Pe(a,i),this.valpha="number"==typeof e[i]?e[i]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var s=Object.keys(e);"alpha"in e&&(s.splice(s.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var l=s.sort().join("");if(!(l in me))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=me[l];var u=Z[this.model].labels,c=[];for(r=0;r<u.length;r++)c.push(e[u[r]]);this.color=Pe(c)}if(we[this.model])for(i=Z[this.model].channels,r=0;r<i;r++){var d=we[this.model][r];d&&(this.color[r]=d(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Se.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var n=this.model in N.to?this:this.rgb(),r=1===(n=n.round("number"==typeof e?e:1)).valpha?n.color:t(M)(n.color).concat([this.valpha]);return N.to[n.model](r)},percentString:function(e){var n=this.rgb().round("number"==typeof e?e:1),r=1===n.valpha?n.color:t(M)(n.color).concat([this.valpha]);return N.to.rgb.percent(r)},array:function(){return 1===this.valpha?t(M)(this.color):t(M)(this.color).concat([this.valpha])},object:function(){for(var e={},t=Z[this.model].channels,n=Z[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new Se(t(M)(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e))).concat([this.valpha]),this.model)},alpha:function(e){return void 0!==e?new Se(t(M)(this.color).concat([Math.max(0,Math.min(1,e))]),this.model):this.valpha},red:Me("rgb",0,Te(255)),green:Me("rgb",1,Te(255)),blue:Me("rgb",2,Te(255)),hue:Me(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:Me("hsl",1,Te(100)),lightness:Me("hsl",2,Te(100)),saturationv:Me("hsv",1,Te(100)),value:Me("hsv",2,Te(100)),chroma:Me("hcg",1,Te(100)),gray:Me("hcg",2,Te(100)),white:Me("hwb",1,Te(100)),wblack:Me("hwb",2,Te(100)),cyan:Me("cmyk",0,Te(100)),magenta:Me("cmyk",1,Te(100)),yellow:Me("cmyk",2,Te(100)),black:Me("cmyk",3,Te(100)),x:Me("xyz",0,Te(95.047)),y:Me("xyz",1,Te(100)),z:Me("xyz",2,Te(108.833)),l:Me("lab",0,Te(100)),a:Me("lab",1),b:Me("lab",2),keyword:function(e){return void 0!==e?new Se(e):Z[this.model].keyword(this.color)},hex:function(e){return void 0!==e?new Se(e):N.to.hex(this.rgb().round().color)},hexa:function(e){if(void 0!==e)return new Se(e);var t=this.rgb().round().color,n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),N.to.hex(t)+n},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){var e=this.rgb().color,n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e.entries()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=t(u)(a.value,2),c=l[0],d=l[1]/255;n[c]=d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return Se.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,n){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+(void 0===e?"undefined":t(T)(e)));var r=e.rgb(),i=this.rgb(),o=void 0===n?.5:n,a=2*o-1,s=r.alpha()-i.alpha(),l=((a*s==-1?a:(a+s)/(1+a*s))+1)/2,u=1-l;return Se.rgb(l*r.red()+u*i.red(),l*r.green()+u*i.green(),l*r.blue()+u*i.blue(),r.alpha()*o+i.alpha()*(1-o))}};var Ee=!0,De=!1,Ie=void 0;try{for(var Re,Le=function(e,n){var r=n.value;if(ve.includes(r))return"continue";var i=Z[r].channels;Se.prototype[r]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.model===r?new Se(this):n.length>0?new Se(n,r):new Se(t(M)(Ne(Z[this.model][r].raw(this.color))).concat([this.valpha]),r)},Se[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0];return"number"==typeof o&&(o=Pe(t,i)),new Se(o,r)}},Ae=Object.keys(Z)[Symbol.iterator]();!(Ee=(Re=Ae.next()).done);Ee=!0)Le(0,Re)}catch(e){De=!0,Ie=e}finally{try{Ee||null==Ae.return||Ae.return()}finally{if(De)throw Ie}}function Me(e,t,n){e=Array.isArray(e)?e:[e];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;(we[l]||(we[l]=[]))[t]=n}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e=e[0],function(r){var i;return void 0!==r?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function Te(e){return function(t){return Math.max(0,Math.min(e,t))}}function Ne(e){return Array.isArray(e)?e:[e]}function Pe(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}var Oe={name:"Paper",description:"",scheme:"light",colors:{bg:t(b=Se)("#eeeeee"),main:t(b)("#444444"),caret:t(b)("#3B82F6"),sub:t(b)("#b2b2b2"),text:t(b)("#444444"),error:t(b)("#d70000")}},Fe={name:"Rosé Pine Dawn",description:"",scheme:"light",colors:{bg:t(b)("#faf4ed"),main:t(b)("#d7827e"),caret:t(b)("#d7827e"),sub:t(b)("#b0acb9"),text:t(b)("#575279"),error:t(b)("#b4637a")}},Be={name:"Peaches",description:"",scheme:"light",colors:{bg:t(b)("#fddbd1"),main:t(b)("#ed8c7c"),caret:t(b)("#ed8c7c"),sub:t(b)("#dd9986"),text:t(b)("#533d40"),error:t(b)("#da6551")}},ze={name:"Serika Light",description:"",scheme:"light",colors:{bg:t(b)("#f2f2f2"),main:t(b)("#ffcd04"),caret:t(b)("#ffcd04"),sub:t(b)("#c7c7c7"),text:t(b)("#191919"),error:t(b)("#ca4754")}},We={name:"Zumidori",description:"",scheme:"light",colors:{bg:t(b)("#e0f5e4"),main:t(b)("#2cae58"),caret:t(b)("#2cae58"),sub:t(b)("#2cae58"),text:t(b)("#262926"),error:t(b)("#edb45f")}},He={name:"Bushido",description:"",scheme:"dark",colors:{bg:t(b)("#242933"),main:t(b)("#ec4c56"),caret:t(b)("#ec4c56"),sub:t(b)("#596172"),text:t(b)("#f6f0e9"),error:t(b)("#ec4c56")}},Ve={name:"Dracula",description:"",scheme:"dark",colors:{bg:t(b)("#282a36"),main:t(b)("#bd93f9"),caret:t(b)("#bd93f9"),sub:t(b)("#44475a"),text:t(b)("#f8f8f2"),error:t(b)("#ff5555")}},je={name:"Serika Dark",description:"",scheme:"dark",colors:{bg:t(b)("#323437"),main:t(b)("#e2b714"),caret:t(b)("#e2b714"),sub:t(b)("#646669"),text:t(b)("#d1d0c5"),error:t(b)("#ca4754")}},Ke={name:"Nord",description:"",scheme:"dark",colors:{bg:t(b)("#2e3440"),main:t(b)("#8fbcbb"),caret:t(b)("#8fbcbb"),sub:t(b)("#4c566a"),text:t(b)("#eceff4"),error:t(b)("#bf616a")}},Ue={name:"High contrast",description:"",scheme:"high-contrast",colors:{bg:t(b)("#000000"),main:t(b)("#1aebff"),caret:t(b)("#ffffff"),sub:t(b)("#1aebff"),text:t(b)("#ffffff"),error:t(b)("#e11845")}},qe=["bushido","serika-dark","dracula","nord","high-contrast","paper","serika-light","rose-pine-dawn","peach","zumidori"],Ze={bushido:He,"serika-dark":je,dracula:Ve,nord:Ke,"high-contrast":Ue,paper:Oe,"serika-light":ze,"rose-pine-dawn":Fe,peach:Be,zumidori:We},Ge=function(){return window.navigator.platform.startsWith("Mac")||["iPhone","iPad","iPod"].some((function(e){return navigator.platform.startsWith(e)}))},Qe=function(e){if(1===window.devicePixelRatio)return 400;var t="dark"===Ze[e.theme].scheme?-20:0,n=Ge()?-35:0;return I[e.size].weight+n+t},Je=function(e){var t=e.editor.value,n=e.prefs.size,r=e.prefs.theme;(0,c.useEffect)((function(){if(null!==t){var e=I[n];t.updateOptions({fontSize:e.fontSize,lineHeight:Math.round(e.fontSize*e.lineHeight),fontWeight:Qe({size:n,theme:r}).toString()})}}),[t,n,r])};o("jU8VS");y=o("kqL91"),c=o("6AbkI");var Ye={light:{red:"#CF222E",blue1:"#0969DA",blue2:"#0550AE",purple:"#8250DF",gray:"#6E7781",orange:"#BC4C00",green:"#2DA44E"},dark:{red:"#F97583",blue1:"#9ECBFF",blue2:"79B8FF",purple:"#B392F0",gray:"#6A737D",orange:"#FFAB70",green:"#85E89D"},"high-contrast":{red:"#FF6A69",blue1:"#409EFF",blue2:"#409EFF",purple:"#B87FFF",gray:"#9EA7B3",orange:"#E7811D",green:"#09B43A"}},Xe=function(e,t,n){var r=[];switch(r.push({token:"",foreground:t.text.hex()},{token:"invalid",foreground:t.error.hex()},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"}),r.push({token:"comment.md",foreground:t.sub.hex()},{token:"comment.content.md",foreground:t.sub.hex()},{token:"keyword.md",foreground:t.text.hex(),fontStyle:"bold"},{token:"keyword.table.header.md",foreground:t.text.hex()},{token:"keyword.table.middle.md",foreground:t.text.hex()},{token:"keyword.table.left.md",foreground:t.text.hex()},{token:"keyword.table.right.md",foreground:t.text.hex()},{token:"string.md",foreground:t.text.hex()},{token:"string.link.md",foreground:t.sub.hex()},{token:"variable.md",foreground:t.text.hex(),background:t.sub.hex()},{token:"tag.md",foreground:t.sub.hex()},{token:"string.html.md",foreground:t.sub.hex()},{token:"delimiter.html.md",foreground:t.sub.hex()},{token:"attribute.name.html.md",foreground:t.sub.hex()}),n.code){case"colorful":r.push({token:"keyword",foreground:Ye[e].red},{token:"string",foreground:Ye[e].blue1},{token:"identifier",foreground:Ye[e].purple},{token:"type.identifier",foreground:Ye[e].orange},{token:"comment",foreground:Ye[e].gray},{token:"number",foreground:Ye[e].blue2},{token:"tag",foreground:Ye[e].green},{token:"tag.css",foreground:Ye[e].purple},{token:"attribute.name",foreground:Ye[e].purple},{token:"attribute.value",foreground:Ye[e].orange},{token:"string.key",foreground:Ye[e].purple});break;case"duo":r.push({token:"keyword",foreground:t.main.hex()},{token:"comment",foreground:t.sub.hex()},{token:"number",foreground:t.main.hex()},{token:"tag",foreground:t.main.hex()})}return r},$e={"high-contrast":"hc-black",dark:"vs-dark",light:"vs"},et=function(e){var t=e.editor.value,n=e.prefs.theme;(0,c.useEffect)((function(){if(null!==t){var e,r=Ze[n],i=r.colors;y.editor.defineTheme("custom",{base:$e[r.scheme],inherit:!1,colors:(e=i,{"editor.background":e.bg.hex(),"editor.foreground":e.text.hex(),"editor.selectionBackground":"".concat(e.sub.hex(),"80"),"editor.findMatchBackground":"".concat(e.main.hex(),"80"),"editor.findMatchHighlightBackground":"".concat(e.main.hex(),"40"),"editor.rangeHighlightBackground":"".concat(e.sub.hex(),"40"),"editorCursor.foreground":e.caret.hex(),"editorCursor.background":e.text.hex()}),rules:Xe(r.scheme,i,{code:"colorful"})}),y.editor.setTheme("custom")}}),[n,t])},tt=(c=o("6AbkI"),{});Object.defineProperty(tt,"__esModule",{value:!0}),tt.initVimMode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rt.default,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=new nt.default(e);if(!t)return i.attach(),i;var o=new n(t,e,r),a="";return i.on("vim-mode-change",(function(e){o.setMode(e)})),i.on("vim-keypress",(function(e){":"===e?a="":a+=e,o.setKeyBuffer(a)})),i.on("vim-command-done",(function(){a="",o.setKeyBuffer(a)})),i.on("dispose",(function(){o.toggleVisibility(!1),o.closeInput(),o.clear()})),o.toggleVisibility(!0),i.setStatusBar(o),i.attach(),i},Object.defineProperty(tt,"VimMode",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(tt,"StatusBar",{enumerable:!0,get:function(){return rt.default}});var nt=it(o("jmA0c")),rt=it(o("3NSAE"));function it(e){return e&&e.__esModule?e:{default:e}}var ot,at=function(e){var t=e.editor.value,n=e.prefs.vim,r=e.statusRef;return(0,c.useEffect)((function(){var e=r.current;if(null===e)throw Error("Status element is null");if(null!==t&&!1!==n){var i=(0,tt.initVimMode)(t,e);return function(){return i.dispose()}}}),[t,n,r]),{statusRef:r}},st=(a=o("gYOhc"),{});e(st,"container",(function(){return ot}),(function(e){return ot=e})),ot="container_bd37b3";var lt,ut,ct,dt=function(e){return(0,a.jsx)("div",{className:t(st).container,style:{maxWidth:R({size:e.size})},ref:e.statusRef})},ht={};e(ht,"container",(function(){return lt}),(function(e){return lt=e})),e(ht,"editor",(function(){return ut}),(function(e){return ut=e})),e(ht,"status",(function(){return ct}),(function(e){return ct=e})),lt="container_63fa29",ut="editor_63fa29",ct="status_63fa29";var ft,pt,gt,vt=function(e){var n=e.editor,r=e.file,i=e.prefs,o=(0,c.useRef)(null),s=(0,c.useRef)(null);return S({editor:n,containerRef:o}),A({editor:n,containerRef:o,prefs:i}),at({editor:n,prefs:i,statusRef:s}),m({editor:n,file:r}),et({editor:n,prefs:i}),Je({editor:n,prefs:i}),(0,a.jsxs)("div",{className:t(ht).container,children:[(0,a.jsx)("div",{className:t(ht).editor,ref:o}),(0,a.jsx)("div",{className:t(ht).status,children:(0,a.jsx)(dt,{statusRef:s,size:i.size})})]})},mt=(a=o("gYOhc"),{});e(mt,"container",(function(){return ft}),(function(e){return ft=e})),e(mt,"paper",(function(){return pt}),(function(e){return pt=e})),e(mt,"content",(function(){return gt}),(function(e){return gt=e})),ft="container_89414b",pt="paper_89414b",gt="content_89414b";var yt={};function bt(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){bt(o,r,i,a,s,"next",e)}function s(e){bt(o,r,i,a,s,"throw",e)}a(void 0)}))}};u=o("56Cfp");var _t=o("4GLgu"),kt=(c=o("6AbkI"),l=o("aJy7o"),l=o("aJy7o"),{});Object.defineProperty(kt,"__esModule",{value:!0}),kt.default=function(e,t){if(null==e)return{};var n,r,i=xt.default(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i};var Ct,xt=(Ct=o("7iAys"))&&Ct.__esModule?Ct:{default:Ct};var wt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},St=o("fZTNQ"),Et=function e(n,r,i){"use strict";t(St)(this,e),this.property=n,this.normal=r,i&&(this.space=i)};function Dt(e,t){for(var n={},r={},i=-1;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Et(n,r,t)}function It(e){return e.toLowerCase()}Et.prototype.property={},Et.prototype.normal={},Et.prototype.space=null;var Rt=o("bETlW"),Lt=(St=o("fZTNQ"),o("hgtn2")),At=o("aV5UR"),Mt=(St=o("fZTNQ"),function e(n,r){"use strict";t(St)(this,e),this.property=n,this.attribute=r});Mt.prototype.space=null,Mt.prototype.attribute=null,Mt.prototype.property=null,Mt.prototype.boolean=!1,Mt.prototype.booleanish=!1,Mt.prototype.overloadedBoolean=!1,Mt.prototype.number=!1,Mt.prototype.commaSeparated=!1,Mt.prototype.spaceSeparated=!1,Mt.prototype.commaOrSpaceSeparated=!1,Mt.prototype.mustUseProperty=!1,Mt.prototype.defined=!1;var Tt={};e(Tt,"boolean",(function(){return Pt})),e(Tt,"booleanish",(function(){return Ot})),e(Tt,"overloadedBoolean",(function(){return Ft})),e(Tt,"number",(function(){return Bt})),e(Tt,"spaceSeparated",(function(){return zt})),e(Tt,"commaSeparated",(function(){return Wt})),e(Tt,"commaOrSpaceSeparated",(function(){return Ht}));var Nt=0,Pt=Vt(),Ot=Vt(),Ft=Vt(),Bt=Vt(),zt=Vt(),Wt=Vt(),Ht=Vt();function Vt(){return Math.pow(2,++Nt)}var jt=Object.keys(Tt),Kt=function(e){"use strict";t(Lt)(r,e);var n=t(At)(r);function r(e,i,o,a){var s;t(St)(this,r);var l=-1;for(s=n.call(this,e,i),Ut(t(Rt)(s),"space",a);++l<jt.length;)Ut(t(Rt)(s),jt[l],(o&Tt[jt[l]])===Tt[jt[l]]);return s}return r}(Mt);function Ut(e,t,n){n&&(e[t]=n)}Kt.prototype.defined=!0;var qt={}.hasOwnProperty;function Zt(e){var t,n,r={},i={};for(t in e.properties)qt.call(e.properties,t)&&(n=new Kt(t,e.transform(e.attributes,t),e.properties[t],e.space),e.mustUseProperty&&e.mustUseProperty.includes(t)&&(n.mustUseProperty=!0),r[t]=n,i[It(t)]=t,i[It(n.attribute)]=t);return new Et(r,i,e.space)}var Gt=Zt({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});var Qt=Zt({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Jt(e,t){return t in e?e[t]:t}function Yt(e,t){return Jt(e,t.toLowerCase())}var Xt=Zt({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Yt,properties:{xmlns:null,xmlnsXLink:null}}),$t=Zt({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ot,ariaAutoComplete:null,ariaBusy:Ot,ariaChecked:Ot,ariaColCount:Bt,ariaColIndex:Bt,ariaColSpan:Bt,ariaControls:zt,ariaCurrent:null,ariaDescribedBy:zt,ariaDetails:null,ariaDisabled:Ot,ariaDropEffect:zt,ariaErrorMessage:null,ariaExpanded:Ot,ariaFlowTo:zt,ariaGrabbed:Ot,ariaHasPopup:null,ariaHidden:Ot,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:zt,ariaLevel:Bt,ariaLive:null,ariaModal:Ot,ariaMultiLine:Ot,ariaMultiSelectable:Ot,ariaOrientation:null,ariaOwns:zt,ariaPlaceholder:null,ariaPosInSet:Bt,ariaPressed:Ot,ariaReadOnly:Ot,ariaRelevant:null,ariaRequired:Ot,ariaRoleDescription:zt,ariaRowCount:Bt,ariaRowIndex:Bt,ariaRowSpan:Bt,ariaSelected:Ot,ariaSetSize:Bt,ariaSort:null,ariaValueMax:Bt,ariaValueMin:Bt,ariaValueNow:Bt,ariaValueText:null,role:null}});var en=Zt({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Yt,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wt,acceptCharset:zt,accessKey:zt,action:null,allow:null,allowFullScreen:Pt,allowPaymentRequest:Pt,allowUserMedia:Pt,alt:null,as:null,async:Pt,autoCapitalize:null,autoComplete:zt,autoFocus:Pt,autoPlay:Pt,capture:Pt,charSet:null,checked:Pt,cite:null,className:zt,cols:Bt,colSpan:null,content:null,contentEditable:Ot,controls:Pt,controlsList:zt,coords:Bt|Wt,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pt,defer:Pt,dir:null,dirName:null,disabled:Pt,download:Ft,draggable:Ot,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pt,formTarget:null,headers:zt,height:Bt,hidden:Pt,high:Bt,href:null,hrefLang:null,htmlFor:zt,httpEquiv:zt,id:null,imageSizes:null,imageSrcSet:Wt,inputMode:null,integrity:null,is:null,isMap:Pt,itemId:null,itemProp:zt,itemRef:zt,itemScope:Pt,itemType:zt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pt,low:Bt,manifest:null,max:null,maxLength:Bt,media:null,method:null,min:null,minLength:Bt,multiple:Pt,muted:Pt,name:null,nonce:null,noModule:Pt,noValidate:Pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pt,optimum:Bt,pattern:null,ping:zt,placeholder:null,playsInline:Pt,poster:null,preload:null,readOnly:Pt,referrerPolicy:null,rel:zt,required:Pt,reversed:Pt,rows:Bt,rowSpan:Bt,sandbox:zt,scope:null,scoped:Pt,seamless:Pt,selected:Pt,shape:null,size:Bt,sizes:null,slot:null,span:Bt,spellCheck:Ot,src:null,srcDoc:null,srcLang:null,srcSet:Wt,start:Bt,step:null,style:null,tabIndex:Bt,target:null,title:null,translate:null,type:null,typeMustMatch:Pt,useMap:null,value:Ot,width:Bt,wrap:null,align:null,aLink:null,archive:zt,axis:null,background:null,bgColor:null,border:Bt,borderColor:null,bottomMargin:Bt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pt,declare:Pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Bt,leftMargin:Bt,link:null,longDesc:null,lowSrc:null,marginHeight:Bt,marginWidth:Bt,noResize:Pt,noHref:Pt,noShade:Pt,noWrap:Pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Bt,rules:null,scheme:null,scrolling:Ot,standby:null,summary:null,text:null,topMargin:Bt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Bt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pt,disableRemotePlayback:Pt,prefix:null,property:null,results:Bt,security:null,unselectable:null}}),tn=Zt({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Jt,properties:{about:Ht,accentHeight:Bt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Bt,amplitude:Bt,arabicForm:null,ascent:Bt,attributeName:null,attributeType:null,azimuth:Bt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Bt,by:null,calcMode:null,capHeight:Bt,className:zt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Bt,diffuseConstant:Bt,direction:null,display:null,dur:null,divisor:Bt,dominantBaseline:null,download:Pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Bt,enableBackground:null,end:null,event:null,exponent:Bt,externalResourcesRequired:null,fill:null,fillOpacity:Bt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wt,g2:Wt,glyphName:Wt,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Bt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Bt,horizOriginX:Bt,horizOriginY:Bt,id:null,ideographic:Bt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Bt,k:Bt,k1:Bt,k2:Bt,k3:Bt,k4:Bt,kernelMatrix:Ht,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Bt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Bt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Bt,overlineThickness:Bt,paintOrder:null,panose1:null,path:null,pathLength:Bt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:zt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Bt,pointsAtY:Bt,pointsAtZ:Bt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ht,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ht,rev:Ht,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ht,requiredFeatures:Ht,requiredFonts:Ht,requiredFormats:Ht,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Bt,specularExponent:Bt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Bt,strikethroughThickness:Bt,string:null,stroke:null,strokeDashArray:Ht,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Bt,strokeOpacity:Bt,strokeWidth:null,style:null,surfaceScale:Bt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ht,tabIndex:Bt,tableValues:null,target:null,targetX:Bt,targetY:Bt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ht,to:null,transform:null,u1:null,u2:null,underlinePosition:Bt,underlineThickness:Bt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Bt,values:null,vAlphabetic:Bt,vMathematical:Bt,vectorEffect:null,vHanging:Bt,vIdeographic:Bt,version:null,vertAdvY:Bt,vertOriginX:Bt,vertOriginY:Bt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Bt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),nn=/^data[-\w.:]+$/i,rn=/-[a-z]/g,on=/[A-Z]/g;function an(e,t){var n=It(t),r=t,i=Mt;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&"data"===n.slice(0,4)&&nn.test(t)&&("-"===t.charAt(4)?r=function(e){var t=e.slice(5).replace(rn,ln);return"data"+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);if(rn.test(t))return e;"-"!==(t=t.replace(on,sn)).charAt(0)&&(t="-"+t);return"data"+t}(t),i=Kt),new i(r,t))}function sn(e){return"-"+e.toLowerCase()}function ln(e){return e.charAt(1).toUpperCase()}var un=Dt([Qt,Gt,Xt,$t,en],"html"),cn=Dt([Qt,Gt,Xt,$t,tn],"svg");function dn(e,n){switch(e.type){case"root":return function(e,n){for(var r,i=n.doc,o=n.fragment,a=n.namespace,s=e.children,u=void 0===s?[]:s,c=u.length,d=a,h=0===c,f=0;f<c;f+=1){var p=u[f];if("element"===p.type&&"html"===p.tagName){var g=p.properties;h=!0,void 0===a&&(d=String((void 0===g?{}:g).xmlns||"")||wt.html)}}r=h?i.implementation.createDocument(d,"",null):o?i.createDocumentFragment():i.createElement("html");return fn(r,u,t(l)({},n,{fragment:o,namespace:d,impliedNamespace:d}))}(e,n);case"text":return function(e,t){return t.doc.createTextNode(e.value)}(e,n);case"element":return hn(e,n);case"doctype":return n.doc.implementation.createDocumentType("html","","");case"comment":return function(e,t){return t.doc.createComment(e.value)}(e,n);default:return hn(e,n)}}function hn(e,n){var r=n.namespace,i=n.doc,o=n.impliedNamespace||r,a=e.tagName,s=void 0===a?o===wt.svg?"g":"div":a,u=e.properties,c=void 0===u?{}:u,d=e.children,h=void 0===d?[]:d;null!=o&&o!==wt.html||"svg"!==s||(o=wt.svg);for(var f=o===wt.svg?cn:un,p=null==o?i.createElement(s):i.createElementNS(o,s),g=Object.keys(c),v=g.length,m=0;m<v;m+=1){var y=g[m],b=an(f,y),_=b.attribute,k=b.property,C=b.mustUseProperty,x=b.boolean,w=b.booleanish,S=b.overloadedBoolean,E=b.commaSeparated,D=c[y];Array.isArray(D)&&(D=D.join(E?", ":" ")),C&&(p[k]=D),x||S&&"boolean"==typeof D?D?p.setAttribute(_,""):p.removeAttribute(_):w?p.setAttribute(_,String(D)):!0===D?p.setAttribute(_,""):(D||0===D||""===D)&&p.setAttribute(_,String(D))}return fn(p,h,t(l)({},n,{impliedNamespace:o}))}function fn(e,t,n){for(var r=-1;++r<t.length;)e.appendChild(dn(t[r],n));return e}function pn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.document,i=void 0===r?document:r,o=t(kt)(n,["document"]);return dn(e,t(l)({doc:i},o))}var gn=new RegExp(' xmlns="'.concat(wt.html,'"'),"g");M=o("hFMTy");var vn=function(e){if(null==e)return yn;if("string"==typeof e)return function(e){return mn(t);function t(t){return t&&t.type===e}}(e);if("object"==typeof e)return Array.isArray(e)?function(e){var n=[],r=-1;for(;++r<e.length;)n[r]=vn(e[r]);return mn(i);function i(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var o=-1;++o<n.length;){var a;if((a=n[o]).call.apply(a,[this].concat(t(M)(r))))return!0}return!1}}(e):function(e){return mn(t);function t(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"==typeof e)return mn(e);throw new Error("Expected function, string, or object as test")};function mn(e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o;return Boolean((o=e).call.apply(o,[this].concat(t(M)(r))))}}function yn(){return!0}var bn=function(e,t,n,r){"function"==typeof t&&"function"!=typeof n&&(r=n,n=t,t=null);var i=vn(t),o=r?-1:1;!function e(a,s,l){var u,c="object"==typeof a&&null!==a?a:{};"string"==typeof c.type&&(u="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+c.type+(u?"<"+u+">":"")+")"}));return d;function d(){var u,c,d,h=[];if((!t||i(a,s,l[l.length-1]||null))&&false===(h=function(e){return Array.isArray(e)?e:"number"==typeof e?[true,e]:[e]}(n(a,l)))[0])return h;if(a.children&&"skip"!==h[0])for(c=(r?a.children.length:-1)+o,d=l.concat(a);c>-1&&c<a.children.length;){if(false===(u=e(a.children[c],c,d)())[0])return u;c="number"==typeof u[1]?u[1]:c+o}return h}}(e,null,[])()};var _n=function(e,t,n,r){"function"==typeof t&&"function"!=typeof n&&(r=n,n=t,t=null),bn(e,t,(function(e,t){var r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)},kn=function(e){var t,n;if("element"===e.type){var r=null!==(n=null===(t=e.position)||void 0===t?void 0:t.start.line)&&void 0!==n?n:"null";void 0===e.properties&&(e.properties={}),e.properties["data-line"]=r}},Cn=function(e){_n(e,"element",kn)};function xn(e,t,n,r){var i,o=e.length,a=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)(i=Array.from(r)).unshift(t,n),[].splice.apply(e,i);else for(n&&[].splice.apply(e,[t,n]);a<r.length;)(i=r.slice(a,a+1e4)).unshift(t,0),[].splice.apply(e,i),a+=1e4,t+=1e4}function wn(e,t){return e.length>0?(xn(e,e.length,0,t),e):t}var Sn={}.hasOwnProperty;function En(e){for(var t={},n=-1;++n<e.length;)Dn(t,e[n]);return t}function Dn(e,t){var n;for(n in t){var r=(Sn.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n],o=void 0;for(o in i){Sn.call(r,o)||(r[o]=[]);var a=i[o];In(r[o],Array.isArray(a)?a:a?[a]:[])}}}function In(e,t){for(var n=-1,r=[];++n<t.length;)("after"===t[n].add?e:r).push(t[n]);xn(e,0,0,r)}var Rn=Hn(/[A-Za-z]/),Ln=Hn(/\d/),An=Hn(/[\dA-Fa-f]/),Mn=Hn(/[\dA-Za-z]/),Tn=Hn(/[!-/:-@[-`{-~]/),Nn=Hn(/[#-'*+\--9=?A-Z^-~]/);function Pn(e){return null!==e&&(e<32||127===e)}function On(e){return null!==e&&(e<0||32===e)}function Fn(e){return null!==e&&e<-2}function Bn(e){return-2===e||-1===e||32===e}var zn=Hn(/\s/),Wn=Hn(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function Hn(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}for(var Vn={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(t){return 87===t||119===t?(e.consume(t),i):n(t)}function i(t){return 87===t||119===t?(e.consume(t),o):n(t)}function o(t){return 46===t?(e.consume(t),a):n(t)}function a(e){return null===e||Fn(e)?n(e):t(e)}},partial:!0},jn={tokenize:function(e,t,n){var r,i;return o;function o(t){return 38===t?e.check(qn,s,a)(t):46===t||95===t?e.check(Un,s,a)(t):null===t||Pn(t)||zn(t)||45!==t&&Wn(t)?s(t):(e.consume(t),o)}function a(t){return 46===t?(i=r,r=void 0,e.consume(t),o):(95===t&&(r=!0),e.consume(t),o)}function s(e){return i||r?n(e):t(e)}},partial:!0},Kn={tokenize:function(e,t){var n=0;return r;function r(a){return 38===a?e.check(qn,t,i)(a):(40===a&&n++,41===a?e.check(Un,o,i)(a):er(a)?t(a):$n(a)?e.check(Un,t,i)(a):(e.consume(a),r))}function i(t){return e.consume(t),r}function o(e){return--n<0?t(e):i(e)}},partial:!0},Un={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(i){return $n(i)?(e.consume(i),r):er(i)?t(i):n(i)}},partial:!0},qn={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(t){return Rn(t)?(e.consume(t),r):59===t?(e.consume(t),i):n(t)}function i(e){return er(e)?t(e):n(e)}},partial:!0},Zn={tokenize:function(e,t,n){var r=this;return function(t){if(87!==t&&119!==t||!nr(r.previous)||or(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Vn,e.attempt(jn,e.attempt(Kn,i),n),n)(t)};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:nr},Gn={tokenize:function(e,t,n){var r=this;return function(t){if(72!==t&&104!==t||!rr(r.previous)||or(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),e.consume(t),i};function i(t){return 84===t||116===t?(e.consume(t),o):n(t)}function o(t){return 84===t||116===t?(e.consume(t),a):n(t)}function a(t){return 80===t||112===t?(e.consume(t),s):n(t)}function s(t){return 83===t||115===t?(e.consume(t),l):l(t)}function l(t){return 58===t?(e.consume(t),u):n(t)}function u(t){return 47===t?(e.consume(t),c):n(t)}function c(t){return 47===t?(e.consume(t),d):n(t)}function d(t){return null===t||Pn(t)||zn(t)||Wn(t)?n(t):e.attempt(jn,e.attempt(Kn,h),n)(t)}function h(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:rr},Qn={tokenize:function(e,t,n){var r,i,o=this;return function(t){if(!tr(t)||!ir(o.previous)||or(o.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(t)};function a(t){return tr(t)?(e.consume(t),a):64===t?(e.consume(t),s):n(t)}function s(t){return 46===t?e.check(Un,d,l)(t):45===t||95===t?e.check(Un,n,u)(t):Mn(t)?(!i&&Ln(t)&&(i=!0),e.consume(t),s):d(t)}function l(t){return e.consume(t),r=!0,i=void 0,s}function u(t){return e.consume(t),c}function c(t){return 46===t?e.check(Un,n,l)(t):s(t)}function d(o){return r&&!i?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(o)):n(o)}},previous:ir},Jn={},Yn={text:Jn},Xn=48;Xn<123;)Jn[Xn]=Qn,58===++Xn?Xn=65:91===Xn&&(Xn=97);function $n(e){return 33===e||34===e||39===e||41===e||42===e||44===e||46===e||58===e||59===e||60===e||63===e||95===e||126===e}function er(e){return null===e||60===e||On(e)}function tr(e){return 43===e||45===e||46===e||95===e||Mn(e)}function nr(e){return null===e||40===e||42===e||95===e||126===e||On(e)}function rr(e){return null===e||!Rn(e)}function ir(e){return 47!==e&&rr(e)}function or(e){for(var t=e.length,n=!1;t--;){var r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}Jn[43]=Qn,Jn[45]=Qn,Jn[46]=Qn,Jn[95]=Qn,Jn[72]=[Qn,Gn],Jn[104]=[Qn,Gn],Jn[87]=[Qn,Zn],Jn[119]=[Qn,Zn];var ar={'"':"quot","&":"amp","<":"lt",">":"gt"};function sr(e,t){var n=function(e){for(var t=[],n=-1,r=0,i=0;++n<e.length;){var o=e.charCodeAt(n),a="";if(37===o&&Mn(e.charCodeAt(n+1))&&Mn(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){var s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="�"}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}(e||"").replace(/["&<>]/g,(function(e){return"&"+ar[e]+";"}));if(!t)return n;var r=n.indexOf(":"),i=n.indexOf("?"),o=n.indexOf("#"),a=n.indexOf("/");return r<0||a>-1&&r>a||i>-1&&r>i||o>-1&&r>o||t.test(n.slice(0,r))?n:""}var lr=o("5T0Qd");M=o("hFMTy");function ur(e,t,n,r){var i=r?r-1:Number.POSITIVE_INFINITY,o=0;return function(r){if(Bn(r))return e.enter(n),a(r);return t(r)};function a(r){return Bn(r)&&o++<i?(e.consume(r),a):(e.exit(n),t(r))}}var cr={tokenize:function(e,t,n){return ur(e,(function(e){return null===e||Fn(e)?t(e):n(e)}),"linePrefix")},partial:!0};function dr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var hr={tokenize:function(e,t,n){var r=this;return ur(e,(function(e){var i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?t(e):n(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function fr(e,t,n){for(var r,i=this,o=i.events.length,a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);o--;){var s=i.events[o][1];if("labelImage"===s.type){r=s;break}if("gfmFootnoteCall"===s.type||"labelLink"===s.type||"label"===s.type||"image"===s.type||"link"===s.type)break}return function(o){if(!r||!r._balanced)return n(o);var s=dr(i.sliceSerialize({start:r.end,end:i.now()}));if(94!==s.charCodeAt(0)||!a.includes(s.slice(1)))return n(o);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),t(o)}}function pr(e,n){for(var r,i=e.length;i--;)if("labelImage"===e[i][1].type&&"enter"===e[i][0]){e[i][1];break}e[i+1][1].type="data",e[i+3][1].type="gfmFootnoteCallLabelMarker";var o={type:"gfmFootnoteCall",start:Object.assign({},e[i+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[i+3][1].end),end:Object.assign({},e[i+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;var s={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},u=[e[i+1],e[i+2],["enter",o,n],e[i+3],e[i+4],["enter",a,n],["exit",a,n],["enter",s,n],["enter",l,n],["exit",l,n],["exit",s,n],e[e.length-2],e[e.length-1],["exit",o,n]];return(r=e).splice.apply(r,[i,e.length-i+1].concat(t(M)(u))),e}function gr(e,t,n){var r,i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]),a=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),s};function s(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(s){var c;return null===s||91===s||a++>999?n(s):93===s?r?(e.exit("chunkString"),c=e.exit("gfmFootnoteCallString"),o.includes(dr(i.sliceSerialize(c)))?function(n){return e.enter("gfmFootnoteCallLabelMarker"),e.consume(n),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t}(s):n(s)):n(s):(e.consume(s),On(s)||(r=!0),92===s?u:l)}function u(t){return 91===t||92===t||93===t?(e.consume(t),a++,l):l(t)}}function vr(e,t,n){var r,i,o=this,a=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]),s=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),u):n(t)}function u(t){var a;return null===t||91===t||s>999?n(t):93===t?i?(a=e.exit("gfmFootnoteDefinitionLabelString"),r=dr(o.sliceSerialize(a)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h):n(t):Fn(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s++,u):(e.enter("chunkString").contentType="string",c(t))}function c(t){return null===t||Fn(t)||91===t||93===t||s>999?(e.exit("chunkString"),u(t)):(On(t)||(i=!0),s++,e.consume(t),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),s++,c):c(t)}function h(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),ur(e,f,"gfmFootnoteDefinitionWhitespace")):n(t)}function f(e){return a.includes(r)||a.push(r),t(e)}}function mr(e,t,n){return e.check(cr,t,e.attempt(hr,t,n))}function yr(e){e.exit("gfmFootnoteDefinition")}lr=o("5T0Qd");function br(e){return null===e||On(e)||zn(e)?1:Wn(e)?2:void 0}function _r(e,t,n){for(var r=[],i=-1;++i<e.length;){var o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.singleTilde,r={tokenize:o,resolveAll:i};return null==n&&(n=!0),{text:t(lr)({},126,r),insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(e,t){for(var n,r,i,o,a=-1;++a<e.length;)if("enter"===e[a][0]&&"strikethroughSequenceTemporary"===e[a][1].type&&e[a][1]._close)for(i=a;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[a][1].end.offset-e[a][1].start.offset==e[i][1].end.offset-e[i][1].start.offset){e[a][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence",n={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[a][1].end)},r={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[a][1].start)},xn(o=[["enter",n,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",r,t]],o.length,0,_r(t.parser.constructs.insideSpan.null,e.slice(i+1,a),t)),xn(o,o.length,0,[["exit",r,t],["enter",e[a][1],t],["exit",e[a][1],t],["exit",n,t]]),xn(e,i-1,a-i+3,o),a=i+o.length-2;break}for(a=-1;++a<e.length;)"strikethroughSequenceTemporary"===e[a][1].type&&(e[a][1].type="data");return e}function o(e,t,r){var i=this.previous,o=this.events,a=0;return function(t){if(126!==t||126===i&&"characterEscape"!==o[o.length-1][1].type)return r(t);return e.enter("strikethroughSequenceTemporary"),s(t)};function s(o){var l=br(i);if(126===o)return a>1?r(o):(e.consume(o),a++,s);if(a<2&&!n)return r(o);var u=e.exit("strikethroughSequenceTemporary"),c=br(o);return u._open=!c||2===c&&Boolean(l),u._close=!l||2===l&&Boolean(c),t(o)}}}var Cr={flow:{null:{tokenize:function(e,t,n){var r,i,o=this,a=[],s=0;return function(t){if(e.enter("table")._align=a,e.enter("tableHead"),e.enter("tableRow"),124===t)return l(t);return s++,e.enter("temporaryTableCellContent"),d(t)};function l(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,u}function u(t){return null===t||Fn(t)?function(t){if(null===t)return n(t);return e.exit("tableRow"),e.exit("tableHead"),e.attempt({tokenize:L,partial:!0},f,n)(t)}(t):Bn(t)?(e.enter("whitespace"),e.consume(t),c):(r&&(r=void 0,s++),124===t?l(t):(e.enter("temporaryTableCellContent"),d(t)))}function c(t){return Bn(t)?(e.consume(t),c):(e.exit("whitespace"),u(t))}function d(t){return null===t||124===t||On(t)?(e.exit("temporaryTableCellContent"),u(t)):(e.consume(t),92===t?h:d)}function h(t){return 92===t||124===t?(e.consume(t),d):d(t)}function f(t){return e.check(xr,n,ur(e,p,"linePrefix",4))(t)}function p(t){return null===t||On(t)?n(t):(e.enter("tableDelimiterRow"),g(t))}function g(t){return null===t||Fn(t)?_(t):Bn(t)?(e.enter("whitespace"),e.consume(t),v):45===t?(e.enter("tableDelimiterFiller"),e.consume(t),i=!0,a.push(null),m):58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),a.push("left"),y):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):n(t)}function v(t){return Bn(t)?(e.consume(t),v):(e.exit("whitespace"),g(t))}function m(t){return 45===t?(e.consume(t),m):(e.exit("tableDelimiterFiller"),58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),a[a.length-1]="left"===a[a.length-1]?"center":"right",b):g(t))}function y(t){return 45===t?(e.enter("tableDelimiterFiller"),e.consume(t),i=!0,m):n(t)}function b(t){return null===t||Fn(t)?_(t):Bn(t)?(e.enter("whitespace"),e.consume(t),v):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):n(t)}function _(t){return e.exit("tableDelimiterRow"),i&&s===a.length?null===t?k(t):e.check(wr,k,e.attempt({tokenize:L,partial:!0},ur(e,C,"linePrefix",4),k))(t):n(t)}function k(n){return e.exit("table"),t(n)}function C(t){return e.enter("tableBody"),x(t)}function x(t){return e.enter("tableRow"),124===t?w(t):(e.enter("temporaryTableCellContent"),D(t))}function w(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),S}function S(t){return null===t||Fn(t)?function(t){if(e.exit("tableRow"),null===t)return R(t);return e.check(wr,R,e.attempt({tokenize:L,partial:!0},ur(e,x,"linePrefix",4),R))(t)}(t):Bn(t)?(e.enter("whitespace"),e.consume(t),E):124===t?w(t):(e.enter("temporaryTableCellContent"),D(t))}function E(t){return Bn(t)?(e.consume(t),E):(e.exit("whitespace"),S(t))}function D(t){return null===t||124===t||On(t)?(e.exit("temporaryTableCellContent"),S(t)):(e.consume(t),92===t?I:D)}function I(t){return 92===t||124===t?(e.consume(t),D):D(t)}function R(t){return e.exit("tableBody"),k(t)}function L(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return o.parser.lazy[o.now().line]?n(e):t(e)}}},resolve:function(e,t){var n,r,i,o,a,s,l,u,c,d,h=-1;for(;++h<e.length;)n=e[h][1],o&&("temporaryTableCellContent"===n.type&&(u=u||h,c=h),"tableCellDivider"!==n.type&&"tableRow"!==n.type||!c||(s={type:"tableContent",start:e[u][1].start,end:e[c][1].end},l={type:"chunkText",start:s.start,end:s.end,contentType:"text"},e.splice(u,c-u+1,["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]),h-=c-u-3,u=void 0,c=void 0)),"exit"===e[h][0]&&d&&d+1<h&&("tableCellDivider"===n.type||"tableRow"===n.type&&(d+3<h||"whitespace"!==e[d][1].type))&&(a={type:i?"tableDelimiter":r?"tableHeader":"tableData",start:e[d][1].start,end:e[h][1].end},e.splice(h+("tableCellDivider"===n.type?1:0),0,["exit",a,t]),e.splice(d,0,["enter",a,t]),d=(h+=2)+1),"tableRow"===n.type&&(o="enter"===e[h][0])&&(d=h+1),"tableDelimiterRow"===n.type&&(i="enter"===e[h][0])&&(d=h+1),"tableHead"===n.type&&(r="enter"===e[h][0]);return e}}}},xr={tokenize:function(e,t,n){return function(t){if(45!==t)return n(t);return e.enter("setextUnderline"),r(t)};function r(t){return 45===t?(e.consume(t),r):i(t)}function i(r){return null===r||Fn(r)?t(r):Bn(r)?(e.consume(r),i):n(r)}},partial:!0},wr={tokenize:function(e,t,n){var r=0;return function(t){return e.enter("check"),e.consume(t),i};function i(o){return-1===o||32===o?(e.consume(o),4===++r?t:i):null===o||On(o)?t(o):n(o)}},partial:!0};var Sr=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|title|textarea|xmp)(?=[\t\n\f\r />])/gi;new RegExp("^"+Sr.source,"i");var Er={tokenize:function(e,t,n){var r=this;return function(t){if(null!==r.previous||!r._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i};function i(t){return Bn(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),o):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),o):n(t)}function o(r){return 93===r?(e.enter("taskListCheckMarker"),e.consume(r),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),e.check({tokenize:Ir},t,n)):n(r)}}},Dr={text:t(lr=o("5T0Qd"))({},91,Er)};function Ir(e,t,n){var r=this;return ur(e,(function(e){var i=r.events[r.events.length-1];return i&&"whitespace"===i[1].type&&null!==e&&!On(e)?t(e):n(e)}),"whitespace")}function Rr(e){return En([Yn,{document:t(lr)({},91,{tokenize:vr,continuation:{tokenize:mr},exit:yr}),text:(n={},t(lr)(n,91,{tokenize:gr}),t(lr)(n,93,{add:"after",tokenize:fr,resolveTo:pr}),n)},kr(e),Cr,Dr]);var n}function Lr(e,t){var n,r=String(e),i=0;if("string"!=typeof t)throw new Error("Expected character");for(n=r.indexOf(t);-1!==n;)i++,n=r.indexOf(t,n+t.length);return i}M=o("hFMTy");function Ar(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var Mr=function(e,t,n,r){"function"==typeof t&&"function"!=typeof n&&(r=n,n=t,t=null);var i=vn(t),o=r?-1:1;!function e(a,s,l){var u,c="object"==typeof a&&null!==a?a:{};"string"==typeof c.type&&(u="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+c.type+(u?"<"+u+">":"")+")"}));return d;function d(){var u,c,d,h=[];if((!t||i(a,s,l[l.length-1]||null))&&false===(h=function(e){return Array.isArray(e)?e:"number"==typeof e?[true,e]:[e]}(n(a,l)))[0])return h;if(a.children&&"skip"!==h[0])for(c=(r?a.children.length:-1)+o,d=l.concat(a);c>-1&&c<a.children.length;){if(false===(u=e(a.children[c],c,d)())[0])return u;c="number"==typeof u[1]?u[1]:c+o}return h}}(e,null,[])()};var Tr={}.hasOwnProperty,Nr=function(e,n,r,i){var o,a;"string"==typeof n||n instanceof RegExp?(a=[[n,r]],o=i):(a=n,o=r),o||(o={});for(var s=vn(o.ignore||[]),l=function(e){var t=[];if("object"!=typeof e)throw new TypeError("Expected array or object as schema");if(Array.isArray(e))for(var n=-1;++n<e.length;)t.push([Pr(e[n][0]),Or(e[n][1])]);else{var r;for(r in e)Tr.call(e,r)&&t.push([Pr(r),Or(e[r])])}return t}(a),u=-1;++u<l.length;)Mr(e,"text",c);return e;function c(e,n){for(var r,i=-1;++i<n.length;){var o=n[i];if(s(o,r?r.children.indexOf(o):void 0,r))return;r=o}if(r)return function(e,n){var r,i=l[u][0],o=l[u][1],a=0,s=n.children.indexOf(e),c=[];i.lastIndex=0;var d=i.exec(e.value);for(;d;){r=d.index;var h=o.apply(void 0,t(M)(d).concat([{index:d.index,input:d.input}]));if("string"==typeof h&&(h=h.length>0?{type:"text",value:h}:void 0),!1!==h){var f;if(a!==r&&c.push({type:"text",value:e.value.slice(a,r)}),Array.isArray(h))(f=c).push.apply(f,t(M)(h));else h&&c.push(h);a=r+d[0].length}if(!i.global)break;d=i.exec(e.value)}if(void 0===r)c=[e],s--;else{var p;a<e.value.length&&c.push({type:"text",value:e.value.slice(a)}),(p=n.children).splice.apply(p,[s,1].concat(t(M)(c)))}return s+c.length+1}(e,r)}};function Pr(e){return"string"==typeof e?new RegExp(Ar(e),"g"):e}function Or(e){return"function"==typeof e?e:function(){return e}}var Fr="phrasing",Br=["autolink","link","image","label"],zr={transforms:[function(e){Nr(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Vr],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,jr]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:Hr,literalAutolinkHttp:Hr,literalAutolinkWww:Hr},exit:{literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(e)}}},Wr={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Fr,notInConstruct:Br},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Fr,notInConstruct:Br},{character:":",before:"[ps]",after:"\\/",inConstruct:Fr,notInConstruct:Br}]};function Hr(e){this.config.enter.autolinkProtocol.call(this,e)}function Vr(e,t,n,r,i){var o="";if(!Kr(i))return!1;if(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!function(e){var t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n))return!1;var a=function(e){var t,n,r,i,o=/[!"&'),.:;<>?\]}]+$/.exec(e);if(o)for(e=e.slice(0,o.index),t=(i=o[0]).indexOf(")"),n=Lr(e,"("),r=Lr(e,")");-1!==t&&n>r;)e+=i.slice(0,t+1),t=(i=i.slice(t+1)).indexOf(")"),r++;return[e,i]}(n+r);if(!a[0])return!1;var s={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function jr(e,t,n,r){return!(!Kr(r,!0)||/[_-]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Kr(e,t){var n=e.input.charCodeAt(e.index-1);return(0===e.index||zn(n)||Wn(n))&&(!t||47!==n)}l=o("aJy7o");var Ur={AEli:"Æ",AElig:"Æ",AM:"&",AMP:"&",Aacut:"Á",Aacute:"Á",Abreve:"Ă",Acir:"Â",Acirc:"Â",Acy:"А",Afr:"𝔄",Agrav:"À",Agrave:"À",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",Arin:"Å",Aring:"Å",Ascr:"𝒜",Assign:"≔",Atild:"Ã",Atilde:"Ã",Aum:"Ä",Auml:"Ä",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",COP:"©",COPY:"©",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccedi:"Ç",Ccedil:"Ç",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",CenterDot:"·",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"𝔻",Dot:"¨",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",ET:"Ð",ETH:"Ð",Eacut:"É",Eacute:"É",Ecaron:"Ě",Ecir:"Ê",Ecirc:"Ê",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Egrav:"È",Egrave:"È",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Eum:"Ë",Euml:"Ë",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"𝔽",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",G:">",GT:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacut:"Í",Iacute:"Í",Icir:"Î",Icirc:"Î",Icy:"И",Idot:"İ",Ifr:"ℑ",Igrav:"Ì",Igrave:"Ì",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Ium:"Ï",Iuml:"Ï",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",L:"<",LT:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"𝕃",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",MinusPlus:"∓",Mopf:"𝕄",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"𝒩",Ntild:"Ñ",Ntilde:"Ñ",Nu:"Ν",OElig:"Œ",Oacut:"Ó",Oacute:"Ó",Ocir:"Ô",Ocirc:"Ô",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Ograv:"Ò",Ograve:"Ò",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"𝒪",Oslas:"Ø",Oslash:"Ø",Otild:"Õ",Otilde:"Õ",Otimes:"⨷",Oum:"Ö",Ouml:"Ö",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"𝒫",Psi:"Ψ",QUO:'"',QUOT:'"',Qfr:"𝔔",Qopf:"ℚ",Qscr:"𝒬",RBarr:"⤐",RE:"®",REG:"®",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"𝕊",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"𝒮",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",THOR:"Þ",THORN:"Þ",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"\t",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"𝕋",TripleDot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uacut:"Ú",Uacute:"Ú",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucir:"Û",Ucirc:"Û",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Ugrav:"Ù",Ugrave:"Ù",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",Uum:"Ü",Uuml:"Ü",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacut:"Ý",Yacute:"Ý",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"𝒵",aacut:"á",aacute:"á",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acir:"â",acirc:"â",acut:"´",acute:"´",acy:"а",aeli:"æ",aelig:"æ",af:"⁡",afr:"𝔞",agrav:"à",agrave:"à",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",am:"&",amp:"&",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",aopf:"𝕒",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",arin:"å",aring:"å",ascr:"𝒶",ast:"*",asymp:"≈",asympeq:"≍",atild:"ã",atilde:"ã",aum:"ä",auml:"ä",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",brvba:"¦",brvbar:"¦",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccedi:"ç",ccedil:"ç",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cedi:"¸",cedil:"¸",cemptyv:"⦲",cen:"¢",cent:"¢",centerdot:"·",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"𝕔",coprod:"∐",cop:"©",copy:"©",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curre:"¤",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",de:"°",deg:"°",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",digamma:"ϝ",disin:"⋲",div:"÷",divid:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",eacut:"é",eacute:"é",easter:"⩮",ecaron:"ě",ecir:"ê",ecirc:"ê",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",eg:"⪚",egrav:"è",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",et:"ð",eth:"ð",eum:"ë",euml:"ë",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac1:"¼",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac3:"¾",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",g:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",iacut:"í",iacute:"í",ic:"⁣",icir:"î",icirc:"î",icy:"и",iecy:"е",iexc:"¡",iexcl:"¡",iff:"⇔",ifr:"𝔦",igrav:"ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iprod:"⨼",iques:"¿",iquest:"¿",iscr:"𝒾",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",ium:"ï",iuml:"ï",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",laqu:"«",laquo:"«",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",l:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",mac:"¯",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"𝔪",mho:"℧",micr:"µ",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middo:"·",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",mp:"∓",mscr:"𝓂",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbs:" ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"𝕟",no:"¬",not:"¬",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntild:"ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oacut:"ó",oacute:"ó",oast:"⊛",ocir:"ô",ocirc:"ô",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ograv:"ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"º",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",oslas:"ø",oslash:"ø",osol:"⊘",otild:"õ",otilde:"õ",otimes:"⊗",otimesas:"⨶",oum:"ö",ouml:"ö",ovbar:"⌽",par:"¶",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plusm:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",pointint:"⨕",popf:"𝕡",poun:"£",pound:"£",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qint:"⨌",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quo:'"',quot:'"',rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raqu:"»",raquo:"»",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",re:"®",reg:"®",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"𝓇",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",sec:"§",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",sh:"­",shy:"­",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",szli:"ß",szlig:"ß",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",thor:"þ",thorn:"þ",tilde:"˜",time:"×",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uacut:"ú",uacute:"ú",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucir:"û",ucirc:"û",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",ugrav:"ù",ugrave:"ù",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",um:"¨",uml:"¨",uogon:"ų",uopf:"𝕦",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uum:"ü",uuml:"ü",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",vprop:"∝",vrtri:"⊳",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"𝔴",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacut:"ý",yacute:"ý",yacy:"я",ycirc:"ŷ",ycy:"ы",ye:"¥",yen:"¥",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",yum:"ÿ",yuml:"ÿ",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},qr={}.hasOwnProperty;function Zr(e,t){var n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"�":String.fromCharCode(n)}var Gr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Qr(e,t,n){if(t)return t;var r;if(35===n.charCodeAt(0)){var i=n.charCodeAt(1),o=120===i||88===i;return Zr(n.slice(o?2:1),o?16:10)}return r=n,!!qr.call(Ur,r)&&Ur[r]||e}function Jr(e){return e.label||!e.identifier?e.label||"":e.identifier.replace(Gr,Qr)}l=o("aJy7o");function Yr(e){var t=e||{},n=t.now||{},r=t.lineShift||0,i=n.line||1,o=n.column||1;return{move:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split(/\r?\n|\r/g),n=t[t.length-1];return i+=t.length-1,o=1===t.length?o+n.length:1+n.length+r,e},current:function(){return{now:{line:i,column:o},lineShift:r}},shift:function(e){r+=e}}}function Xr(e,n,r){var i=n.indexStack,o=e.children||[],a=Yr(r),s=[],u=-1;for(i.push(-1);++u<o.length;){var c=o[u];i[i.length-1]=u,s.push(a.move(n.handle(c,e,n,t(l)({before:"\n",after:"\n"},a.current())))),"list"!==c.type&&(n.bulletLastUsed=void 0),u<o.length-1&&s.push(a.move(d(c,o[u+1])))}return i.pop(),s.join("");function d(t,r){for(var i=n.join.length;i--;){var o=n.join[i](t,r,e,n);if(!0===o||1===o)break;if("number"==typeof o)return"\n".repeat(1+o);if(!1===o)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}var $r=/\r?\n|\r/g;function ei(e,t){for(var n,r=[],i=0,o=0;n=$r.exec(e);)a(e.slice(i,n.index)),r.push(n[0]),i=n.index+n[0].length,o++;return a(e.slice(i)),r.join("");function a(e){r.push(t(e,o,!e))}}function ti(e){if(!e._compiled){var t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function ni(e,t){return ri(e,t.inConstruct,!0)&&!ri(e,t.notInConstruct,!1)}function ri(e,t,n){if(!t)return n;"string"==typeof t&&(t=[t]);for(var r=-1;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ii(e,t,n){for(var r=(n.before||"")+(t||"")+(n.after||""),i=[],o=[],a={},s=-1;++s<e.unsafe.length;){var l=e.unsafe[s];if(ni(e.stack,l))for(var u=ti(l),c=void 0;c=u.exec(r);){var d="before"in l||Boolean(l.atBreak),h="after"in l,f=c.index+(d?c[1].length:0);i.includes(f)?(a[f].before&&!d&&(a[f].before=!1),a[f].after&&!h&&(a[f].after=!1)):(i.push(f),a[f]={before:d,after:h})}}i.sort(oi);var p=n.before?n.before.length:0,g=r.length-(n.after?n.after.length:0);for(s=-1;++s<i.length;){var v=i[s];v<p||v>=g||(v+1<g&&i[s+1]===v+1&&a[v].after&&!a[v+1].before&&!a[v+1].after||i[s-1]===v-1&&a[v].before&&!a[v-1].before&&!a[v-1].after||(p!==v&&o.push(ai(r.slice(p,v),"\\")),p=v,!/[!-/:-@[-`{-~]/.test(r.charAt(v))||n.encode&&n.encode.includes(r.charAt(v))?(o.push("&#x"+r.charCodeAt(v).toString(16).toUpperCase()+";"),p++):o.push("\\")))}return o.push(ai(r.slice(p,g),n.after)),o.join("")}function oi(e,t){return e-t}function ai(e,t){for(var n,r=/\\(?=[!-/:-@[-`{-~])/g,i=[],o=[],a=e+t,s=-1,l=0;n=r.exec(a);)i.push(n.index);for(;++s<i.length;)l!==i[s]&&o.push(e.slice(l,i[s])),o.push("\\"),l=i[s];return o.push(e.slice(l)),o.join("")}function si(){return e.peek=function(){return"["},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:function(e,n,r,i){var o=Yr(i),a=o.move("[^"),s=r.enter("footnoteDefinition"),u=r.enter("label");return a+=o.move(ii(r,Jr(e),t(l)({},o.current(),{before:a,after:"]"}))),u(),a+=o.move("]:"+(e.children&&e.children.length>0?" ":"")),o.shift(4),a+=o.move(ei(Xr(e,r,o.current()),(function(e,t,n){if(t)return(n?"":"    ")+e;return e}))),s(),a},footnoteReference:e}};function e(e,n,r,i){var o=Yr(i),a=o.move("[^"),s=r.enter("footnoteReference"),u=r.enter("reference");return a+=o.move(ii(r,Jr(e),t(l)({},o.current(),{before:a,after:"]"}))),u(),s(),a+=o.move("]")}}function li(e,t,n){var r=t.indexStack,i=e.children||[],o=[],a=-1,s=n.before;for(r.push(-1);++a<i.length;){var l=i[a],u=void 0;if(r[r.length-1]=a,a+1<i.length){var c=t.handle.handlers[i[a+1].type];c&&c.peek&&(c=c.peek),u=c?c(i[a+1],e,t,{before:"",after:""}).charAt(0):""}else u=n.after;o.length>0&&("\r"===s||"\n"===s)&&"html"===l.type&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" "),o.push(t.handle(l,e,t,{before:s,after:u})),s=o[o.length-1].slice(-1)}return r.pop(),o.join("")}var ui={canContainEols:["delete"],enter:{strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},exit:{strikethrough:function(e){this.exit(e)}}},ci={unsafe:[{character:"~",inConstruct:"phrasing"}],handlers:{delete:di}};function di(e,t,n){var r=n.enter("emphasis"),i=li(e,n,{before:"~",after:"~"});return r(),"~~"+i+"~~"}function hi(e){if(!e._compiled){var t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function fi(e,t,n){for(var r=e.value||"",i="`",o=-1;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){var a=n.unsafe[o],s=hi(a),l=void 0;if(a.atBreak)for(;l=s.exec(r);){var u=l.index;10===r.charCodeAt(u)&&13===r.charCodeAt(u-1)&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function pi(e,t){for(var n,r,i,o,a,s,l,u,c,d,h=t||{},f=(h.align||[]).concat(),p=h.stringLength||gi,g=[],v=-1,m=[],y=[],b=[],_=0;++v<e.length;){for(n=-1,r=[],i=[],e[v].length>_&&(_=e[v].length);++n<e[v].length;)a=null==(d=e[v][n])?"":String(d),!1!==h.alignDelimiters&&(o=p(a),i[n]=o,(void 0===b[n]||o>b[n])&&(b[n]=o)),r.push(a);m[v]=r,y[v]=i}if(n=-1,"object"==typeof f&&"length"in f)for(;++n<_;)g[n]=vi(f[n]);else for(c=vi(f);++n<_;)g[n]=c;for(n=-1,r=[],i=[];++n<_;)l="",u="",99===(c=g[n])?(l=":",u=":"):108===c?l=":":114===c&&(u=":"),o=!1===h.alignDelimiters?1:Math.max(1,b[n]-l.length-u.length),a=l+"-".repeat(o)+u,!1!==h.alignDelimiters&&((o=l.length+o+u.length)>b[n]&&(b[n]=o),i[n]=o),r[n]=a;m.splice(1,0,r),y.splice(1,0,i),v=-1;for(var k=[];++v<m.length;){for(r=m[v],i=y[v],n=-1,s=[];++n<_;)a=r[n]||"",l="",u="",!1!==h.alignDelimiters&&(o=b[n]-(i[n]||0),114===(c=g[n])?l=" ".repeat(o):99===c?o%2?(l=" ".repeat(o/2+.5),u=" ".repeat(o/2-.5)):u=l=" ".repeat(o/2):u=" ".repeat(o)),!1===h.delimiterStart||n||s.push("|"),!1===h.padding||!1===h.alignDelimiters&&""===a||!1===h.delimiterStart&&!n||s.push(" "),!1!==h.alignDelimiters&&s.push(l),s.push(a),!1!==h.alignDelimiters&&s.push(u),!1!==h.padding&&s.push(" "),!1===h.delimiterEnd&&n===_-1||s.push("|");k.push(!1===h.delimiterEnd?s.join("").replace(/ +$/,""):s.join(""))}return k.join("\n")}function gi(e){return e.length}function vi(e){var t="string"==typeof e?e.charCodeAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}di.peek=function(){return"~"},fi.peek=function(){return"`"};var mi={enter:{table:function(e){var t=e._align;this.enter({type:"table",align:t,children:[]},e),this.setData("inTable",!0)},tableData:bi,tableHeader:bi,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},exit:{codeText:function(e){var t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,_i));this.stack[this.stack.length-1].value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:yi,tableHeader:yi,tableRow:yi}};function yi(e){this.exit(e)}function bi(e){this.enter({type:"tableCell",children:[]},e)}function _i(e,t){return"|"===t?t:e}function ki(e){var t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(e,t,n){return s(function(e,t){var n=e.children,r=-1,i=[],o=t.enter("table");for(;++r<n.length;)i[r]=l(n[r],t);return o(),i}(e,n),e.align)},tableRow:function(e,t,n){var r=s([l(e,n)]);return r.slice(0,r.indexOf("\n"))},tableCell:a,inlineCode:function(e,t,n){var r=fi(e,0,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r}}};function a(e,t,n){var r=n.enter("tableCell"),i=n.enter("phrasing"),a=li(e,n,{before:o,after:o});return i(),r(),a}function s(e,t){return pi(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function l(e,t){for(var n=e.children,r=-1,i=[],o=t.enter("tableRow");++r<n.length;)i[r]=a(n[r],0,t);return o(),i}}function Ci(e){var t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function xi(e){var t=e.options.listItemIndent||"tab";if(1===t||"1"===t)return"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function wi(e,t){var n=t.indexStack,r=e.children||[],i=[],o=-1;for(n.push(-1);++o<r.length;){var a=r[o];n[n.length-1]=o,i.push(t.handle(a,e,t,{before:"\n",after:"\n"})),"list"!==a.type&&(t.bulletLastUsed=void 0),o<r.length-1&&i.push(s(a,r[o+1]))}return n.pop(),i.join("");function s(n,r){for(var i=t.join.length;i--;){var o=t.join[i](n,r,e,t);if(!0===o||1===o)break;if("number"==typeof o)return"\n".repeat(1+o);if(!1===o)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}var Si=/\r?\n|\r/g;function Ei(e,t){for(var n,r=[],i=0,o=0;n=Si.exec(e);)a(e.slice(i,n.index)),r.push(n[0]),i=n.index+n[0].length,o++;return a(e.slice(i)),r.join("");function a(e){r.push(t(e,o,!e))}}function Di(e,t,n){var r=xi(n),i=n.bulletCurrent||Ci(n);t&&"list"===t.type&&t.ordered&&(i=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+i);var o=i.length+1;("tab"===r||"mixed"===r&&(t&&"list"===t.type&&t.spread||e.spread))&&(o=4*Math.ceil(o/4));var a=n.enter("listItem"),s=Ei(wi(e,n),(function(e,t,n){if(t)return(n?"":" ".repeat(o))+e;return(n?i:i+" ".repeat(o-i.length))+e}));return a(),s}var Ii={exit:{taskListCheckValueChecked:Li,taskListCheckValueUnchecked:Li,paragraph:function(e){var t,n=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],i=n.children,o=r.children[0],a=-1;if(n&&"listItem"===n.type&&"boolean"==typeof n.checked&&o&&"text"===o.type){for(;++a<i.length;){var s=i[a];if("paragraph"===s.type){t=s;break}}t===r&&(o.value=o.value.slice(1),0===o.value.length?r.children.shift():(o.position.start.column++,o.position.start.offset++,r.position.start=Object.assign({},o.position.start)))}this.exit(e)}}},Ri={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(e,t,n){var r=e.children[0],i=Di(e,t,n);"boolean"==typeof e.checked&&r&&"paragraph"===r.type&&(i=i.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(t){return t+"["+(e.checked?"x":" ")+"] "})));return i}}};function Li(e){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===e.type}function Ai(){return[zr,{enter:{gfmFootnoteDefinition:function(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)},gfmFootnoteDefinitionLabelString:function(){this.buffer()},gfmFootnoteCall:function(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)},gfmFootnoteCallString:function(){this.buffer()}},exit:{gfmFootnoteDefinition:function(e){this.exit(e)},gfmFootnoteDefinitionLabelString:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=dr(this.sliceSerialize(e)).toLowerCase()},gfmFootnoteCall:function(e){this.exit(e)},gfmFootnoteCallString:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=dr(this.sliceSerialize(e)).toLowerCase()}}},ui,mi,Ii]}function Mi(e){return{extensions:[Wr,si(),ci,ki(e),Ri]}}M=o("hFMTy");function Ti(e,t){var n=(t||{}).includeImageAlt;return Ni(e,void 0===n||n)}function Ni(e,t){return e&&"object"==typeof e&&(e.value||(t?e.alt:"")||"children"in e&&Pi(e.children,t)||Array.isArray(e)&&Pi(e,t))||""}function Pi(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=Ni(e[r],t);return n.join("")}var Oi={tokenize:function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,(function(t){if(null===t)return void e.consume(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),ur(e,n,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));return n;function r(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,i(n)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Fn(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};var Fi={tokenize:function(e){var t,n,r,i=this,o=[],a=0;return s;function s(t){if(a<o.length){var n=o[a];return i.containerState=n[1],e.attempt(n[0].continuation,l,u)(t)}return u(t)}function l(e){if(a++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,t&&y();for(var n,r=i.events.length,o=r;o--;)if("exit"===i.events[o][0]&&"chunkFlow"===i.events[o][1].type){n=i.events[o][1].end;break}m(a);for(var l=r;l<i.events.length;)i.events[l][1].end=Object.assign({},n),l++;return xn(i.events,o+1,0,i.events.slice(r)),i.events.length=l,u(e)}return s(e)}function u(n){if(a===o.length){if(!t)return h(n);if(t.currentConstruct&&t.currentConstruct.concrete)return p(n);i.interrupt=Boolean(t.currentConstruct)}return i.containerState={},e.check(Bi,c,d)(n)}function c(e){return t&&y(),m(a),h(e)}function d(e){return i.parser.lazy[i.now().line]=a!==o.length,r=i.now().offset,p(e)}function h(t){return i.containerState={},e.attempt(Bi,f,p)(t)}function f(e){return a++,o.push([i.currentConstruct,i.containerState]),h(e)}function p(r){return null===r?(t&&y(),m(0),void e.consume(r)):(t=t||i.parser.flow(i.now()),e.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:t}),g(r))}function g(t){return null===t?(v(e.exit("chunkFlow"),!0),m(0),void e.consume(t)):Fn(t)?(e.consume(t),v(e.exit("chunkFlow")),a=0,i.interrupt=void 0,s):(e.consume(t),g)}function v(e,o){var s=i.sliceStream(e);if(o&&s.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(s),i.parser.lazy[e.start.line]){for(var l=t.events.length;l--;)if(t.events[l][1].start.offset<r&&(!t.events[l][1].end||t.events[l][1].end.offset>r))return;for(var u,c,d=i.events.length,h=d;h--;)if("exit"===i.events[h][0]&&"chunkFlow"===i.events[h][1].type){if(u){c=i.events[h][1].end;break}u=!0}for(m(a),l=d;l<i.events.length;)i.events[l][1].end=Object.assign({},c),l++;xn(i.events,h+1,0,i.events.slice(d)),i.events.length=l}}function m(t){for(var n=o.length;n-- >t;){var r=o[n];i.containerState=r[1],r[0].exit.call(i,e)}o.length=t}function y(){t.write([null]),n=void 0,t=void 0,i.containerState._closeFlow=void 0}}},Bi={tokenize:function(e,t,n){return ur(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};var zi={name:"attention",tokenize:function(e,t){var n,r=this.parser.constructs.attentionMarkers.null,i=this.previous,o=br(i);return function(t){return e.enter("attentionSequence"),n=t,a(t)};function a(s){if(s===n)return e.consume(s),a;var l=e.exit("attentionSequence"),u=br(s),c=!u||2===u&&o||r.includes(s),d=!o||2===o&&u||r.includes(i);return l._open=Boolean(42===n?c:c&&(o||!d)),l._close=Boolean(42===n?d:d&&(u||!c)),t(s)}},resolveAll:function(e,t){var n,r,i,o,a,s,l,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;var d=Object.assign({},e[n][1].end),h=Object.assign({},e[c][1].start);Wi(d,-s),Wi(h,s),o={type:s>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[c][1].start),end:h},i={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[c][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[n][1].end=Object.assign({},o.start),e[c][1].start=Object.assign({},a.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=wn(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=wn(l,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),l=wn(l,_r(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=wn(l,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,l=wn(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,xn(e,n-1,c-n+3,l),c=n+l.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e}};function Wi(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var Hi={name:"autolink",tokenize:function(e,t,n){var r=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return Rn(t)?(e.consume(t),o):Nn(t)?l(t):n(t)}function o(e){return 43===e||45===e||46===e||Mn(e)?a(e):l(e)}function a(t){return 58===t?(e.consume(t),s):(43===t||45===t||46===t||Mn(t))&&r++<32?(e.consume(t),a):l(t)}function s(t){return 62===t?(e.exit("autolinkProtocol"),h(t)):null===t||32===t||60===t||Pn(t)?n(t):(e.consume(t),s)}function l(t){return 64===t?(e.consume(t),r=0,u):Nn(t)?(e.consume(t),l):n(t)}function u(e){return Mn(e)?c(e):n(e)}function c(t){return 46===t?(e.consume(t),r=0,u):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",h(t)):d(t)}function d(t){return(45===t||Mn(t))&&r++<63?(e.consume(t),45===t?d:c):n(t)}function h(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}};var Vi={tokenize:function(e,t,n){return ur(e,(function(e){return null===e||Fn(e)?t(e):n(e)}),"linePrefix")},partial:!0};var ji={name:"blockQuote",tokenize:function(e,t,n){var r=this;return function(t){if(62===t){var o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return Bn(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return ur(e,e.attempt(ji,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}};var Ki={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Tn(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};var Ui;function qi(e){var t,n="&"+e+";";return(Ui=Ui||document.createElement("i")).innerHTML=n,(59!==(t=Ui.textContent).charCodeAt(t.length-1)||"semi"===e)&&(t!==n&&t)}var Zi={name:"characterReference",tokenize:function(e,t,n){var r,i,o=this,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),r=31,i=Mn,u(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,i=An,u):(e.enter("characterReferenceValue"),r=7,i=Ln,u(t))}function u(s){var l;return 59===s&&a?(l=e.exit("characterReferenceValue"),i!==Mn||qi(o.sliceSerialize(l))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)):i(s)&&a++<r?(e.consume(s),u):n(s)}}};var Gi={name:"codeFenced",tokenize:function(e,t,n){var r,i=this,o={tokenize:function(e,t,n){var i=0;return ur(e,o,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function o(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),a(t)}function a(t){return t===r?(e.consume(t),i++,a):i<u?n(t):(e.exit("codeFencedFenceSequence"),ur(e,s,"whitespace")(t))}function s(r){return null===r||Fn(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0},a={tokenize:function(e,t,n){var r=this;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o}function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},s=this.events[this.events.length-1],l=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,u=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),r=t,c(t)};function c(t){return t===r?(e.consume(t),u++,c):(e.exit("codeFencedFenceSequence"),u<3?n(t):ur(e,d,"whitespace")(t))}function d(t){return null===t||Fn(t)?g(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||On(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ur(e,f,"whitespace")(t)):96===t&&t===r?n(t):(e.consume(t),h)}function f(t){return null===t||Fn(t)?g(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||Fn(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(t)):96===t&&t===r?n(t):(e.consume(t),p)}function g(n){return e.exit("codeFencedFence"),i.interrupt?t(n):v(n)}function v(t){return null===t?y(t):Fn(t)?e.attempt(a,e.attempt(o,y,l?ur(e,v,"linePrefix",l+1):v),y)(t):(e.enter("codeFlowValue"),m(t))}function m(t){return null===t||Fn(t)?(e.exit("codeFlowValue"),v(t)):(e.consume(t),m)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};var Qi={name:"codeIndented",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("codeIndented"),ur(e,i,"linePrefix",5)(t)};function i(e){var t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?s(t):Fn(t)?e.attempt(Ji,o,s)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||Fn(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),a)}function s(n){return e.exit("codeIndented"),t(n)}}},Ji={tokenize:function(e,t,n){var r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):Fn(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):ur(e,o,"linePrefix",5)(t)}function o(e){var o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):Fn(e)?i(e):n(e)}},partial:!0};var Yi={name:"codeText",tokenize:function(e,t,n){var r,i,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),o++,a):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):96===t?(i=e.enter("codeTextSequence"),r=0,u(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):Fn(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Fn(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}function u(n){return 96===n?(e.consume(n),r++,u):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}},resolve:function(e){var t,n,r=e.length-4,i=3;if(!("lineEnding"!==e[i][1].type&&"space"!==e[i][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};function Xi(e){for(var t,n,r,i,o,a,s,l={},u=-1;++u<e.length;){for(;u in l;)u=l[u];if(t=e[u],u&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[u-1][1].type&&((r=0)<(a=t[1]._tokenizer.events).length&&"lineEndingBlank"===a[r][1].type&&(r+=2),r<a.length&&"content"===a[r][1].type))for(;++r<a.length&&"content"!==a[r][1].type;)"chunkText"===a[r][1].type&&(a[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===t[0])t[1].contentType&&(Object.assign(l,$i(e,u)),u=l[u],s=!0);else if(t[1]._container){for(r=u,n=void 0;r--&&("lineEnding"===(i=e[r])[1].type||"lineEndingBlank"===i[1].type);)"enter"===i[0]&&(n&&(e[n][1].type="lineEndingBlank"),i[1].type="lineEnding",n=r);n&&(t[1].end=Object.assign({},e[n][1].start),(o=e.slice(n,u)).unshift(t),xn(e,n,u-n+1,o))}}return!s}function $i(e,t){for(var n,r,i=e[t][1],o=e[t][2],a=t-1,s=[],l=i._tokenizer||o.parser[i.contentType](i.start),u=l.events,c=[],d={},h=-1,f=i,p=0,g=0,v=[g];f;){for(;e[++a][1]!==f;);s.push(a),f._tokenizer||(n=o.sliceStream(f),f.next||n.push(null),r&&l.defineSkip(f.start),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(n),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),r=f,f=f.next}for(f=i;++h<u.length;)"exit"===u[h][0]&&"enter"===u[h-1][0]&&u[h][1].type===u[h-1][1].type&&u[h][1].start.line!==u[h][1].end.line&&(g=h+1,v.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(l.events=[],f?(f._tokenizer=void 0,f.previous=void 0):v.pop(),h=v.length;h--;){var m=u.slice(v[h],v[h+1]),y=s.pop();c.unshift([y,y+m.length-1]),xn(e,y,2,m)}for(h=-1;++h<c.length;)d[p+c[h][0]]=p+c[h][1],p+=c[h][1]-c[h][0]-1;return d}var eo={tokenize:function(e,t){var n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):Fn(t)?e.check(to,o,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return Xi(e),e}},to={tokenize:function(e,t,n){var r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),ur(e,i,"linePrefix")};function i(i){if(null===i||Fn(i))return n(i);var o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};function no(e,t,n,r,i,o,a,s,l){var u=l||Number.POSITIVE_INFINITY,c=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),d;if(null===t||41===t||Pn(t))return n(t);return e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),p(t)};function d(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||Fn(t)?n(t):(e.consume(t),92===t?f:h)}function f(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(i){return 40===i?++c>u?n(i):(e.consume(i),p):41===i?c--?(e.consume(i),p):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(i)):null===i||On(i)?c?n(i):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(i)):Pn(i)?n(i):(e.consume(i),92===i?g:p)}function g(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function ro(e,t,n,r,i,o){var a,s=this,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),u};function u(d){return null===d||91===d||93===d&&!a||94===d&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs||l>999?n(d):93===d?(e.exit(o),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):Fn(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||Fn(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),a=a||!Bn(t),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function io(e,t,n,r,i,o){var a;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),a=40===t?41:t,s};function s(n){return n===a?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),l(n))}function l(t){return t===a?(e.exit(o),s(a)):null===t?n(t):Fn(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),ur(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===a||null===t||Fn(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return t===a||92===t?(e.consume(t),u):u(t)}}function oo(e,t){var n;return function r(i){if(Fn(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(Bn(i))return ur(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}var ao={name:"definition",tokenize:function(e,t,n){var r,i=this;return function(t){return e.enter("definition"),ro.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function o(t){return r=dr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),oo(e,no(e,e.attempt(so,ur(e,a,"whitespace"),ur(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function a(o){return null===o||Fn(o)?(e.exit("definition"),i.parser.defined.includes(r)||i.parser.defined.push(r),t(o)):n(o)}}},so={tokenize:function(e,t,n){return function(t){return On(t)?oo(e,r)(t):n(t)};function r(t){return 34===t||39===t||40===t?io(e,ur(e,i,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function i(e){return null===e||Fn(e)?t(e):n(e)}},partial:!0};var lo={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),r};function r(r){return Fn(r)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(r)):n(r)}}};var uo={name:"headingAtx",tokenize:function(e,t,n){var r=this,i=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(t)};function o(s){return 35===s&&i++<6?(e.consume(s),o):null===s||On(s)?(e.exit("atxHeadingSequence"),r.interrupt?t(s):a(s)):n(s)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||Fn(n)?(e.exit("atxHeading"),t(n)):Bn(n)?ur(e,a,"whitespace")(n):(e.enter("atxHeadingText"),l(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),a(t))}function l(t){return null===t||35===t||On(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),l)}},resolve:function(e,t){var n,r,i=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);i-2>o&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4);i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},xn(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};var co=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ho=["pre","script","style","textarea"],fo={name:"htmlFlow",tokenize:function(e,t,n){var r,i,o,a,s,l=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u};function u(a){return 33===a?(e.consume(a),c):47===a?(e.consume(a),f):63===a?(e.consume(a),r=3,l.interrupt?t:N):Rn(a)?(e.consume(a),o=String.fromCharCode(a),i=!0,p):n(a)}function c(i){return 45===i?(e.consume(i),r=2,d):91===i?(e.consume(i),r=5,o="CDATA[",a=0,h):Rn(i)?(e.consume(i),r=4,l.interrupt?t:N):n(i)}function d(r){return 45===r?(e.consume(r),l.interrupt?t:N):n(r)}function h(r){return r===o.charCodeAt(a++)?(e.consume(r),a===o.length?l.interrupt?t:E:h):n(r)}function f(t){return Rn(t)?(e.consume(t),o=String.fromCharCode(t),p):n(t)}function p(a){return null===a||47===a||62===a||On(a)?47!==a&&i&&ho.includes(o.toLowerCase())?(r=1,l.interrupt?t(a):E(a)):co.includes(o.toLowerCase())?(r=6,47===a?(e.consume(a),g):l.interrupt?t(a):E(a)):(r=7,l.interrupt&&!l.parser.lazy[l.now().line]?n(a):i?m(a):v(a)):45===a||Mn(a)?(e.consume(a),o+=String.fromCharCode(a),p):n(a)}function g(r){return 62===r?(e.consume(r),l.interrupt?t:E):n(r)}function v(t){return Bn(t)?(e.consume(t),v):w(t)}function m(t){return 47===t?(e.consume(t),w):58===t||95===t||Rn(t)?(e.consume(t),y):Bn(t)?(e.consume(t),m):w(t)}function y(t){return 45===t||46===t||58===t||95===t||Mn(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),_):Bn(t)?(e.consume(t),b):m(t)}function _(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,k):Bn(t)?(e.consume(t),_):(s=null,C(t))}function k(t){return null===t||Fn(t)?n(t):t===s?(e.consume(t),x):(e.consume(t),k)}function C(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||On(t)?b(t):(e.consume(t),C)}function x(e){return 47===e||62===e||Bn(e)?m(e):n(e)}function w(t){return 62===t?(e.consume(t),S):n(t)}function S(t){return Bn(t)?(e.consume(t),S):null===t||Fn(t)?E(t):n(t)}function E(t){return 45===t&&2===r?(e.consume(t),L):60===t&&1===r?(e.consume(t),A):62===t&&4===r?(e.consume(t),P):63===t&&3===r?(e.consume(t),N):93===t&&5===r?(e.consume(t),T):!Fn(t)||6!==r&&7!==r?null===t||Fn(t)?D(t):(e.consume(t),E):e.check(po,P,D)(t)}function D(t){return e.exit("htmlFlowData"),I(t)}function I(t){return null===t?O(t):Fn(t)?e.attempt({tokenize:R,partial:!0},I,O)(t):(e.enter("htmlFlowData"),E(t))}function R(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return l.parser.lazy[l.now().line]?n(e):t(e)}}function L(t){return 45===t?(e.consume(t),N):E(t)}function A(t){return 47===t?(e.consume(t),o="",M):E(t)}function M(t){return 62===t&&ho.includes(o.toLowerCase())?(e.consume(t),P):Rn(t)&&o.length<8?(e.consume(t),o+=String.fromCharCode(t),M):E(t)}function T(t){return 93===t?(e.consume(t),N):E(t)}function N(t){return 62===t?(e.consume(t),P):E(t)}function P(t){return null===t||Fn(t)?(e.exit("htmlFlowData"),O(t)):(e.consume(t),P)}function O(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){var t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},po={tokenize:function(e,t,n){return function(r){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),e.attempt(Vi,t,n)}},partial:!0};var go={name:"htmlText",tokenize:function(e,t,n){var r,i,o,a,s=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l};function l(t){return 33===t?(e.consume(t),u):47===t?(e.consume(t),C):63===t?(e.consume(t),_):Rn(t)?(e.consume(t),S):n(t)}function u(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i="CDATA[",o=0,g):Rn(t)?(e.consume(t),b):n(t)}function c(t){return 45===t?(e.consume(t),d):n(t)}function d(t){return null===t||62===t?n(t):45===t?(e.consume(t),h):f(t)}function h(e){return null===e||62===e?n(e):f(e)}function f(t){return null===t?n(t):45===t?(e.consume(t),p):Fn(t)?(a=f,T(t)):(e.consume(t),f)}function p(t){return 45===t?(e.consume(t),P):f(t)}function g(t){return t===i.charCodeAt(o++)?(e.consume(t),o===i.length?v:g):n(t)}function v(t){return null===t?n(t):93===t?(e.consume(t),m):Fn(t)?(a=v,T(t)):(e.consume(t),v)}function m(t){return 93===t?(e.consume(t),y):v(t)}function y(t){return 62===t?P(t):93===t?(e.consume(t),y):v(t)}function b(t){return null===t||62===t?P(t):Fn(t)?(a=b,T(t)):(e.consume(t),b)}function _(t){return null===t?n(t):63===t?(e.consume(t),k):Fn(t)?(a=_,T(t)):(e.consume(t),_)}function k(e){return 62===e?P(e):_(e)}function C(t){return Rn(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||Mn(t)?(e.consume(t),x):w(t)}function w(t){return Fn(t)?(a=w,T(t)):Bn(t)?(e.consume(t),w):P(t)}function S(t){return 45===t||Mn(t)?(e.consume(t),S):47===t||62===t||On(t)?E(t):n(t)}function E(t){return 47===t?(e.consume(t),P):58===t||95===t||Rn(t)?(e.consume(t),D):Fn(t)?(a=E,T(t)):Bn(t)?(e.consume(t),E):P(t)}function D(t){return 45===t||46===t||58===t||95===t||Mn(t)?(e.consume(t),D):I(t)}function I(t){return 61===t?(e.consume(t),R):Fn(t)?(a=I,T(t)):Bn(t)?(e.consume(t),I):E(t)}function R(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,L):Fn(t)?(a=R,T(t)):Bn(t)?(e.consume(t),R):(e.consume(t),r=void 0,M)}function L(t){return t===r?(e.consume(t),A):null===t?n(t):Fn(t)?(a=L,T(t)):(e.consume(t),L)}function A(e){return 62===e||47===e||On(e)?E(e):n(e)}function M(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||On(t)?E(t):(e.consume(t),M)}function T(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),ur(e,N,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function N(t){return e.enter("htmlTextData"),a(t)}function P(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}}};var vo={name:"labelEnd",tokenize:function(e,t,n){var r,i,o=this,a=o.events.length;for(;a--;)if(("labelImage"===o.events[a][1].type||"labelLink"===o.events[a][1].type)&&!o.events[a][1]._balanced){r=o.events[a][1];break}return function(t){if(!r)return n(t);return r._inactive?l(t):(i=o.parser.defined.includes(dr(o.sliceSerialize({start:r.end,end:o.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s)};function s(n){return 40===n?e.attempt(mo,t,i?t:l)(n):91===n?e.attempt(yo,t,i?e.attempt(bo,t,l):l)(n):i?t(n):l(n)}function l(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){var n,r,i,o,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(i=a);var l={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},c={type:"labelText",start:Object.assign({},e[r+s+2][1].end),end:Object.assign({},e[i-2][1].start)};return o=wn(o=[["enter",l,t],["enter",u,t]],e.slice(r+1,r+s+3)),o=wn(o,[["enter",c,t]]),o=wn(o,_r(t.parser.constructs.insideSpan.null,e.slice(r+s+4,i-3),t)),o=wn(o,[["exit",c,t],e[i-2],e[i-1],["exit",u,t]]),o=wn(o,e.slice(i+1)),o=wn(o,[["exit",l,t]]),xn(e,r,e.length,o),e},resolveAll:function(e){var t,n=-1;for(;++n<e.length;)"labelImage"!==(t=e[n][1]).type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},mo={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),oo(e,r)};function r(t){return 41===t?a(t):no(e,i,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(t)}function i(t){return On(t)?oo(e,o)(t):a(t)}function o(t){return 34===t||39===t||40===t?io(e,oo(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):a(t)}function a(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},yo={tokenize:function(e,t,n){var r=this;return function(t){return ro.call(r,e,i,n,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(dr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}}},bo={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};var _o={name:"labelStartImage",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:vo.resolveAll};var ko={name:"labelStartLink",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:vo.resolveAll};var Co={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),ur(e,t,"linePrefix")}}};var xo={name:"thematicBreak",tokenize:function(e,t,n){var r,i=0;return function(t){return e.enter("thematicBreak"),r=t,o(t)};function o(s){return s===r?(e.enter("thematicBreakSequence"),a(s)):Bn(s)?ur(e,o,"whitespace")(s):i<3||null!==s&&!Fn(s)?n(s):(e.exit("thematicBreak"),t(s))}function a(t){return t===r?(e.consume(t),i++,a):(e.exit("thematicBreakSequence"),o(t))}}};var wo={name:"list",tokenize:function(e,t,n){var r=this,i=r.events[r.events.length-1],o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(t){var i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:Ln(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(xo,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return Ln(t)&&++a<10?(e.consume(t),s):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Vi,r.interrupt?n:u,e.attempt(So,d,c))}function u(e){return r.containerState.initialBlankLine=!0,o++,d(e)}function c(t){return Bn(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){var r=this;return r.containerState._closeFlow=void 0,e.check(Vi,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ur(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){if(r.containerState.furtherBlankLines||!Bn(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Eo,t,i)(n)}));function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,ur(e,e.attempt(wo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},So={tokenize:function(e,t,n){var r=this;return ur(e,(function(e){var i=r.events[r.events.length-1];return!Bn(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Eo={tokenize:function(e,t,n){var r=this;return ur(e,(function(e){var i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};var Do={name:"setextUnderline",tokenize:function(e,t,n){var r,i,o=this,a=o.events.length;for(;a--;)if("lineEnding"!==o.events[a][1].type&&"linePrefix"!==o.events[a][1].type&&"content"!==o.events[a][1].type){i="paragraph"===o.events[a][1].type;break}return function(t){if(!o.parser.lazy[o.now().line]&&(o.interrupt||i))return e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),r=t,s(t);return n(t)};function s(t){return t===r?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),ur(e,l,"lineSuffix")(t))}function l(r){return null===r||Fn(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){var n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);var a={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=a;return e.push(["exit",a,t]),e}};var Io={tokenize:function(e){var t=this,n=e.attempt(Vi,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,ur(e,e.attempt(this.parser.constructs.flow,r,e.attempt(eo,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};var Ro={resolveAll:To()},Lo=Mo("string"),Ao=Mo("text");function Mo(e){return{tokenize:function(t){var n=this,r=this.parser.constructs[e],i=t.attempt(r,o,a);return o;function o(e){return l(e)?i(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),s)}function l(e){if(null===e)return!0;var t=r[e],i=-1;if(t)for(;++i<t.length;){var o=t[i];if(!o.previous||o.previous.call(n,n.previous))return!0}return!1}},resolveAll:To("text"===e?No:void 0)}}function To(e){return function(t,n){var r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function No(e,t){for(var n=-1;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){for(var r=e[n-1][1],i=t.sliceStream(r),o=i.length,a=-1,s=0,l=void 0;o--;){var u=i[o];if("string"==typeof u){for(a=u.length;32===u.charCodeAt(a-1);)s++,a--;if(a)break;a=-1}else if(-2===u)l=!0,s++;else if(-1!==u){o++;break}}if(s){var c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+o,_bufferIndex:o?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}M=o("hFMTy");function Po(e,n,r){var i=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),o={},a=[],s=[],l=[],u={consume:function(e){Fn(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,b()):-1!==e&&(i.column++,i.offset++);i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++));c.previous=e,!0},enter:function(e,t){var n=t||{};return n.type=e,n.start=f(),c.events.push(["enter",n,c]),l.push(n),n},exit:function(e){var t=l.pop();return t.end=f(),c.events.push(["exit",t,c]),t},attempt:m((function(e,t){y(e,t.from)})),check:m(v),interrupt:m(v,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(e,t){return function(e,t){var n,r=-1,i=[];for(;++r<e.length;){var o=e[r],a=void 0;if("string"==typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&n)continue;a=" ";break;default:a=String.fromCharCode(o)}n=-2===o,i.push(a)}return i.join("")}(h(e),t)},now:f,defineSkip:function(e){o[e.line]=e.column,b()},write:function(e){if(s=wn(s,e),p(),null!==s[s.length-1])return[];return y(n,0),c.events=_r(a,c.events,c),c.events}},d=n.tokenize.call(c,u);return n.resolveAll&&a.push(n),c;function h(e){return function(e,t){var n,r=t.start._index,i=t.start._bufferIndex,o=t.end._index,a=t.end._bufferIndex;r===o?n=[e[r].slice(i,a)]:(n=e.slice(r,o),i>-1&&(n[0]=n[0].slice(i)),a>0&&n.push(e[o].slice(0,a)));return n}(s,e)}function f(){return Object.assign({},i)}function p(){for(var e;i._index<s.length;){var t=s[i._index];if("string"==typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)g(t.charCodeAt(i._bufferIndex));else g(t)}}function g(e){void 0,e,d=d(e)}function v(e,t){t.restore()}function m(e,n){return function(r,o,a){var s,d,h,p;return Array.isArray(r)?g(r):"tokenize"in r?g([r]):function(e){return n;function n(n){var r=null!==n&&e[n],i=null!==n&&e.null;return g(t(M)(Array.isArray(r)?r:r?[r]:[]).concat(t(M)(Array.isArray(i)?i:i?[i]:[])))(n)}}(r);function g(e){return s=e,d=0,0===e.length?a:v(e[d])}function v(e){return function(t){p=function(){var e=f(),t=c.previous,n=c.currentConstruct,r=c.events.length,o=Array.from(l);return{restore:a,from:r};function a(){i=e,c.previous=t,c.currentConstruct=n,c.events.length=r,l=o,b()}}(),h=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return y(t);return e.tokenize.call(n?Object.assign(Object.create(c),n):c,u,m,y)(t)}}function m(t){return!0,e(h,p),o}function y(e){return!0,p.restore(),++d<s.length?v(s[d]):a}}}function y(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&xn(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function b(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}var Oo={};e(Oo,"document",(function(){return Vo})),e(Oo,"contentInitial",(function(){return jo})),e(Oo,"flowInitial",(function(){return Ko})),e(Oo,"flow",(function(){return Uo})),e(Oo,"string",(function(){return qo})),e(Oo,"text",(function(){return Zo})),e(Oo,"insideSpan",(function(){return Go})),e(Oo,"attentionMarkers",(function(){return Qo})),e(Oo,"disable",(function(){return Jo}));var Fo,Bo,zo,Wo,Ho,Vo=(Fo={},t(lr=o("5T0Qd"))(Fo,42,wo),t(lr)(Fo,43,wo),t(lr)(Fo,45,wo),t(lr)(Fo,48,wo),t(lr)(Fo,49,wo),t(lr)(Fo,50,wo),t(lr)(Fo,51,wo),t(lr)(Fo,52,wo),t(lr)(Fo,53,wo),t(lr)(Fo,54,wo),t(lr)(Fo,55,wo),t(lr)(Fo,56,wo),t(lr)(Fo,57,wo),t(lr)(Fo,62,ji),Fo),jo=t(lr)({},91,ao),Ko=(Bo={},t(lr)(Bo,-2,Qi),t(lr)(Bo,-1,Qi),t(lr)(Bo,32,Qi),Bo),Uo=(zo={},t(lr)(zo,35,uo),t(lr)(zo,42,xo),t(lr)(zo,45,[Do,xo]),t(lr)(zo,60,fo),t(lr)(zo,61,Do),t(lr)(zo,95,xo),t(lr)(zo,96,Gi),t(lr)(zo,126,Gi),zo),qo=(Wo={},t(lr)(Wo,38,Zi),t(lr)(Wo,92,Ki),Wo),Zo=(Ho={},t(lr)(Ho,-5,Co),t(lr)(Ho,-4,Co),t(lr)(Ho,-3,Co),t(lr)(Ho,33,_o),t(lr)(Ho,38,Zi),t(lr)(Ho,42,zi),t(lr)(Ho,60,[Hi,go]),t(lr)(Ho,91,ko),t(lr)(Ho,92,[lo,Ki]),t(lr)(Ho,93,vo),t(lr)(Ho,95,zi),t(lr)(Ho,96,Yi),Ho),Go={null:[zi,Ro]},Qo={null:[42,95]},Jo={null:[]};function Yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=En([Oo].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(Oi),document:r(Fi),flow:r(Io),string:r(Lo),text:r(Ao)};return n;function r(e){return function(t){return Po(n,e,t)}}}var Xo=/[\0\t\n\r]/g;function $o(e){for(;!Xi(e););return e}var ea={}.hasOwnProperty;function ta(e){return e&&"object"==typeof e?ea.call(e,"position")||ea.call(e,"type")?ra(e.position):ea.call(e,"start")||ea.call(e,"end")?ra(e):ea.call(e,"line")||ea.call(e,"column")?na(e):"":""}function na(e){return ia(e&&e.line)+":"+ia(e&&e.column)}function ra(e){return na(e&&e.start)+"-"+na(e&&e.end)}function ia(e){return e&&"number"==typeof e?e:1}var oa={}.hasOwnProperty,aa=function(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=sa({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(re),autolinkProtocol:I,autolinkEmail:I,atxHeading:l($),blockQuote:l(G),characterEscape:I,characterReference:I,codeFenced:l(Q),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Q,u),codeText:l(J,u),codeTextData:I,data:I,codeFlowValue:I,definition:l(Y),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(X),hardBreakEscape:l(ee),hardBreakTrailing:l(ee),htmlFlow:l(te,u),htmlFlowData:I,htmlText:l(te,u),htmlTextData:I,image:l(ne),label:u,link:l(re),listItem:l(oe),listItemValue:g,listOrdered:l(ie,p),listUnordered:l(ie),paragraph:l(ae),reference:V,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l($),strong:l(se),thematicBreak:l(ue)},exit:{atxHeading:d(),atxHeadingSequence:w,autolink:d(),autolinkEmail:Z,autolinkProtocol:q,blockQuote:d(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:U,codeFenced:d(b),codeFencedFence:y,codeFencedFenceInfo:v,codeFencedFenceMeta:m,codeFlowValue:R,codeIndented:d(_),codeText:d(N),codeTextData:R,data:R,definition:d(),definitionDestinationString:x,definitionLabelString:k,definitionTitleString:C,emphasis:d(),hardBreakEscape:d(A),hardBreakTrailing:d(A),htmlFlow:d(M),htmlFlowData:R,htmlText:d(T),htmlTextData:R,image:d(O),label:B,labelText:F,lineEnding:L,link:d(P),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:j,resourceDestinationString:z,resourceTitleString:W,resource:H,setextHeading:d(D),setextHeadingLineSequence:E,setextHeadingText:S,strong:d(),thematicBreak:d()}},e.mdastExtensions||[]),n={};return r;function r(e){for(var n={type:"root",children:[]},r=[],l=[],d={stack:[n],tokenStack:r,config:t,enter:c,exit:h,buffer:u,resume:f,setData:o,getData:a},p=-1;++p<e.length;){if("listOrdered"===e[p][1].type||"listUnordered"===e[p][1].type)if("enter"===e[p][0])l.push(p);else p=i(e,l.pop(),p)}for(p=-1;++p<e.length;){var g=t[e[p][0]];oa.call(g,e[p][1].type)&&g[e[p][1].type].call(Object.assign({sliceSerialize:e[p][2].sliceSerialize},d),e[p][1])}if(r.length>0)throw new Error("Cannot close document, a token (`"+r[r.length-1].type+"`, "+ta({start:r[r.length-1].start,end:r[r.length-1].end})+") is still open");for(n.position={start:s(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:s(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},p=-1;++p<t.transforms.length;)n=t.transforms[p](n)||n;return n}function i(e,t,n){for(var r,i,o,a,s=t-1,l=-1,u=!1;++s<=n;){var c=e[s];if("listUnordered"===c[1].type||"listOrdered"===c[1].type||"blockQuote"===c[1].type?("enter"===c[0]?l++:l--,a=void 0):"lineEndingBlank"===c[1].type?"enter"===c[0]&&(!r||a||l||o||(o=s),a=void 0):"linePrefix"===c[1].type||"listItemValue"===c[1].type||"listItemMarker"===c[1].type||"listItemPrefix"===c[1].type||"listItemPrefixWhitespace"===c[1].type||(a=void 0),!l&&"enter"===c[0]&&"listItemPrefix"===c[1].type||-1===l&&"exit"===c[0]&&("listUnordered"===c[1].type||"listOrdered"===c[1].type)){if(r){var d=s;for(i=void 0;d--;){var h=e[d];if("lineEnding"===h[1].type||"lineEndingBlank"===h[1].type){if("exit"===h[0])continue;i&&(e[i][1].type="lineEndingBlank",u=!0),h[1].type="lineEnding",i=d}else if("linePrefix"!==h[1].type&&"blockQuotePrefix"!==h[1].type&&"blockQuotePrefixWhitespace"!==h[1].type&&"blockQuoteMarker"!==h[1].type&&"listItemIndent"!==h[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:c[1].end),e.splice(i||s,0,["exit",r,c[2]]),s++,n++}"listItemPrefix"===c[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},c[1].start)},e.splice(s,0,["enter",r,c[2]]),s++,n++,o=void 0,a=!0)}}return e[t][1]._spread=u,n}function o(e,t){n[e]=t}function a(e){return n[e]}function s(e){return{line:e.line,column:e.column,offset:e.offset}}function l(e,t){return n;function n(n){c.call(this,e(n),n),t&&t.call(this,n)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(e,t){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push(t),e.position={start:s(t.start)},e}function d(e){return t;function t(t){e&&e.call(this,t),h.call(this,t)}}function h(e){var t=this.stack.pop(),n=this.tokenStack.pop();if(!n)throw new Error("Cannot close `"+e.type+"` ("+ta({start:e.start,end:e.end})+"): it’s not open");if(n.type!==e.type)throw new Error("Cannot close `"+e.type+"` ("+ta({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+ta({start:n.start,end:n.end})+") is open");return t.position.end=s(e.end),t}function f(){return Ti(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function g(e){a("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),o("expectingFirstListItemValue"))}function v(){var e=this.resume();this.stack[this.stack.length-1].lang=e}function m(){var e=this.resume();this.stack[this.stack.length-1].meta=e}function y(){a("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function b(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function _(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function k(e){var t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=dr(this.sliceSerialize(e)).toLowerCase()}function C(){var e=this.resume();this.stack[this.stack.length-1].title=e}function x(){var e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(e).length)}function S(){o("setextHeadingSlurpLineEnding",!0)}function E(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function D(){o("setextHeadingSlurpLineEnding")}function I(e){var t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type||((n=le()).position={start:s(e.start)},t.children.push(n)),this.stack.push(n)}function R(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=s(e.end)}function L(e){var n=this.stack[this.stack.length-1];if(a("atHardBreak"))return n.children[n.children.length-1].position.end=s(e.end),void o("atHardBreak");!a("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(I.call(this,e),R.call(this,e))}function A(){o("atHardBreak",!0)}function M(){var e=this.resume();this.stack[this.stack.length-1].value=e}function T(){var e=this.resume();this.stack[this.stack.length-1].value=e}function N(){var e=this.resume();this.stack[this.stack.length-1].value=e}function P(){var e=this.stack[this.stack.length-1];a("inReference")?(e.type+="Reference",e.referenceType=a("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType),o("referenceType")}function O(){var e=this.stack[this.stack.length-1];a("inReference")?(e.type+="Reference",e.referenceType=a("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType),o("referenceType")}function F(e){this.stack[this.stack.length-2].identifier=dr(this.sliceSerialize(e)).toLowerCase()}function B(){var e=this.stack[this.stack.length-1],t=this.resume();this.stack[this.stack.length-1].label=t,o("inReference",!0),"link"===this.stack[this.stack.length-1].type?this.stack[this.stack.length-1].children=e.children:this.stack[this.stack.length-1].alt=t}function z(){var e=this.resume();this.stack[this.stack.length-1].url=e}function W(){var e=this.resume();this.stack[this.stack.length-1].title=e}function H(){o("inReference")}function V(){o("referenceType","collapsed")}function j(e){var t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=dr(this.sliceSerialize(e)).toLowerCase(),o("referenceType","full")}function K(e){o("characterReferenceType",e.type)}function U(e){var t,n=this.sliceSerialize(e),r=a("characterReferenceType");r?(t=Zr(n,"characterReferenceMarkerNumeric"===r?10:16),o("characterReferenceType")):t=qi(n);var i=this.stack.pop();i.value+=t,i.position.end=s(e.end)}function q(e){R.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function Z(e){R.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function G(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function $(){return{type:"heading",depth:void 0,children:[]}}function ee(){return{type:"break"}}function te(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function re(){return{type:"link",title:null,url:"",children:[]}}function ie(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function oe(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function ue(){return{type:"thematicBreak"}}}(n)($o(Yo(n).document().write((i=1,o="",a=!0,function(e,t,n){var s,l,u,c,d,h=[];for(e=o+e.toString(t),u=0,o="",a&&(65279===e.charCodeAt(0)&&u++,a=void 0);u<e.length;){if(Xo.lastIndex=u,s=Xo.exec(e),c=s&&void 0!==s.index?s.index:e.length,d=e.charCodeAt(c),!s){o=e.slice(u);break}if(10===d&&u===c&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),u<c&&(h.push(e.slice(u,c)),i+=c-u),d){case 0:h.push(65533),i++;break;case 9:for(l=4*Math.ceil(i/4),h.push(-2);i++<l;)h.push(-1);break;case 10:h.push(-4),i=1;break;default:r=!0,i=1}u=c+1}return n&&(r&&h.push(-5),o&&h.push(o),h.push(null)),h})(e,t,!0))));var r,i,o,a};function sa(e,t){for(var n=-1;++n<t.length;){var r=t[n];Array.isArray(r)?sa(e,r):la(e,r)}return e}function la(e,n){var r;for(r in n)if(oa.call(n,r)){var i="canContainEols"===r||"transforms"===r,o=(oa.call(e,r)?e[r]:void 0)||(e[r]=i?[]:{}),a=n[r];a&&(i?e[r]=t(M)(o).concat(t(M)(a)):Object.assign(o,a))}}var ua=function(e){var t=this;Object.assign(this,{Parser:function(n){var r=t.data("settings");return aa(n,Object.assign({},r,e,{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}})},ca=(l=o("aJy7o"),function(e,t,n){var r={type:String(e)};return null!=n||"string"!=typeof t&&!Array.isArray(t)?Object.assign(r,t):n=t,Array.isArray(n)?r.children=n:null!=n&&(r.value=String(n)),r}),da=fa("start"),ha=fa("end");function fa(e){return function(t){var n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}var pa={}.hasOwnProperty;function ga(e){var t,n,r,i=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return n=function(e){var t=va(e.identifier);t&&!pa.call(i,t)&&(i[t]=e)},"function"==typeof(t="definition")&&"function"!=typeof n&&(r=n,n=t,t=null),Mr(e,t,(function(e,t){var r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r),function(e){var t=va(e);return t&&pa.call(i,t)?i[t]:null}}function va(e){return String(e||"").toUpperCase()}l=o("aJy7o"),M=o("hFMTy");var ma={}.hasOwnProperty;function ya(e,t){var n=t.data||{};return"value"in t&&!(ma.call(n,"hName")||ma.call(n,"hProperties")||ma.call(n,"hChildren"))?e.augment(t,ca("text",t.value)):e(t,"div",ka(e,t))}function ba(e,t,n){var r,i=t&&t.type;if(!i)throw new Error("Expected node, got `"+t+"`");return("function"==typeof(r=ma.call(e.handlers,i)?e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?_a:e.unknownHandler)?r:ya)(e,t,n)}function _a(e,n){return"children"in n?t(l)({},n,{children:ka(e,n)}):n}function ka(e,n){var r=[];if("children"in n)for(var i=n.children,o=-1;++o<i.length;){var a=ba(e,i[o],n);if(a){var s;if(o&&"break"===i[o-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&"element"===a.type)){var l=a.children[0];l&&"text"===l.type&&(l.value=l.value.replace(/^\s+/,""))}Array.isArray(a)?(s=r).push.apply(s,t(M)(a)):r.push(a)}}return r}M=o("hFMTy");function Ca(e,t){var n=[],r=-1;for(t&&n.push(ca("text","\n"));++r<e.length;)r&&n.push(ca("text","\n")),n.push(e[r]);return t&&e.length>0&&n.push(ca("text","\n")),n}function xa(e){for(var n=-1,r=[];++n<e.footnoteOrder.length;){var i,o=e.footnoteById[e.footnoteOrder[n].toUpperCase()];if(o){for(var a=ka(e,o),s=String(o.identifier),l=sr(s.toLowerCase()),u=0,c=[];++u<=e.footnoteCounts[s];){var d={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+l+(u>1?"-"+u:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"↩"}]};u>1&&d.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(u)}]}),c.length>0&&c.push({type:"text",value:" "}),c.push(d)}var h=a[a.length-1];if(h&&"element"===h.type&&"p"===h.tagName){var f,p=h.children[h.children.length-1];p&&"text"===p.type?p.value+=" ":h.children.push({type:"text",value:" "}),(f=h.children).push.apply(f,t(M)(c))}else(i=a).push.apply(i,t(M)(c));var g={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+l},children:Ca(a,!0)};o.position&&(g.position=o.position),r.push(g)}}return 0===r.length?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:"h2",properties:{id:"footnote-label",className:["sr-only"]},children:[ca("text",e.footnoteLabel)]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:Ca(r,!0)},{type:"text",value:"\n"}]}}function wa(e,t){var n,r=String(t.identifier),i=sr(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);-1===o?(e.footnoteOrder.push(r),e.footnoteCounts[r]=1,n=e.footnoteOrder.length):(e.footnoteCounts[r]++,n=o+1);var a=e.footnoteCounts[r];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[ca("text",String(n))])])}var Sa,Ea={};function Da(e,t,n){var r,i,o,a,s,l="";for("string"!=typeof t&&(n=t,t=Da.defaultChars),void 0===n&&(n=!0),s=function(e){var t,n,r=Ea[e];if(r)return r;for(r=Ea[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}(t),r=0,i=e.length;r<i;r++)if(o=e.charCodeAt(r),n&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))l+=e.slice(r,r+3),r+=2;else if(o<128)l+=s[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(a=e.charCodeAt(r+1))>=56320&&a<=57343){l+=encodeURIComponent(e[r]+e[r+1]),r++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[r]);return l}function Ia(e,t){var n=t.referenceType,r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return ca("text","!["+t.alt+r);var i=ka(e,t),o=i[0];o&&"text"===o.type?o.value="["+o.value:i.unshift(ca("text","["));var a=i[i.length-1];return a&&"text"===a.type?a.value+=r:i.push(ca("text",r)),i}Da.defaultChars=";/?:@&=+$,-_.!~*'()#",Da.componentChars="-_.!~*'()",Sa=Da;M=o("hFMTy");function Ra(e){var t=e.spread;return null==t?e.children.length>1:t}var La={blockquote:function(e,t){return e(t,"blockquote",Ca(ka(e,t),!0))},break:function(e,t){return[e(t,"br"),ca("text","\n")]},code:function(e,t){var n=t.value?t.value+"\n":"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);var o=e(t,"code",i,[ca("text",n)]);return t.meta&&(o.data={meta:t.meta}),e(t.position,"pre",[o])},delete:function(e,t){return e(t,"del",ka(e,t))},emphasis:function(e,t){return e(t,"em",ka(e,t))},footnoteReference:wa,footnote:function(e,t){for(var n=e.footnoteById,r=1;r in n;)r++;var i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},wa(e,{type:"footnoteReference",identifier:i,position:t.position})},heading:function(e,t){return e(t,"h"+t.depth,ka(e,t))},html:function(e,t){return e.dangerous?e.augment(t,ca("raw",t.value)):null},imageReference:function(e,n){var r=e.definition(n.identifier);if(!r)return Ia(e,n);var i={src:t(Sa)(r.url||""),alt:n.alt};return null!==r.title&&void 0!==r.title&&(i.title=r.title),e(n,"img",i)},image:function(e,n){var r={src:t(Sa)(n.url),alt:n.alt};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(n,"img",r)},inlineCode:function(e,t){return e(t,"code",[ca("text",t.value.replace(/\r?\n|\r/g," "))])},linkReference:function(e,n){var r=e.definition(n.identifier);if(!r)return Ia(e,n);var i={href:t(Sa)(r.url||"")};return null!==r.title&&void 0!==r.title&&(i.title=r.title),e(n,"a",i,ka(e,n))},link:function(e,n){var r={href:t(Sa)(n.url)};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(n,"a",r,ka(e,n))},listItem:function(e,n,r){var i,o=ka(e,n),a=r?function(e){var t=e.spread,n=e.children,r=-1;for(;!t&&++r<n.length;)t=Ra(n[r]);return Boolean(t)}(r):Ra(n),s={},l=[];"boolean"==typeof n.checked&&(o[0]&&"element"===o[0].type&&"p"===o[0].tagName?i=o[0]:(i=e(null,"p",[]),o.unshift(i)),i.children.length>0&&i.children.unshift(ca("text"," ")),i.children.unshift(e(null,"input",{type:"checkbox",checked:n.checked,disabled:!0})),s.className=["task-list-item"]);for(var u=-1;++u<o.length;){var c,d=o[u];(a||0!==u||"element"!==d.type||"p"!==d.tagName)&&l.push(ca("text","\n")),"element"!==d.type||"p"!==d.tagName||a?l.push(d):(c=l).push.apply(c,t(M)(d.children))}var h=o[o.length-1];return!h||!a&&"tagName"in h&&"p"===h.tagName||l.push(ca("text","\n")),e(n,"li",s,l)},list:function(e,t){var n={},r=t.ordered?"ol":"ul",i=ka(e,t),o=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++o<i.length;){var a=i[o];if("element"===a.type&&"li"===a.tagName&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,Ca(i,!0))},paragraph:function(e,t){return e(t,"p",ka(e,t))},root:function(e,t){return e.augment(t,ca("root",Ca(ka(e,t))))},strong:function(e,t){return e(t,"strong",ka(e,t))},table:function(e,t){for(var n=t.children,r=-1,i=t.align||[],o=[];++r<n.length;){for(var a=n[r].children,s=0===r?"th":"td",l=[],u=-1,c=t.align?i.length:a.length;++u<c;){var d=a[u];l.push(e(d,s,{align:i[u]},d?ka(e,d):[]))}o[r]=e(n[r],"tr",Ca(l,!0))}return e(t,"table",Ca([e(o[0].position,"thead",Ca([o[0]],!0))].concat(o[1]?e({start:da(o[1]),end:ha(o[o.length-1])},"tbody",Ca(o.slice(1),!0)):[]),!0))},text:function(e,t){return e.augment(t,ca("text",String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))},thematicBreak:function(e,t){return e(t,"hr")},toml:Aa,yaml:Aa,definition:Aa,footnoteDefinition:Aa};function Aa(){return null}var Ma={}.hasOwnProperty;function Ta(e,n){var r=function(e,n){var r=n||{},i=r.allowDangerousHtml||!1,o={};return s.dangerous=i,s.clobberPrefix=void 0===r.clobberPrefix||null===r.clobberPrefix?"user-content-":r.clobberPrefix,s.footnoteLabel=r.footnoteLabel||"Footnotes",s.footnoteBackLabel=r.footnoteBackLabel||"Back to content",s.definition=ga(e),s.footnoteById=o,s.footnoteOrder=[],s.footnoteCounts={},s.augment=a,s.handlers=t(l)({},La,r.handlers),s.unknownHandler=r.unknownHandler,s.passThrough=r.passThrough,_n(e,"footnoteDefinition",(function(e){var t=String(e.identifier).toUpperCase();Ma.call(o,t)||(o[t]=e)})),s;function a(e,n){if(e&&"data"in e&&e.data){var r=e.data;r.hName&&("element"!==n.type&&(n={type:"element",tagName:"",properties:{},children:[]}),n.tagName=r.hName),"element"===n.type&&r.hProperties&&(n.properties=t(l)({},n.properties,r.hProperties)),"children"in n&&n.children&&r.hChildren&&(n.children=r.hChildren)}if(e){var i="type"in e?e:{position:e};(o=i)&&o.position&&o.position.start&&o.position.start.line&&o.position.start.column&&o.position.end&&o.position.end.line&&o.position.end.column&&(n.position={start:da(i),end:ha(i)})}var o;return n}function s(e,t,n,r){return Array.isArray(n)&&(r=n,n={}),a(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}(e,n),i=ba(r,e,null),o=xa(r);return o&&i.children.push(ca("text","\n"),o),Array.isArray(i)?{type:"root",children:i}:i}var Na=function(e,t){return e&&"run"in e?function(e,t){return function(n,r,i){e.run(Ta(n,t),r,(function(e){i(e)}))}}(e,t):function(e){return function(t){return Ta(t,e)}}(e||t)};var Pa=o("cMTxv");M=o("hFMTy");function Oa(e){if(e)throw e}var Fa;
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */Fa=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)};var Ba,za=Object.prototype.hasOwnProperty,Wa=Object.prototype.toString,Ha=Object.defineProperty,Va=Object.getOwnPropertyDescriptor,ja=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Wa.call(e)},Ka=function(e){if(!e||"[object Object]"!==Wa.call(e))return!1;var t,n=za.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&za.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||za.call(e,t)},Ua=function(e,t){Ha&&"__proto__"===t.name?Ha(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},qa=function(e,t){if("__proto__"===t){if(!za.call(e,t))return;if(Va)return Va(e,t).value}return e[t]};function Za(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}Ba=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});l<u;++l)if(null!=(t=arguments[l]))for(n in t)r=qa(s,n),s!==(i=qa(t,n))&&(c&&i&&(Ka(i)||(o=ja(i)))?(o?(o=!1,a=r&&ja(r)?r:[]):a=r&&Ka(r)?r:{},Ua(s,{name:n,newValue:e(c,a,i)})):void 0!==i&&Ua(s,{name:n,newValue:i}));return s};M=o("hFMTy");function Ga(e,n){var r;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var l,u=e.length>a.length;u&&a.push(i);try{l=e.apply(void 0,t(M)(a))}catch(e){var c=e;if(u&&r)throw c;return i(c)}u||(l instanceof Promise?l.then(o,i):l instanceof Error?i(l):o(l))};function i(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];r||(r=!0,n.apply(void 0,[e].concat(t(M)(o))))}function o(e){i(null,e)}}St=o("fZTNQ");var Qa=o("j7KTJ"),Ja=(M=o("hFMTy"),St=o("fZTNQ"),Lt=o("hgtn2"),o("7ZYu7")),Ya=(At=o("aV5UR"),function(e){"use strict";t(Lt)(r,e);var n=t(At)(r);function r(e,i,o){var a;t(St)(this,r);var s,l=[null,null],u={start:{line:null,column:null},end:{line:null,column:null}};return a=n.call(this),"string"==typeof i&&(o=i,i=null),"string"==typeof o&&(-1===(s=o.indexOf(":"))?l[1]=o:(l[0]=o.slice(0,s),l[1]=o.slice(s+1))),i&&("type"in i||"position"in i?i.position&&(u=i.position):"start"in i||"end"in i?u=i:("line"in i||"column"in i)&&(u.start=i)),a.name=ta(i)||"1:1",a.message="object"==typeof e?e.message:e,a.stack="object"==typeof e?e.stack:"",a.reason=a.message,a.line=u.start.line,a.column=u.start.column,a.source=l[0],a.ruleId=l[1],a.position=u,a.file,a.fatal,a.url,a.note,a}return r}(t(Ja)(Error)));Ya.prototype.file="",Ya.prototype.name="",Ya.prototype.reason="",Ya.prototype.message="",Ya.prototype.stack="",Ya.prototype.fatal=null,Ya.prototype.column=null,Ya.prototype.line=null,Ya.prototype.source=null,Ya.prototype.ruleId=null,Ya.prototype.position=null;var Xa={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');es(e);var n,r=0,i=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.charCodeAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":e.slice(r,i)}if(t===e)return"";var a=-1,s=t.length-1;for(;o--;)if(47===e.charCodeAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(e.charCodeAt(o)===t.charCodeAt(s--)?s<0&&(i=o):(s=-1,i=a));r===i?i=a:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(es(e),0===e.length)return".";var t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){es(e);var t,n=e.length,r=-1,i=0,o=-1,a=0;for(;n--;){var s=e.charCodeAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(t){i=n+1;break}}return o<0||r<0||0===a||1===a&&o===r-1&&o===i+1?"":e.slice(o,r)},join:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=-1;for(;++i<t.length;)es(t[i]),t[i]&&(r=void 0===r?t[i]:r+"/"+t[i]);return void 0===r?".":$a(r)},sep:"/"};function $a(e){es(e);var t=47===e.charCodeAt(0),n=function(e,t){var n,r,i="",o=0,a=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if((r=i.lastIndexOf("/"))!==i.length-1){r<0?(i="",o=0):o=(i=i.slice(0,r)).length-1-i.lastIndexOf("/"),a=l,s=0;continue}}else if(i.length>0){i="",o=0,a=l,s=0;continue}t&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+e.slice(a+1,l):i=e.slice(a+1,l),o=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(e,!t);return 0!==n.length||t||(n="."),n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/"),t?"/"+n:n}function es(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var ts={cwd:function(){return"/"}};function ns(e){return null!==e&&"object"==typeof e&&e.href&&e.origin}function rs(e){if("string"==typeof e)e=new URL(e);else if(!ns(e)){var t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){var n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return function(e){if(""!==e.hostname){var t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}var n=e.pathname,r=-1;for(;++r<n.length;)if(37===n.charCodeAt(r)&&50===n.charCodeAt(r+1)){var i=n.charCodeAt(r+2);if(70===i||102===i){var o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(n)}(e)}var is=["history","path","basename","stem","extname","dirname"],os=function(){"use strict";function e(n){var r;t(St)(this,e),r=n?"string"==typeof n||t(Fa)(n)?{value:n}:ns(n)?{path:n}:n:{},this.data={},this.messages=[],this.history=[],this.cwd=ts.cwd(),this.value,this.stored,this.result,this.map;for(var i,o=-1;++o<is.length;){var a=is[o];a in r&&void 0!==r[a]&&(this[a]="history"===a?t(M)(r[a]):r[a])}for(i in r)is.includes(i)||(this[i]=r[i])}return t(Qa)(e,[{key:"path",get:function(){return this.history[this.history.length-1]},set:function(e){ns(e)&&(e=rs(e)),ss(e,"path"),this.path!==e&&this.history.push(e)}},{key:"dirname",get:function(){return"string"==typeof this.path?Xa.dirname(this.path):void 0},set:function(e){ls(this.basename,"dirname"),this.path=Xa.join(e||"",this.basename)}},{key:"basename",get:function(){return"string"==typeof this.path?Xa.basename(this.path):void 0},set:function(e){ss(e,"basename"),as(e,"basename"),this.path=Xa.join(this.dirname||"",e)}},{key:"extname",get:function(){return"string"==typeof this.path?Xa.extname(this.path):void 0},set:function(e){if(as(e,"extname"),ls(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xa.join(this.dirname,this.stem+(e||""))}},{key:"stem",get:function(){return"string"==typeof this.path?Xa.basename(this.path,this.extname):void 0},set:function(e){ss(e,"stem"),as(e,"stem"),this.path=Xa.join(this.dirname||"",e+(this.extname||""))}},{key:"toString",value:function(e){return(this.value||"").toString(e)}},{key:"message",value:function(e,t,n){var r=new Ya(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}},{key:"info",value:function(e,t,n){var r=this.message(e,t,n);return r.fatal=null,r}},{key:"fail",value:function(e,t,n){var r=this.message(e,t,n);throw r.fatal=!0,r}}]),e}();function as(e,t){if(e&&e.includes(Xa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Xa.sep+"`")}function ss(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ls(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}var us=function e(){var n,r=(s=[],l={run:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=-1,o=n.pop();if("function"!=typeof o)throw new TypeError("Expected function as last argument, not "+o);function a(e){for(var r=arguments.length,l=new Array(r>1?r-1:0),u=1;u<r;u++)l[u-1]=arguments[u];var c=s[++i],d=-1;if(e)o(e);else{for(;++d<n.length;)null!==l[d]&&void 0!==l[d]||(l[d]=n[d]);n=l,c?Ga(c,a).apply(this,t(M)(l)):o.apply(void 0,[null].concat(t(M)(l)))}}a.apply(void 0,[null].concat(t(M)(n)))},use:function(e){if("function"!=typeof e)throw new TypeError("Expected `middelware` to be a function, not "+e);return s.push(e),l}},l),i=[],o={},a=-1;var s,l;return u.data=function(e,t){if("string"==typeof e)return 2===arguments.length?(ps("data",n),o[e]=t,u):cs.call(o,e)&&o[e]||null;if(e)return ps("data",n),o=e,u;return o},u.Parser=void 0,u.Compiler=void 0,u.freeze=function(){if(n)return u;for(;++a<i.length;){var e,o=t(Pa)(i[a]),s=o[0],l=o.slice(1);if(!1!==l[0]){!0===l[0]&&(l[0]=void 0);var c=(e=s).call.apply(e,[u].concat(t(M)(l)));"function"==typeof c&&r.use(c)}}return n=!0,a=Number.POSITIVE_INFINITY,u},u.attachers=i,u.use=function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var l;if(ps("use",n),null==e);else if("function"==typeof e)f.apply(void 0,[e].concat(t(M)(a)));else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?h(e):d(e)}l&&(o.settings=Object.assign(o.settings||{},l));return u;function c(e){if("function"==typeof e)f(e);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){var n=t(Pa)(e),r=n[0],i=n.slice(1);f.apply(void 0,[r].concat(t(M)(i)))}else d(e)}}function d(e){h(e.plugins),e.settings&&(l=Object.assign(l||{},e.settings))}function h(e){var t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){c(e[t])}}}function f(e,n){for(var r,o=-1;++o<i.length;)if(i[o][0]===e){r=i[o];break}r?(Za(r[1])&&Za(n)&&(n=t(Ba)(!0,r[1],n)),r[1]=n):i.push(Array.prototype.slice.call(arguments))}},u.parse=function(e){u.freeze();var t=ms(e),n=u.Parser;if(hs("parse",n),ds(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},u.stringify=function(e,t){u.freeze();var n=ms(t),r=u.Compiler;if(fs("stringify",r),gs(e),ds(r,"compile"))return new r(e,n).compile();return r(e,n)},u.run=function(e,t,n){gs(e),u.freeze(),n||"function"!=typeof t||(n=t,t=void 0);if(!n)return new Promise(i);function i(i,o){function a(t,r,a){r=r||e,t?o(t):i?i(r):n(null,r,a)}r.run(e,ms(t),a)}i(null,n)},u.runSync=function(e,t){var n,r;return u.run(e,t,i),vs("runSync","run",r),n;function i(e,t){Oa(e),n=t,r=!0}},u.process=function(e,n){if(u.freeze(),hs("process",u.Parser),fs("process",u.Compiler),!n)return new Promise(r);function r(r,i){var o=ms(e);function a(e,t){e||!t?i(e):r?r(t):n(null,t)}u.run(u.parse(o),o,(function(e,n,r){if(!e&&n&&r){var i=u.stringify(n,r);null==i||("string"==typeof(o=i)||t(Fa)(o)?r.value=i:r.result=i),a(e,r)}else a(e);var o}))}r(null,n)},u.processSync=function(e){var t;u.freeze(),hs("processSync",u.Parser),fs("processSync",u.Compiler);var n=ms(e);return u.process(n,r),vs("processSync","process",t),n;function r(e){t=!0,Oa(e)}},u;function u(){for(var n=e(),r=-1;++r<i.length;){var a;(a=n).use.apply(a,t(M)(i[r]))}return n.data(t(Ba)(!0,{},o)),n}}().freeze(),cs={}.hasOwnProperty;function ds(e,t){return"function"==typeof e&&e.prototype&&(function(e){var t;for(t in e)if(cs.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function hs(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function fs(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function ps(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gs(e){if(!Za(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function vs(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ms(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new os(e)}var ys,bs,_s=us().use(ua).use((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.data();function n(e,n){(t[e]?t[e]:t[e]=[]).push(n)}n("micromarkExtensions",Rr(e)),n("fromMarkdownExtensions",Ai()),n("toMarkdownExtensions",Mi(e))})).use(Na).use((function(e){var n=this.data("settings"),r=t(l)({},e,n);null!==r.fragment&&void 0!==r.fragment||(r.fragment=!0),Object.assign(this,{Compiler:function(e){var t=pn(e,r);return(new XMLSerializer).serializeToString(t).replace(gn,"")}})})).use((function(){return Cn})),ks=(ys=t(yt)(t(_t).mark((function e(n){var r,i;return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s.process(n.getValue());case 2:return r=e.sent,i=r.toString(),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),function(e){return ys.apply(this,arguments)}),Cs=function(e){var n=e.editor,r=t(u)((0,c.useState)(""),2),i=r[0],o=r[1];return(0,c.useEffect)((function(){if(null!==n){ks(n).then((function(e){return o(e)}));var e=function(){var e=t(yt)(t(_t).mark((function e(){return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,ks(n);case 3:return e.t1=e.sent,e.abrupt("return",void(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=[n.onDidChangeModelContent(e),n.onDidChangeModel(e)];return function(){return r.forEach((function(e){return e.dispose()}))}}}),[n]),i},xs=(u=o("56Cfp"),c=o("6AbkI"),T=o("84NKZ"),/^\s+|\s+$/g),ws=/^[-+]0x[0-9a-f]+$/i,Ss=/^0b[01]+$/i,Es=/^0o[0-7]+$/i,Ds=parseInt,Is="object"==typeof n&&n&&n.Object===Object&&n,Rs="object"==typeof self&&self&&self.Object===Object&&self,Ls=Is||Rs||Function("return this")(),As=Object.prototype.toString,Ms=Math.max,Ts=Math.min,Ns=function(){return Ls.Date.now()};function Ps(e){var n=void 0===e?"undefined":t(T)(e);return!!e&&("object"==n||"function"==n)}function Os(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":t(T)(e))||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==As.call(e)}(e))return NaN;if(Ps(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Ps(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(xs,"");var r=Ss.test(e);return r||Es.test(e)?Ds(e.slice(2),r?2:8):ws.test(e)?NaN:+e}bs=function(e,t,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function p(e){return u=e,s=setTimeout(v,t),c?f(e):a}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=o}function v(){var e=Ns();if(g(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-l);return d?Ts(n,o-(e-u)):n}(e))}function m(e){return s=void 0,h&&r?f(e):(r=i=void 0,a)}function y(){var e=Ns(),n=g(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return p(l);if(d)return s=setTimeout(v,t),f(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=Os(t)||0,Ps(n)&&(c=!!n.leading,o=(d="maxWait"in n)?Ms(Os(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:m(Ns())},y};var Fs,Bs=function(e){var n=e.editor,r=(0,c.useRef)(null),i=(0,c.useMemo)((function(){return null===n?null:t(bs)((function(){return function(e,n){var r=t(u)(e.getVisibleRanges(),1)[0].startLineNumber;if(1===r){var i,o=n.current;null==o||null===(i=o.parentElement)||void 0===i||i.scrollTo({top:0,behavior:"smooth"})}else{var a=document.querySelector('[data-line="'.concat(r,'"]'));null==a||a.scrollIntoView({block:"start",behavior:"smooth"})}}(n,r)}),100)}),[n]);return(0,c.useEffect)((function(){if(null!==n&&null!==i){var e=n.onDidScrollChange(i);return function(){return e.dispose()}}}),[n,i]),r},zs=(u=o("56Cfp"),u=o("56Cfp"),c=o("6AbkI"),function(e){var n=e.storageKey,r=e.defaultValue,i=t(u)((0,c.useState)((function(){var e=window.localStorage.getItem(n);return null===e?r:JSON.parse(e)})),2),o=i[0],a=i[1];return(0,c.useEffect)((function(){window.localStorage.setItem(n,JSON.stringify(o))}),[o,n]),[o,a]}),Ws={};e(Ws,"container",(function(){return Fs}),(function(e){return Fs=e})),Fs="container_118647";var Hs,Vs={};e(Vs,"container",(function(){return Hs}),(function(e){return Hs=e})),Hs="container_8ba079";var js,Ks={container:"".concat(t(Ws).container," ").concat(t(Vs).container)},Us={};e(Us,"container",(function(){return js}),(function(e){return js=e})),js="container_1ca218";var qs,Zs={};e(Zs,"container",(function(){return qs}),(function(e){return qs=e})),qs="container_50be62";var Gs,Qs={container:"".concat(t(Zs).container," ").concat(t(Us).container)},Js={};e(Js,"container",(function(){return Gs}),(function(e){return Gs=e})),Gs="container_4fc392";var Ys,Xs={};e(Xs,"container",(function(){return Ys}),(function(e){return Ys=e})),Ys="container_596e24";var $s,el,tl,nl,rl,il={container:"".concat(t(Js).container," ").concat(t(Xs).container)},ol=["tailwind","github","serif"],al={github:{name:"GitHub",className:Ks.container},tailwind:{name:"Tailwind",className:il.container},serif:{name:"Serif",className:Qs.container}},sl=function(){var e=t(u)(zs({defaultValue:"github",storageKey:"preview-template"}),2);return{previewTemplate:e[0],setPreviewTemplate:e[1]}},ll=function(e){return{background:Ze[e.prefs.theme].colors.bg.lighten(.15).hex()}},ul=function(e){var n=e.editor,r=Bs({editor:n}),i=Cs({editor:n}),o=al[e.prefs.previewTemplate];return(0,a.jsx)("div",{className:t(mt).container,children:(0,a.jsx)("div",{className:[t(mt).paper].join(" "),style:ll(e),children:(0,a.jsx)("div",{ref:r,className:[t(mt).content,o.className].join(" "),dangerouslySetInnerHTML:{__html:i}})})})},cl={};e(cl,"layout",(function(){return $s}),(function(e){return $s=e})),e(cl,"editor",(function(){return el}),(function(e){return el=e})),e(cl,"preview",(function(){return tl}),(function(e){return tl=e})),e(cl,"previewView",(function(){return nl}),(function(e){return nl=e})),e(cl,"splitView",(function(){return rl}),(function(e){return rl=e})),$s="layout_b11c73",el="editor_b11c73",tl="preview_b11c73",nl="previewView_b11c73",rl="splitView_b11c73";var dl=function(e){var n=e.prefs,r=n.previewVisible,i=n.previewSplit;return!1===r?t(cl).editorView:i?t(cl).splitView:t(cl).previewView},hl=function(e){return(0,a.jsxs)("div",{className:[t(cl).layout,dl(e)].join(" "),children:[(0,a.jsx)("div",{className:t(cl).editor,children:(0,a.jsx)(vt,{file:e.file,prefs:e.prefs,editor:e.editor})}),e.prefs.previewVisible&&(0,a.jsx)("div",{className:t(cl).preview,children:(0,a.jsx)(ul,{editor:e.editor.value,prefs:e.prefs})})]})};u=o("56Cfp"),a=o("gYOhc");function fl(e){return e?(e.nodeName||"").toLowerCase():null}function pl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gl(e){return e instanceof pl(e).Element||e instanceof Element}function vl(e){return e instanceof pl(e).HTMLElement||e instanceof HTMLElement}function ml(e){return"undefined"!=typeof ShadowRoot&&(e instanceof pl(e).ShadowRoot||e instanceof ShadowRoot)}var yl={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];vl(i)&&fl(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});vl(r)&&fl(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},bl=Math.round;function _l(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;return vl(e)&&t&&(r=n.width/e.offsetWidth||1,i=n.height/e.offsetHeight||1),{width:bl(n.width/r),height:bl(n.height/i),top:bl(n.top/i),right:bl(n.right/r),bottom:bl(n.bottom/i),left:bl(n.left/r),x:bl(n.left/r),y:bl(n.top/i)}}function kl(e){var t=pl(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Cl(e){return((gl(e)?e.ownerDocument:e.document)||window.document).documentElement}function xl(e){return _l(Cl(e)).left+kl(e).scrollLeft}function wl(e){return pl(e).getComputedStyle(e)}function Sl(e){var t=wl(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function El(e,t,n){void 0===n&&(n=!1);var r,i,o=vl(t),a=vl(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),s=Cl(t),l=_l(e,a),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&(("body"!==fl(t)||Sl(s))&&(u=(r=t)!==pl(r)&&vl(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:kl(r)),vl(t)?((c=_l(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=xl(s))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function Dl(e){var t=_l(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Il(e){return"html"===fl(e)?e:e.assignedSlot||e.parentNode||(ml(e)?e.host:null)||Cl(e)}function Rl(e){return["html","body","#document"].indexOf(fl(e))>=0?e.ownerDocument.body:vl(e)&&Sl(e)?e:Rl(Il(e))}function Ll(e,t){var n;void 0===t&&(t=[]);var r=Rl(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=pl(r),a=i?[o].concat(o.visualViewport||[],Sl(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Ll(Il(a)))}function Al(e){return["table","td","th"].indexOf(fl(e))>=0}function Ml(e){return vl(e)&&"fixed"!==wl(e).position?e.offsetParent:null}function Tl(e){for(var t=pl(e),n=Ml(e);n&&Al(n)&&"static"===wl(n).position;)n=Ml(n);return n&&("html"===fl(n)||"body"===fl(n)&&"static"===wl(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&vl(e)&&"fixed"===wl(e).position)return null;for(var n=Il(e);vl(n)&&["html","body"].indexOf(fl(n))<0;){var r=wl(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Nl="top",Pl="bottom",Ol="right",Fl="left",Bl="auto",zl=[Nl,Pl,Ol,Fl],Wl="start",Hl="end",Vl="viewport",jl="popper",Kl=zl.reduce((function(e,t){return e.concat([t+"-"+Wl,t+"-"+Hl])}),[]),Ul=[].concat(zl,[Bl]).reduce((function(e,t){return e.concat([t,t+"-"+Wl,t+"-"+Hl])}),[]),ql=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Zl(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Gl(e){var t=Zl(e);return ql.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function Ql(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var Jl={placement:"bottom",modifiers:[],strategy:"absolute"};function Yl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Xl(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Jl:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jl,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:s,setOptions:function(n){d(),s.options=Object.assign({},o,s.options,n),s.scrollParents={reference:gl(e)?Ll(e):e.contextElement?Ll(e.contextElement):[],popper:Ll(t)};var i=Gl(Ql([].concat(r,s.options.modifiers)));return s.orderedModifiers=i.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:c,options:r}),a=function(){};l.push(o||a)}})),c.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,n=e.popper;if(Yl(t,n)){s.rects={reference:El(t,Tl(n),"fixed"===s.options.strategy),popper:Dl(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,l=void 0===a?{}:a,d=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:d,instance:c})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){c.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){d(),u=!0}};if(!Yl(e,t))return c;function d(){l.forEach((function(e){return e()})),l=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var $l={passive:!0};var eu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=pl(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,$l)})),s&&l.addEventListener("resize",n.update,$l),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,$l)})),s&&l.removeEventListener("resize",n.update,$l)}},data:{}};function tu(e){return e.split("-")[0]}function nu(e){return e.split("-")[1]}function ru(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function iu(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?tu(i):null,a=i?nu(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Nl:t={x:s,y:n.y-r.height};break;case Pl:t={x:s,y:n.y+n.height};break;case Ol:t={x:n.x+n.width,y:l};break;case Fl:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?ru(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case Wl:t[u]=t[u]-(n[c]/2-r[c]/2);break;case Hl:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var ou={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=iu({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},au=Math.max,su=Math.min,lu=Math.round,uu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cu(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,c=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:lu(lu(t*r)/r)||0,y:lu(lu(n*r)/r)||0}}(o):"function"==typeof u?u(o):o,d=c.x,h=void 0===d?0:d,f=c.y,p=void 0===f?0:f,g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),m=Fl,y=Nl,b=window;if(l){var _=Tl(n),k="clientHeight",C="clientWidth";_===pl(n)&&"static"!==wl(_=Cl(n)).position&&(k="scrollHeight",C="scrollWidth"),i===Nl&&(y=Pl,p-=_[k]-r.height,p*=s?1:-1),i===Fl&&(m=Ol,h-=_[C]-r.width,h*=s?1:-1)}var x,w=Object.assign({position:a},l&&uu);return s?Object.assign({},w,((x={})[y]=v?"0":"",x[m]=g?"0":"",x.transform=(b.devicePixelRatio||1)<2?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",x)):Object.assign({},w,((t={})[y]=v?p+"px":"",t[m]=g?h+"px":"",t.transform="",t))}var du={left:"right",right:"left",bottom:"top",top:"bottom"};function hu(e){return e.replace(/left|right|bottom|top/g,(function(e){return du[e]}))}var fu={start:"end",end:"start"};function pu(e){return e.replace(/start|end/g,(function(e){return fu[e]}))}function gu(e){var t=pl(e),n=Cl(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+xl(e),y:s}}function vu(e){var t,n=Cl(e),r=kl(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=au(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=au(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+xl(e),l=-r.scrollTop;return"rtl"===wl(i||n).direction&&(s+=au(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function mu(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ml(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yu(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function bu(e,t){return t===Vl?yu(gu(e)):vl(t)?function(e){var t=_l(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):yu(vu(Cl(e)))}function _u(e,t,n){var r="clippingParents"===t?function(e){var t=Ll(Il(e)),n=["absolute","fixed"].indexOf(wl(e).position)>=0&&vl(e)?Tl(e):e;return gl(n)?t.filter((function(e){return gl(e)&&mu(e,n)&&"body"!==fl(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=bu(e,n);return t.top=au(r.top,t.top),t.right=su(r.right,t.right),t.bottom=su(r.bottom,t.bottom),t.left=au(r.left,t.left),t}),bu(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ku(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Cu(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function xu(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,l=void 0===s?Vl:s,u=n.elementContext,c=void 0===u?jl:u,d=n.altBoundary,h=void 0!==d&&d,f=n.padding,p=void 0===f?0:f,g=ku("number"!=typeof p?p:Cu(p,zl)),v=c===jl?"reference":jl,m=e.elements.reference,y=e.rects.popper,b=e.elements[h?v:c],_=_u(gl(b)?b:b.contextElement||Cl(e.elements.popper),a,l),k=_l(m),C=iu({reference:k,element:y,strategy:"absolute",placement:i}),x=yu(Object.assign({},y,C)),w=c===jl?x:k,S={top:_.top-w.top+g.top,bottom:w.bottom-_.bottom+g.bottom,left:_.left-w.left+g.left,right:w.right-_.right+g.right},E=e.modifiersData.offset;if(c===jl&&E){var D=E[i];Object.keys(S).forEach((function(e){var t=[Ol,Pl].indexOf(e)>=0?1:-1,n=[Nl,Pl].indexOf(e)>=0?"y":"x";S[e]+=D[n]*t}))}return S}function wu(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Ul:l,c=nu(r),d=c?s?Kl:Kl.filter((function(e){return nu(e)===c})):zl,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=xu(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[tu(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}function Su(e,t,n){return au(e,su(t,n))}function Eu(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Du(e){return[Nl,Ol,Pl,Fl].some((function(t){return e[t]>=0}))}var Iu=Xl({defaultModifiers:[eu,ou,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:tu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,cu(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,cu(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},yl,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=Ul.reduce((function(e,n){return e[n]=function(e,t,n){var r=tu(e),i=[Fl,Nl].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Fl,Ol].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,g=n.allowedAutoPlacements,v=t.options.placement,m=tu(v),y=l||(m===v||!p?[hu(v)]:function(e){if(tu(e)===Bl)return[];var t=hu(e);return[pu(e),t,pu(t)]}(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(tu(n)===Bl?wu(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),_=t.rects.reference,k=t.rects.popper,C=new Map,x=!0,w=b[0],S=0;S<b.length;S++){var E=b[S],D=tu(E),I=nu(E)===Wl,R=[Nl,Pl].indexOf(D)>=0,L=R?"width":"height",A=xu(t,{placement:E,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),M=R?I?Ol:Fl:I?Pl:Nl;_[L]>k[L]&&(M=hu(M));var T=hu(M),N=[];if(o&&N.push(A[D]<=0),s&&N.push(A[M]<=0,A[T]<=0),N.every((function(e){return e}))){w=E,x=!1;break}C.set(E,N)}if(x)for(var P=function(e){var t=b.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return w=t,"break"},O=p?3:1;O>0;O--){if("break"===P(O))break}t.placement!==w&&(t.modifiersData[r]._skip=!0,t.placement=w,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,g=void 0===p?0:p,v=xu(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=tu(t.placement),y=nu(t.placement),b=!y,_=ru(m),k="x"===_?"y":"x",C=t.modifiersData.popperOffsets,x=t.rects.reference,w=t.rects.popper,S="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,E={x:0,y:0};if(C){if(o||s){var D="y"===_?Nl:Fl,I="y"===_?Pl:Ol,R="y"===_?"height":"width",L=C[_],A=C[_]+v[D],M=C[_]-v[I],T=f?-w[R]/2:0,N=y===Wl?x[R]:w[R],P=y===Wl?-w[R]:-x[R],O=t.elements.arrow,F=f&&O?Dl(O):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[D],W=B[I],H=Su(0,x[R],F[R]),V=b?x[R]/2-T-H-z-S:N-H-z-S,j=b?-x[R]/2+T+H+W+S:P+H+W+S,K=t.elements.arrow&&Tl(t.elements.arrow),U=K?"y"===_?K.clientTop||0:K.clientLeft||0:0,q=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,Z=C[_]+V-q-U,G=C[_]+j-q;if(o){var Q=Su(f?su(A,Z):A,L,f?au(M,G):M);C[_]=Q,E[_]=Q-L}if(s){var J="x"===_?Nl:Fl,Y="x"===_?Pl:Ol,X=C[k],$=X+v[J],ee=X-v[Y],te=Su(f?su($,Z):$,X,f?au(ee,G):ee);C[k]=te,E[k]=te-X}}t.modifiersData[r]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=tu(n.placement),l=ru(s),u=[Fl,Ol].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return ku("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Cu(e,zl))}(i.padding,n),d=Dl(o),h="y"===l?Nl:Fl,f="y"===l?Pl:Ol,p=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],g=a[l]-n.rects.reference[l],v=Tl(o),m=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=p/2-g/2,b=c[h],_=m-d[u]-c[f],k=m/2-d[u]/2+y,C=Su(b,k,_),x=l;n.modifiersData[r]=((t={})[x]=C,t.centerOffset=C-k,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&mu(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=xu(t,{elementContext:"reference"}),s=xu(t,{altBoundary:!0}),l=Eu(a,r),u=Eu(s,i,o),c=Du(l),d=Du(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),Ru="tippy-content",Lu="tippy-backdrop",Au="tippy-arrow",Mu="tippy-svg-arrow",Tu={passive:!0,capture:!0};function Nu(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function Pu(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function Ou(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Fu(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Bu(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function zu(e){return[].concat(e)}function Wu(e,t){-1===e.indexOf(t)&&e.push(t)}function Hu(e){return e.split("-")[0]}function Vu(e){return[].slice.call(e)}function ju(){return document.createElement("div")}function Ku(e){return["Element","Fragment"].some((function(t){return Pu(e,t)}))}function Uu(e){return Pu(e,"MouseEvent")}function qu(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Zu(e){return Ku(e)?[e]:function(e){return Pu(e,"NodeList")}(e)?Vu(e):Array.isArray(e)?e:Vu(document.querySelectorAll(e))}function Gu(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Qu(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Ju(e){var t,n=zu(e)[0];return(null==n||null==(t=n.ownerDocument)?void 0:t.body)?n.ownerDocument:document}function Yu(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}var Xu={isTouch:!1},$u=0;function ec(){Xu.isTouch||(Xu.isTouch=!0,window.performance&&document.addEventListener("mousemove",tc))}function tc(){var e=performance.now();e-$u<20&&(Xu.isTouch=!1,document.removeEventListener("mousemove",tc)),$u=e}function nc(){var e=document.activeElement;if(qu(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var rc="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",ic=/MSIE |Trident\//.test(rc);var oc={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ac=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},oc,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),sc=Object.keys(ac);function lc(e){var t=(e.plugins||[]).reduce((function(t,n){var r=n.name,i=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:i),t}),{});return Object.assign({},e,{},t)}function uc(e,t){var n=Object.assign({},t,{content:Ou(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(lc(Object.assign({},ac,{plugins:t}))):sc).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},ac.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function cc(e,t){e.innerHTML=t}function dc(e){var t=ju();return!0===e?t.className=Au:(t.className=Mu,Ku(e)?t.appendChild(e):cc(t,e)),t}function hc(e,t){Ku(t.content)?(cc(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?cc(e,t.content):e.textContent=t.content)}function fc(e){var t=e.firstElementChild,n=Vu(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(Ru)})),arrow:n.find((function(e){return e.classList.contains(Au)||e.classList.contains(Mu)})),backdrop:n.find((function(e){return e.classList.contains(Lu)}))}}function pc(e){var t=ju(),n=ju();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=ju();function i(n,r){var i=fc(t),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||hc(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(dc(r.arrow))):o.appendChild(dc(r.arrow)):s&&o.removeChild(s)}return r.className=Ru,r.setAttribute("data-state","hidden"),hc(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}pc.$$tippy=!0;var gc=1,vc=[],mc=[];function yc(e,t){var n,r,i,o,a,s,l,u,c=uc(e,Object.assign({},ac,{},lc(function(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}(t)))),d=!1,h=!1,f=!1,p=!1,g=[],v=Fu(Z,c.interactiveDebounce),m=gc++,y=(u=c.plugins).filter((function(e,t){return u.indexOf(e)===t})),b={id:m,reference:e,popper:ju(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(b.state.isDestroyed)return;T("onBeforeUpdate",[b,t]),U();var n=b.props,r=uc(e,Object.assign({},b.props,{},t,{ignoreAttributes:!0}));b.props=r,K(),n.interactiveDebounce!==r.interactiveDebounce&&(O(),v=Fu(Z,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?zu(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");P(),M(),C&&C(n,r);b.popperInstance&&(Y(),$().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));T("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){0;var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=Xu.isTouch&&!b.props.touch,i=Nu(b.props.duration,0,ac.duration);if(e||t||n||r)return;if(I().hasAttribute("disabled"))return;if(T("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,D()&&(k.style.visibility="visible");M(),W(),b.state.isMounted||(k.style.transition="none");if(D()){var o=L(),a=o.box,l=o.content;Gu([a,l],0)}s=function(){var e;if(b.state.isVisible&&!p){if(p=!0,k.offsetHeight,k.style.transition=b.props.moveTransition,D()&&b.props.animation){var t=L(),n=t.box,r=t.content;Gu([n,r],i),Qu([n,r],"visible")}N(),P(),Wu(mc,b),null==(e=b.popperInstance)||e.forceUpdate(),b.state.isMounted=!0,T("onMount",[b]),b.props.animation&&D()&&function(e,t){V(e,t)}(i,(function(){b.state.isShown=!0,T("onShown",[b])}))}},function(){var e,t=b.props.appendTo,n=I();e=b.props.interactive&&t===ac.appendTo||"parent"===t?n.parentNode:Ou(t,[n]);e.contains(k)||e.appendChild(k);Y(),!1}()},hide:function(){0;var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=Nu(b.props.duration,1,ac.duration);if(e||t||n)return;if(T("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,p=!1,d=!1,D()&&(k.style.visibility="hidden");if(O(),H(),M(),D()){var i=L(),o=i.box,a=i.content;b.props.animation&&(Gu([o,a],r),Qu([o,a],"hidden"))}N(),P(),b.props.animation?D()&&function(e,t){V(e,(function(){!b.state.isVisible&&k.parentNode&&k.parentNode.contains(k)&&t()}))}(r,b.unmount):b.unmount()},hideWithInteractivity:function(e){0;R().addEventListener("mousemove",v),Wu(vc,v),v(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;X(),$().forEach((function(e){e._tippy.unmount()})),k.parentNode&&k.parentNode.removeChild(k);mc=mc.filter((function(e){return e!==b})),b.state.isMounted=!1,T("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),U(),delete e._tippy,b.state.isDestroyed=!0,T("onDestroy",[b])}};if(!c.render)return b;var _=c.render(b),k=_.popper,C=_.onUpdate;k.setAttribute("data-tippy-root",""),k.id="tippy-"+b.id,b.popper=k,e._tippy=b,k._tippy=b;var x=y.map((function(e){return e.fn(b)})),w=e.hasAttribute("aria-expanded");return K(),P(),M(),T("onCreate",[b]),c.showOnCreate&&ee(),k.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),k.addEventListener("mouseleave",(function(e){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&(R().addEventListener("mousemove",v),v(e))})),b;function S(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function E(){return"hold"===S()[0]}function D(){var e;return!!(null==(e=b.props.render)?void 0:e.$$tippy)}function I(){return l||e}function R(){var e=I().parentNode;return e?Ju(e):document}function L(){return fc(k)}function A(e){return b.state.isMounted&&!b.state.isVisible||Xu.isTouch||o&&"focus"===o.type?0:Nu(b.props.delay,e?0:1,ac.delay)}function M(){k.style.pointerEvents=b.props.interactive&&b.state.isVisible?"":"none",k.style.zIndex=""+b.props.zIndex}function T(e,t,n){var r;(void 0===n&&(n=!0),x.forEach((function(n){n[e]&&n[e].apply(void 0,t)})),n)&&(r=b.props)[e].apply(r,t)}function N(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,r=k.id;zu(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function P(){!w&&b.props.aria.expanded&&zu(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===I()?"true":"false"):e.removeAttribute("aria-expanded")}))}function O(){R().removeEventListener("mousemove",v),vc=vc.filter((function(e){return e!==v}))}function F(e){if(!(Xu.isTouch&&(f||"mousedown"===e.type)||b.props.interactive&&k.contains(e.target))){if(I().contains(e.target)){if(Xu.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else T("onClickOutside",[b,e]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),h=!0,setTimeout((function(){h=!1})),b.state.isMounted||H())}}function B(){f=!0}function z(){f=!1}function W(){var e=R();e.addEventListener("mousedown",F,!0),e.addEventListener("touchend",F,Tu),e.addEventListener("touchstart",z,Tu),e.addEventListener("touchmove",B,Tu)}function H(){var e=R();e.removeEventListener("mousedown",F,!0),e.removeEventListener("touchend",F,Tu),e.removeEventListener("touchstart",z,Tu),e.removeEventListener("touchmove",B,Tu)}function V(e,t){var n=L().box;function r(e){e.target===n&&(Yu(n,"remove",r),t())}if(0===e)return t();Yu(n,"remove",a),Yu(n,"add",r),a=r}function j(t,n,r){void 0===r&&(r=!1),zu(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),g.push({node:e,eventType:t,handler:n,options:r})}))}function K(){var e;E()&&(j("touchstart",q,{passive:!0}),j("touchend",G,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(j(e,q),e){case"mouseenter":j("mouseleave",G);break;case"focus":j(ic?"focusout":"blur",Q);break;case"focusin":j("focusout",Q)}}))}function U(){g.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),g=[]}function q(e){var t,n=!1;if(b.state.isEnabled&&!J(e)&&!h){var r="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,P(),!b.state.isVisible&&Uu(e)&&vc.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||d)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(d=!n),n&&!r&&te(e)}}function Z(e){var t=e.target,n=I().contains(t)||k.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props.interactiveBorder,a=Hu(i.placement),s=i.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,u="top"===a?s.bottom.y:0,c="right"===a?s.left.x:0,d="left"===a?s.right.x:0,h=t.top-r+l>o,f=r-t.bottom-u>o,p=t.left-n+c>o,g=n-t.right-d>o;return h||f||p||g}))}($().concat(k).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:c}:null})).filter(Boolean),e)&&(O(),te(e))}function G(e){J(e)||b.props.trigger.indexOf("click")>=0&&d||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function Q(e){b.props.trigger.indexOf("focusin")<0&&e.target!==I()||b.props.interactive&&e.relatedTarget&&k.contains(e.relatedTarget)||te(e)}function J(e){return!!Xu.isTouch&&E()!==e.type.indexOf("touch")>=0}function Y(){X();var t=b.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,l=D()?fc(k).arrow:null,u=o?{getBoundingClientRect:o,contextElement:o.contextElement||I()}:e,c=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(D()){var n=L().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];D()&&l&&c.push({name:"arrow",options:{element:l,padding:3}}),c.push.apply(c,(null==n?void 0:n.modifiers)||[]),b.popperInstance=Iu(u,k,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:c}))}function X(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function $(){return Vu(k.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&T("onTrigger",[b,e]),W();var t=A(!0),r=S(),i=r[0],o=r[1];Xu.isTouch&&"hold"===i&&o&&(t=o),t?n=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),T("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&d)){var t=A(!1);t?r=setTimeout((function(){b.state.isVisible&&b.hide()}),t):i=requestAnimationFrame((function(){b.hide()}))}}else H()}}function bc(e,t){void 0===t&&(t={});var n=ac.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",ec,Tu),window.addEventListener("blur",nc);var r=Object.assign({},t,{plugins:n}),i=Zu(e).reduce((function(e,t){var n=t&&yc(t,r);return n&&e.push(n),e}),[]);return Ku(e)?i[0]:i}bc.defaultProps=ac,bc.setDefaultProps=function(e){Object.keys(e).forEach((function(t){ac[t]=e[t]}))},bc.currentInput=Xu;var _c=Object.assign({},yl,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});bc.setDefaultProps({render:pc});var kc=bc;c=o("6AbkI");function Cc(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var xc="undefined"!=typeof window&&"undefined"!=typeof document;function wc(e,t){e&&("function"==typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function Sc(){return xc&&document.createElement("div")}function Ec(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!Ec(e[n],t[n]))return!1}return!0}return!1}function Dc(e){var t=[];return e.forEach((function(e){t.find((function(t){return Ec(e,t)}))||t.push(e)})),t}function Ic(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:Dc([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var Rc=xc?c.useLayoutEffect:c.useEffect;function Lc(e){var t=(0,c.useRef)();return t.current||(t.current="function"==typeof e?e():e),t.current}function Ac(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var Mc={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||Ac(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&Ac(t,"remove",e.props.className)},onAfterUpdate:r}}};function Tc(e){return function(n){var r=n.children,i=n.content,o=n.visible,a=n.singleton,l=n.render,u=n.reference,d=n.disabled,h=void 0!==d&&d,f=n.ignoreAttributes,p=void 0===f||f,g=(n.__source,n.__self,Cc(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),v=void 0!==o,m=void 0!==a,y=(0,c.useState)(!1),b=y[0],_=y[1],k=(0,c.useState)({}),C=k[0],x=k[1],w=(0,c.useState)(),S=w[0],E=w[1],D=Lc((function(){return{container:Sc(),renders:1}})),I=Object.assign({ignoreAttributes:p},g,{content:D.container});v&&(I.trigger="manual",I.hideOnClick=!1),m&&(h=!0);var R=I,L=I.plugins||[];l&&(R=Object.assign({},I,{plugins:m&&null!=a.data?[].concat(L,[{fn:function(){return{onTrigger:function(e,t){var n=a.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,E(n.content)}}}}]):L,render:function(){return{popper:D.container}}}));var A=[u].concat(r?[r.type]:[]);return Rc((function(){var t=u;u&&u.hasOwnProperty("current")&&(t=u.current);var n=e(t||D.ref||Sc(),Object.assign({},R,{plugins:[Mc].concat(I.plugins||[])}));return D.instance=n,h&&n.disable(),o&&n.show(),m&&a.hook({instance:n,content:i,props:R,setSingletonContent:E}),_(!0),function(){n.destroy(),null==a||a.cleanup(n)}}),A),Rc((function(){var e;if(1!==D.renders){var t=D.instance;t.setProps(Ic(t.props,R)),null==(e=t.popperInstance)||e.forceUpdate(),h?t.disable():t.enable(),v&&(o?t.show():t.hide()),m&&a.hook({instance:t,content:i,props:R,setSingletonContent:E})}else D.renders++})),Rc((function(){var e;if(l){var t=D.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;C.placement===n.placement&&C.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&C.escaped===(null==r?void 0:r.hasPopperEscaped)||x({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[C.placement,C.referenceHidden,C.escaped].concat(A)),t(c).createElement(t(c).Fragment,null,r?(0,c.cloneElement)(r,{ref:function(e){D.ref=e,wc(r.ref,e)}}):null,b&&(0,s.createPortal)(l?l(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(C),S,D.instance):i,D.container))}}function Nc(e){return function(t){var n=void 0===t?{}:t,r=n.disabled,i=void 0!==r&&r,o=n.overrides,a=void 0===o?[]:o,s=(0,c.useState)(!1),l=s[0],u=s[1],d=Lc({children:[],renders:1});return Rc((function(){if(l){var t=d.children,n=d.sourceData;if(n){var r=e(t.map((function(e){return e.instance})),Object.assign({},n.props,{popperOptions:n.instance.props.popperOptions,overrides:a,plugins:[Mc].concat(n.props.plugins||[])}));return d.instance=r,i&&r.disable(),function(){r.destroy(),d.children=t.filter((function(e){return!e.instance.state.isDestroyed}))}}}else u(!0)}),[l]),Rc((function(){if(l)if(1!==d.renders){var e=d.children,t=d.instance,n=d.sourceData;if(t&&n){var r=n.props,o=(r.content,Cc(r,["content"]));t.setProps(Ic(t.props,Object.assign({},o,{overrides:a}))),t.setInstances(e.map((function(e){return e.instance}))),i?t.disable():t.enable()}}else d.renders++})),(0,c.useMemo)((function(){return[{data:d,hook:function(e){d.sourceData=e,d.setSingletonContent=e.setSingletonContent},cleanup:function(){d.sourceData=null}},{hook:function(e){var t,n;d.children=d.children.filter((function(t){var n=t.instance;return e.instance!==n})),d.children.push(e),(null==(t=d.instance)?void 0:t.state.isMounted)&&(null==(n=d.instance)?void 0:n.state.$$activeSingletonInstance)===e.instance&&(null==d.setSingletonContent||d.setSingletonContent(e.content)),d.instance&&!d.instance.state.isDestroyed&&d.instance.setInstances(d.children.map((function(e){return e.instance})))},cleanup:function(e){d.children=d.children.filter((function(t){return t.instance!==e})),d.instance&&!d.instance.state.isDestroyed&&d.instance.setInstances(d.children.map((function(e){return e.instance})))}}]}),[])}}var Pc=function(e,n){return(0,c.forwardRef)((function(r,i){var o=r.children,a=Cc(r,["children"]);return t(c).createElement(e,Object.assign({},n,a),o?(0,c.cloneElement)(o,{ref:function(e){wc(i,e),wc(o.ref,e)}}):null)}))},Oc=Nc((function(e,t){var n;void 0===t&&(t={});var r,i=e,o=[],a=t.overrides,s=[],l=!1;function u(){o=i.map((function(e){return e.reference}))}function c(e){i.forEach((function(t){e?t.enable():t.disable()}))}function d(e){return i.map((function(t){var n=t.setProps;return t.setProps=function(i){n(i),t.reference===r&&e.setProps(i)},function(){t.setProps=n}}))}function h(e,t){var n=o.indexOf(t);if(t!==r){r=t;var s=(a||[]).concat("content").reduce((function(e,t){return e[t]=i[n].props[t],e}),{});e.setProps(Object.assign({},s,{getReferenceClientRect:"function"==typeof s.getReferenceClientRect?s.getReferenceClientRect:function(){return t.getBoundingClientRect()}}))}}c(!1),u();var f={fn:function(){return{onDestroy:function(){c(!0)},onHidden:function(){r=null},onClickOutside:function(e){e.props.showOnCreate&&!l&&(l=!0,r=null)},onShow:function(e){e.props.showOnCreate&&!l&&(l=!0,h(e,o[0]))},onTrigger:function(e,t){h(e,t.currentTarget)}}}},p=bc(ju(),Object.assign({},Bu(t,["overrides"]),{plugins:[f].concat(t.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[_c])})})),g=p.show;p.show=function(e){if(g(),!r&&null==e)return h(p,o[0]);if(!r||null!=e){if("number"==typeof e)return o[e]&&h(p,o[e]);if(i.includes(e)){var t=e.reference;return h(p,t)}return o.includes(e)?h(p,e):void 0}},p.showNext=function(){var e=o[0];if(!r)return p.show(0);var t=o.indexOf(r);p.show(o[t+1]||e)},p.showPrevious=function(){var e=o[o.length-1];if(!r)return p.show(e);var t=o.indexOf(r),n=o[t-1]||e;p.show(n)};var v=p.setProps;return p.setProps=function(e){a=e.overrides||a,v(e)},p.setInstances=function(e){c(!0),s.forEach((function(e){return e()})),i=e,c(!1),u(),d(p),p.setProps({triggerTarget:o})},s=d(p),p})),Fc=Pc(Tc(kc)),Bc=(c=o("6AbkI"),c=o("6AbkI"),{});!function(e,t,n){if(e){for(var r,i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l=1;l<20;++l)i[111+l]="f"+l;for(l=0;l<=9;++l)i[l+96]=l.toString();g.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},g.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},g.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},g.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(p(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);r=null},g.init=function(){var e=g(t);for(var n in e)"_"!==n.charAt(0)&&(g[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n))},g.init(),e.Mousetrap=g,Bc&&(Bc=g),"function"==typeof define&&define.amd&&define((function(){return g}))}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function c(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return i[e.which]?i[e.which]:o[e.which]?o[e.which]:String.fromCharCode(e.which).toLowerCase()}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function h(e,t,n){return n||(n=function(){if(!r)for(var e in r={},i)e>95&&e<112||i.hasOwnProperty(e)&&(r[i[e]]=e);return r}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function f(e,t){var n,r,i,o=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],s[r]&&(r=s[r]),t&&"keypress"!=t&&a[r]&&(r=a[r],o.push("shift")),d(r)&&o.push(r);return{key:r,modifiers:o,action:t=h(r,o,t)}}function p(e,n){return null!==e&&e!==t&&(e===n||p(e.parentNode,n))}function g(e){var n=this;if(e=e||t,!(n instanceof g))return new g(e);n.target=e,n._callbacks={},n._directMap={};var r,i={},o=!1,a=!1,s=!1;function l(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(s=!1)}function h(e,t,r,o,a,s){var l,u,c,h,f=[],p=r.type;if(!n._callbacks[e])return[];for("keyup"==p&&d(e)&&(t=[e]),l=0;l<n._callbacks[e].length;++l)if(u=n._callbacks[e][l],(o||!u.seq||i[u.seq]==u.level)&&p==u.action&&("keypress"==p&&!r.metaKey&&!r.ctrlKey||(c=t,h=u.modifiers,c.sort().join(",")===h.sort().join(",")))){var g=!o&&u.combo==a,v=o&&u.seq==o&&u.level==s;(g||v)&&n._callbacks[e].splice(l,1),f.push(u)}return f}function p(e,t,r,i){n.stopCallback(t,t.target||t.srcElement,r,i)||!1===e(t,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(t),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(t))}function v(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=c(e);t&&("keyup"!=e.type||o!==t?n.handleKey(t,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function m(e,t,n,a){function u(t){return function(){s=t,++i[e],clearTimeout(r),r=setTimeout(l,1e3)}}function d(t){p(n,t,e),"keyup"!==a&&(o=c(t)),setTimeout(l,10)}i[e]=0;for(var h=0;h<t.length;++h){var g=h+1===t.length?d:u(a||f(t[h+1]).action);y(t[h],g,a,e,h)}}function y(e,t,r,i,o){n._directMap[e+":"+r]=t;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?m(e,s,t,r):(a=f(e,r),n._callbacks[a.key]=n._callbacks[a.key]||[],h(a.key,a.modifiers,{type:a.action},i,e,o),n._callbacks[a.key][i?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e}))}n._handleKey=function(e,t,n){var r,i=h(e,t,n),o={},u=0,c=!1;for(r=0;r<i.length;++r)i[r].seq&&(u=Math.max(u,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=u)continue;c=!0,o[i[r].seq]=1,p(i[r].callback,n,i[r].combo,i[r].seq)}else c||p(i[r].callback,n,i[r].combo);var f="keypress"==n.type&&a;n.type!=s||d(e)||f||l(o),a=c&&"keydown"==n.type},n._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)y(e[r],t,n)},u(e,"keypress",v),u(e,"keydown",v),u(e,"keyup",v)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),function(e){if(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(e,r,i,o){return!!this.paused||!t[i]&&!t[o]&&n.call(this,e,r,i)},e.prototype.bindGlobal=function(e,n,r){if(this.bind(e,n,r),e instanceof Array)for(var i=0;i<e.length;i++)t[e[i]]=!0;else t[e]=!0},e.init()}}("undefined"!=typeof Mousetrap?Mousetrap:void 0);var zc=function(e){var n=e.keys,r=e.callback;(0,c.useEffect)((function(){return t(Bc).bindGlobal(n,(function(e){e.preventDefault(),r()})),function(){t(Bc).unbind(n)}}),[n,r])},Wc=(l=o("aJy7o"),a=o("gYOhc"),document.getElementById("portal"));if(null===Wc)throw Error("#portal is null");var Hc={delay:[500,500],duration:[100,300],moveTransition:"transform 500ms var(--ease-out-quint)",appendTo:Wc,trigger:"mouseenter focus",arrow:!1,offset:[0,8]},Vc=function(e){return(0,a.jsx)(Fc,t(l)({},Hc,e))},jc=function(e){return(0,a.jsx)(Fc,t(l)({},Hc,e))},Kc=(a=o("gYOhc"),c=o("6AbkI"),{});e(Kc,"GenIcon",(function(){return Jc}),(function(e){return Jc=e}));c=o("6AbkI"),c=o("6AbkI");var Uc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qc=t(c).createContext&&t(c).createContext(Uc),Zc=function(){return(Zc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Gc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Qc(e){return e&&e.map((function(e,n){return t(c).createElement(e.tag,Zc({key:n},e.attr),Qc(e.child))}))}function Jc(e){return function(n){return t(c).createElement(Yc,Zc({attr:Zc({},e.attr)},n),Qc(e.child))}}function Yc(e){var n=function(n){var r,i=e.attr,o=e.size,a=e.title,s=Gc(e,["attr","size","title"]),l=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t(c).createElement("svg",Zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Zc(Zc({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t(c).createElement("title",null,a),e.children)};return void 0!==qc?t(c).createElement(qc.Consumer,null,(function(e){return n(e)})):n(Uc)}function Xc(e){return(0,Kc.GenIcon)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 2H9l-.35.15-.65.64-.65-.64L7 2H1.5l-.5.5v10l.5.5h5.29l.86.85h.7l.86-.85h5.29l.5-.5v-10l-.5-.5zm-7 10.32l-.18-.17L7 12H2V3h4.79l.74.74-.03 8.58zM14 12H9l-.35.15-.14.13V3.7l.7-.7H14v9zM6 5H3v1h3V5zm0 4H3v1h3V9zM3 7h3v1H3V7zm10-2h-3v1h3V5zm-3 2h3v1h-3V7zm0 2h3v1h-3V9z"}}]})(e)}function $c(e){return(0,Kc.GenIcon)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.976 10.072l4.357-4.357.62.618L8.284 11h-.618L3 6.333l.619-.618 4.357 4.357z"}}]})(e)}function ed(e){return(0,Kc.GenIcon)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 2h-1v5h1V2zm6.1 5H6.4L6 6.45v-1L6.4 5h3.2l.4.5v1l-.4.5zm-5 3H1.4L1 9.5v-1l.4-.5h3.2l.4.5v1l-.4.5zm3.9-8h-1v2h1V2zm-1 6h1v6h-1V8zm-4 3h-1v3h1v-3zm7.9 0h3.19l.4-.5v-.95l-.4-.5H11.4l-.4.5v.95l.4.5zm2.1-9h-1v6h1V2zm-1 10h1v2h-1v-2z"}}]})(e)}var td={open:"mod+o",openNew:"mod+shift+alt+n",openRecent:"mod+shift+o",menu:"mod+.",prefs:"mod+,",compat:"f8",preview:"mod+p",print:"mod+shift+p",save:"mod+s",saveAs:"mod+shift+s",vim:"mod+m",toolbar:"mod+\\"};l=o("aJy7o"),u=o("56Cfp"),a=o("gYOhc"),lr=o("5T0Qd"),l=o("aJy7o"),u=o("56Cfp"),M=o("hFMTy"),c=o("6AbkI"),M=o("hFMTy");function nd(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(e in n){var a=n[e];return"function"==typeof a?a.apply(void 0,t(M)(i)):a}var s=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(n).map((function(e){return'"'.concat(e,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(s,nd),s}lr=o("5T0Qd"),l=o("aJy7o"),M=o("hFMTy"),c=o("6AbkI");var rd,id,od=((id=od||{})[id.None=0]="None",id[id.RenderStrategy=1]="RenderStrategy",id[id.Static=2]="Static",id),ad=((rd=ad||{})[rd.Unmount=0]="Unmount",rd[rd.Hidden=1]="Hidden",rd);function sd(e){var n=e.ourProps,r=e.theirProps,i=e.slot,o=e.defaultTag,a=e.features,s=e.visible,u=void 0===s||s,c=e.name,d=ud(r,n);if(u)return ld(d,i,o,c);var h=null!=a?a:0;if(2&h){var f=d.static,p=void 0!==f&&f,g=t(kt)(d,["static"]);if(p)return ld(g,i,o,c)}if(1&h){var v,m=d.unmount,y=void 0===m||m,b=t(kt)(d,["unmount"]);return nd(y?0:1,(v={},t(lr)(v,0,(function(){return null})),t(lr)(v,1,(function(){return ld(t(l)({},b,{hidden:!0,style:{display:"none"}}),i,o,c)})),v))}return ld(d,i,o,c)}function ld(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=hd(e,["unmount","static"]),a=o.as,s=void 0===a?r:a,l=o.children,u=o.refName,d=void 0===u?"ref":u,h=t(kt)(o,["as","children","refName"]),f=void 0!==e.ref?t(lr)({},d,e.ref):{},p="function"==typeof l?l(n):l;h.className&&"function"==typeof h.className&&(h.className=h.className(n));var g={};if(s===c.Fragment&&Object.keys(dd(h)).length>0){if(!(0,c.isValidElement)(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(h).map((function(e){return"  - ".concat(e)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - ".concat(e)})).join("\n")].join("\n"));return(0,c.cloneElement)(p,Object.assign({},ud(p.props,dd(hd(h,["ref"]))),g,f))}return(0,c.createElement)(s,Object.assign({},hd(h,["ref"]),s!==c.Fragment&&f,s!==c.Fragment&&g),p)}function ud(){for(var e=function(e){Object.assign(o,t(lr)({},e,(function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var s=a[e],l=!0,u=!1,c=void 0;try{for(var d,h=s[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;if(n.defaultPrevented)return;f.apply(void 0,[n].concat(t(M)(i)))}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}})))},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(0===r.length)return{};if(1===r.length)return r[0];var o={},a={},s=!0,l=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;for(var f in h)f.startsWith("on")&&"function"==typeof h[f]?(null!=a[f]||(a[f]=[]),a[f].push(h[f])):o[f]=h[f]}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}if(o.disabled||o["aria-disabled"])return Object.assign(o,Object.fromEntries(Object.keys(a).map((function(e){return[e,void 0]}))));for(var p in a)e(p);return o}function cd(e){var t;return Object.assign((0,c.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function dd(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}function hd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e),r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l in n&&delete n[l]}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}u=o("56Cfp"),M=o("hFMTy"),_t=o("4GLgu");function fd(){var e=[],n=[],r={enqueue:function(e){n.push(e)},addEventListener:function(e,t,n,i){return e.addEventListener(t,n,i),r.add((function(){return e.removeEventListener(t,n,i)}))},requestAnimationFrame:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=requestAnimationFrame.apply(void 0,t(M)(n));return r.add((function(){return cancelAnimationFrame(o)}))},nextFrame:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o;return r.requestAnimationFrame((function(){return(o=r).requestAnimationFrame.apply(o,t(M)(n))}))},setTimeout:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=setTimeout.apply(void 0,t(M)(n));return r.add((function(){return clearTimeout(o)}))},add:function(n){return e.push(n),function(){var r=e.indexOf(n);r>=0&&(0,t(u)(e.splice(r,1),1)[0])()}},dispose:function(){var t=!0,n=!1,r=void 0;try{for(var i,o=e.splice(0)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){(0,i.value)()}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},workQueue:function(){return t(yt)(t(_t).mark((function e(){var r,i,o,a,s,l;return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,i=!1,o=void 0,e.prev=1,a=n.splice(0)[Symbol.iterator]();case 3:if(r=(s=a.next()).done){e.next=10;break}return l=s.value,e.next=7,l();case 7:r=!0,e.next=3;break;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),i=!0,o=e.t0;case 16:e.prev=16,e.prev=17,r||null==a.return||a.return();case 19:if(e.prev=19,!i){e.next=22;break}throw o;case 22:return e.finish(19);case 23:return e.finish(16);case 24:case"end":return e.stop()}}),e,null,[[1,12,16,24],[17,,19,23]])})))()}};return r}u=o("56Cfp"),c=o("6AbkI");function pd(){var e=t(u)((0,c.useState)(fd),1)[0];return(0,c.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}c=o("6AbkI");var gd="undefined"!=typeof window?c.useLayoutEffect:c.useEffect;lr=o("5T0Qd"),c=o("6AbkI"),M=o("hFMTy"),c=o("6AbkI"),c=o("6AbkI");function vd(e){var t=(0,c.useRef)(e);return gd((function(){t.current=e}),[e]),t}var md=function(e){var n,r=vd(e);return t(c).useCallback((function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=r).current.apply(n,t(M)(i))}),[r])},yd=Symbol();function bd(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,t(lr)({},yd,n))}function _d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,c.useRef)(t);(0,c.useEffect)((function(){r.current=t}),[t]);var i=md((function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=r.current[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;null!=s&&("function"==typeof s?s(e):s.current=e)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}));return t.every((function(e){return null==e||(null==e?void 0:e[yd])}))?void 0:i}u=o("56Cfp"),c=o("6AbkI"),u=o("56Cfp"),c=o("6AbkI");var kd,Cd={serverHandoffComplete:!1};function xd(){var e=t(u)((0,c.useState)(Cd.serverHandoffComplete),2),n=e[0],r=e[1];return(0,c.useEffect)((function(){!0!==n&&r(!0)}),[n]),(0,c.useEffect)((function(){!1===Cd.serverHandoffComplete&&(Cd.serverHandoffComplete=!0)}),[]),n}var wd=0;function Sd(){return++wd}var Ed,Dd=null!=(kd=t(c).useId)?kd:function(){var e=xd(),n=t(u)(t(c).useState(e?Sd:null),2),r=n[0],i=n[1];return gd((function(){null===r&&i(Sd())}),[r]),null!=r?""+r:void 0},Id=((Ed=Id||{}).Space=" ",Ed.Enter="Enter",Ed.Escape="Escape",Ed.Backspace="Backspace",Ed.Delete="Delete",Ed.ArrowLeft="ArrowLeft",Ed.ArrowUp="ArrowUp",Ed.ArrowRight="ArrowRight",Ed.ArrowDown="ArrowDown",Ed.Home="Home",Ed.End="End",Ed.PageUp="PageUp",Ed.PageDown="PageDown",Ed.Tab="Tab",Ed);var Rd=function(e){return e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e}(Rd||{});function Ld(e,t){var n=t.resolveItems();if(n.length<=0)return null;var r=t.resolveActiveIndex(),i=null!=r?r:-1,o=function(){switch(e.focus){case 0:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case 1:var r=n.slice().reverse().findIndex((function(e,n,r){return!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)}));return-1===r?r:n.length-1-r;case 2:return n.findIndex((function(e,n){return!(n<=i)&&!t.resolveDisabled(e)}));case 3:var o=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===o?o:n.length-1-o;case 4:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===o?r:o}function Ad(e){for(var t=e.parentElement,n=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;var r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}lr=o("5T0Qd");function Md(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}var Td,Nd,Pd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return"".concat(e,":not([tabindex='-1'])")})).join(","),Od=((Nd=Od||{})[Nd.First=1]="First",Nd[Nd.Previous=2]="Previous",Nd[Nd.Next=4]="Next",Nd[Nd.Last=8]="Last",Nd[Nd.WrapAround=16]="WrapAround",Nd[Nd.NoScroll=32]="NoScroll",Nd),Fd=function(e){return e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e}(Fd||{}),Bd=((Td=Bd||{})[Td.Previous=-1]="Previous",Td[Td.Next=1]="Next",Td);function zd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(Pd))}var Wd=function(e){return e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e}(Wd||{});function Hd(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(n=Md(e))?void 0:n.body)&&nd(i,(r={},t(lr)(r,0,(function(){return e.matches(Pd)})),t(lr)(r,1,(function(){for(var t=e;null!==t;){if(t.matches(Pd))return!0;t=t.parentElement}return!1})),r))}var Vd=["textarea","input"].join(",");function jd(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,Vd))&&n}function Kd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.slice().sort((function(e,n){var r=t(e),i=t(n);if(null===r||null===i)return 0;var o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function Ud(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?Kd(e):e:zd(e),a=i.activeElement,s=function(){if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),l=function(){if(1&t)return 0;if(2&t)return Math.max(0,o.indexOf(a))-1;if(4&t)return Math.max(0,o.indexOf(a))+1;if(8&t)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),u=32&t?{preventScroll:!0}:{},c=0,d=o.length;do{if(c>=d||c+d<=0)return 0;var h=l+c;if(16&t)h=(h+d)%d;else{if(h<0)return 3;if(h>=d)return 1}null==(n=o[h])||n.focus(u),c+=s}while(n!==i.activeElement);return 6&t&&jd(n)&&n.select(),n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),2}c=o("6AbkI");function qd(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}c=o("6AbkI");function Zd(e,t,n){var r=vd(t);(0,c.useEffect)((function(){function t(e){r.current(e)}return window.addEventListener(e,t,n),function(){return window.removeEventListener(e,t,n)}}),[e,n])}var Gd=function(e){return e[e.None=1]="None",e[e.IgnoreScrollbars=2]="IgnoreScrollbars",e}(Gd||{});function Qd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(0,c.useRef)(!1),i=md((function(i){if(!r.current){r.current=!0,qd((function(){r.current=!1}));var o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),a=i.target;if(a.ownerDocument.documentElement.contains(a)){if(2==(2&n)){var s=a.ownerDocument.documentElement;if(i.clientX>s.clientWidth-20||i.clientX<20||i.clientY>s.clientHeight-20||i.clientY<20)return}var l=!0,u=!1,c=void 0;try{for(var d,h=o[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;if(null!==f){var p=f instanceof HTMLElement?f:f.current;if(null!=p&&p.contains(a))return}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}return t(i,a)}}}));Zd("pointerdown",i),Zd("mousedown",i)}c=o("6AbkI");function Jd(e){var t=e.container,n=e.accept,r=e.walk,i=e.enabled,o=void 0===i||i,a=(0,c.useRef)(n),s=(0,c.useRef)(r);(0,c.useEffect)((function(){a.current=n,s.current=r}),[n,r]),gd((function(){if(t&&o){var e=Md(t);if(e)for(var n=a.current,r=s.current,i=Object.assign((function(e){return n(e)}),{acceptNode:n}),l=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,i,!1);l.nextNode();)r(l.currentNode)}}),[t,o,a,s])}var Yd=(0,(c=o("6AbkI")).createContext)(null);Yd.displayName="OpenClosedContext";var Xd=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(Xd||{});function $d(){return(0,c.useContext)(Yd)}function eh(e){var n=e.value,r=e.children;return t(c).createElement(Yd.Provider,{value:n},r)}u=o("56Cfp"),c=o("6AbkI");function th(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function nh(e,n){var r=t(u)((0,c.useState)((function(){return th(e)})),2),i=r[0],o=r[1];return gd((function(){o(th(e))}),[e.type,e.as]),gd((function(){i||!n.current||n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&o("button")}),[i,n]),i}M=o("hFMTy"),c=o("6AbkI");function rh(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,c.useMemo)((function(){return Md.apply(void 0,t(M)(n))}),t(M)(n))}var ih,oh,ah=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(ah||{}),sh=function(e){return e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e}(sh||{}),lh=((ih=lh||{})[ih.OpenMenu=0]="OpenMenu",ih[ih.CloseMenu=1]="CloseMenu",ih[ih.GoToItem=2]="GoToItem",ih[ih.Search=3]="Search",ih[ih.ClearSearch=4]="ClearSearch",ih[ih.RegisterItem=5]="RegisterItem",ih[ih.UnregisterItem=6]="UnregisterItem",ih);function uh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=Kd(t(e.items.slice()),(function(e){return e.dataRef.current.domRef.current})),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}var ch=(oh={},t(lr)(oh,1,(function(e){return 1===e.menuState?e:t(l)({},e,{activeItemIndex:null,menuState:1})})),t(lr)(oh,0,(function(e){return 0===e.menuState?e:t(l)({},e,{menuState:0})})),t(lr)(oh,2,(function(e,n){var r,i=uh(e),o=Ld(n,{resolveItems:function(){return i.items},resolveActiveIndex:function(){return i.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return t(l)({},e,i,{searchQuery:"",activeItemIndex:o,activationTrigger:null!=(r=n.trigger)?r:1})})),t(lr)(oh,3,(function(e,n){var r=""!==e.searchQuery?0:1,i=e.searchQuery+n.value.toLowerCase(),o=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(i))&&!e.dataRef.current.disabled})),a=o?e.items.indexOf(o):-1;return-1===a||a===e.activeItemIndex?t(l)({},e,{searchQuery:i}):t(l)({},e,{searchQuery:i,activeItemIndex:a,activationTrigger:1})})),t(lr)(oh,4,(function(e){return""===e.searchQuery?e:t(l)({},e,{searchQuery:"",searchActiveItemIndex:null})})),t(lr)(oh,5,(function(e,n){var r=uh(e,(function(e){return t(M)(e).concat([{id:n.id,dataRef:n.dataRef}])}));return t(l)({},e,r)})),t(lr)(oh,6,(function(e,n){var r=uh(e,(function(e){var t=e.findIndex((function(e){return e.id===n.id}));return-1!==t&&e.splice(t,1),e}));return t(l)({},e,r,{activationTrigger:1})})),oh),dh=(0,c.createContext)(null);function hh(e){var t=(0,c.useContext)(dh);if(null===t){var n=new Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,hh),n}return t}function fh(e,t){return nd(t.type,ch,e,t)}dh.displayName="MenuContext";var ph=c.Fragment,gh=cd((function(e,n){var r=(0,c.useReducer)(fh,{menuState:1,buttonRef:(0,c.createRef)(),itemsRef:(0,c.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),i=t(u)(r,2),o=i[0],a=o.menuState,s=o.itemsRef,l=o.buttonRef,d=i[1],h=_d(n);Qd([l,s],(function(e,t){var n;0===a&&(d({type:1}),Hd(t,Wd.Loose)||(e.preventDefault(),null==(n=l.current)||n.focus()))}));var f,p=(0,c.useMemo)((function(){return{open:0===a}}),[a]),g=e,v={ref:h};return t(c).createElement(dh.Provider,{value:r},t(c).createElement(eh,{value:nd(a,(f={},t(lr)(f,0,Xd.Open),t(lr)(f,1,Xd.Closed),f))},sd({ourProps:v,theirProps:g,slot:p,defaultTag:ph,name:"Menu"})))})),vh=cd((function(e,n){var r,i=t(u)(hh("Menu.Button"),2),o=i[0],a=i[1],s=_d(o.buttonRef,n),l="headlessui-menu-button-".concat(Dd()),d=pd(),h=md((function(e){switch(e.key){case Id.Space:case Id.Enter:case Id.ArrowDown:e.preventDefault(),e.stopPropagation(),a({type:0}),d.nextFrame((function(){return a({type:2,focus:Rd.First})}));break;case Id.ArrowUp:e.preventDefault(),e.stopPropagation(),a({type:0}),d.nextFrame((function(){return a({type:2,focus:Rd.Last})}))}})),f=md((function(e){switch(e.key){case Id.Space:e.preventDefault()}})),p=md((function(t){if(Ad(t.currentTarget))return t.preventDefault();e.disabled||(0===o.menuState?(a({type:1}),d.nextFrame((function(){var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),t.stopPropagation(),a({type:0})))})),g=(0,c.useMemo)((function(){return{open:0===o.menuState}}),[o]),v=e;return sd({ourProps:{ref:s,id:l,type:nh(e,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=o.itemsRef.current)?void 0:r.id,"aria-expanded":e.disabled?void 0:0===o.menuState,onKeyDown:h,onKeyUp:f,onClick:p},theirProps:v,slot:g,defaultTag:"button",name:"Menu.Button"})})),mh=od.RenderStrategy|od.Static,yh=cd((function(e,n){var r,i,o=t(u)(hh("Menu.Items"),2),a=o[0],s=o[1],l=_d(a.itemsRef,n),d=rh(a.itemsRef),h="headlessui-menu-items-".concat(Dd()),f=pd(),p=$d(),g=null!==p?p===Xd.Open:0===a.menuState;(0,c.useEffect)((function(){var e=a.itemsRef.current;!e||0===a.menuState&&e!==(null==d?void 0:d.activeElement)&&e.focus({preventScroll:!0})}),[a.menuState,a.itemsRef,d]),Jd({container:a.itemsRef.current,enabled:0===a.menuState,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var v=md((function(e){var t,n;switch(f.dispose(),e.key){case Id.Space:if(""!==a.searchQuery)return e.preventDefault(),e.stopPropagation(),s({type:3,value:e.key});case Id.Enter:if(e.preventDefault(),e.stopPropagation(),s({type:1}),null!==a.activeItemIndex)null==(n=null==(t=a.items[a.activeItemIndex].dataRef.current)?void 0:t.domRef.current)||n.click();fd().nextFrame((function(){var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Id.ArrowDown:return e.preventDefault(),e.stopPropagation(),s({type:2,focus:Rd.Next});case Id.ArrowUp:return e.preventDefault(),e.stopPropagation(),s({type:2,focus:Rd.Previous});case Id.Home:case Id.PageUp:return e.preventDefault(),e.stopPropagation(),s({type:2,focus:Rd.First});case Id.End:case Id.PageDown:return e.preventDefault(),e.stopPropagation(),s({type:2,focus:Rd.Last});case Id.Escape:e.preventDefault(),e.stopPropagation(),s({type:1}),fd().nextFrame((function(){var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Id.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(s({type:3,value:e.key}),f.setTimeout((function(){return s({type:4})}),350))}})),m=md((function(e){switch(e.key){case Id.Space:e.preventDefault()}})),y=(0,c.useMemo)((function(){return{open:0===a.menuState}}),[a]),b=e;return sd({ourProps:{"aria-activedescendant":null===a.activeItemIndex||null==(r=a.items[a.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(i=a.buttonRef.current)?void 0:i.id,id:h,onKeyDown:v,onKeyUp:m,role:"menu",tabIndex:0,ref:l},theirProps:b,slot:y,defaultTag:"div",features:mh,visible:g,name:"Menu.Items"})})),bh=c.Fragment,_h=cd((function(e,n){var r=e.disabled,i=void 0!==r&&r,o=t(kt)(e,["disabled"]),a=t(u)(hh("Menu.Item"),2),s=a[0],l=a[1],d="headlessui-menu-item-".concat(Dd()),h=null!==s.activeItemIndex&&s.items[s.activeItemIndex].id===d,f=(0,c.useRef)(null),p=_d(n,f);gd((function(){if(0===s.menuState&&h&&0!==s.activationTrigger){var e=fd();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=f.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[f,h,s.menuState,s.activationTrigger,s.activeItemIndex]);var g=(0,c.useRef)({disabled:i,domRef:f});gd((function(){g.current.disabled=i}),[g,i]),gd((function(){var e,t;g.current.textValue=null==(t=null==(e=f.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[g,f]),gd((function(){return l({type:5,id:d,dataRef:g}),function(){return l({type:6,id:d})}}),[g,d]);var v=md((function(e){if(i)return e.preventDefault();l({type:1}),fd().nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))})),m=md((function(){if(i)return l({type:2,focus:Rd.Nothing});l({type:2,focus:Rd.Specific,id:d})})),y=md((function(){i||h||l({type:2,focus:Rd.Specific,id:d,trigger:0})})),b=md((function(){i||!h||l({type:2,focus:Rd.Nothing})})),_=(0,c.useMemo)((function(){return{active:h,disabled:i}}),[h,i]);return sd({ourProps:{id:d,ref:p,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,disabled:void 0,onClick:v,onFocus:m,onPointerMove:y,onMouseMove:y,onPointerLeave:b,onMouseLeave:b},theirProps:o,slot:_,defaultTag:bh,name:"Menu.Item"})})),kh=Object.assign(gh,{Button:vh,Items:yh,Item:_h});lr=o("5T0Qd"),l=o("aJy7o"),u=o("56Cfp"),M=o("hFMTy"),c=o("6AbkI"),c=o("6AbkI");function Ch(e,t,n,r){var i=vd(n);(0,c.useEffect)((function(){function n(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}),[e,t,r])}l=o("aJy7o");var xh=function(e){return e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e}(xh||{}),wh=cd((function(e,n){var r=e.features,i=void 0===r?1:r,o=t(kt)(e,["features"]);return sd({ourProps:{ref:n,"aria-hidden":2==(2&i)||void 0,style:t(l)({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},4==(4&i)&&2!=(2&i)&&{display:"none"})},theirProps:o,slot:{},defaultTag:"div",name:"Hidden"})})),Sh=(c=o("6AbkI"),function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}(Sh||{}));function Eh(){var e=(0,c.useRef)(0);return Zd("keydown",(function(t){"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}var Dh,Ih,Rh=((Dh=Rh||{})[Dh.Open=0]="Open",Dh[Dh.Closed=1]="Closed",Dh),Lh=function(e){return e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e}(Lh||{}),Ah=(Ih={},t(lr)(Ih,0,(function(e){var n;return t(l)({},e,{popoverState:nd(e.popoverState,(n={},t(lr)(n,0,1),t(lr)(n,1,0),n))})})),t(lr)(Ih,1,(function(e){return 1===e.popoverState?e:t(l)({},e,{popoverState:1})})),t(lr)(Ih,2,(function(e,n){return e.button===n.button?e:t(l)({},e,{button:n.button})})),t(lr)(Ih,3,(function(e,n){return e.buttonId===n.buttonId?e:t(l)({},e,{buttonId:n.buttonId})})),t(lr)(Ih,4,(function(e,n){return e.panel===n.panel?e:t(l)({},e,{panel:n.panel})})),t(lr)(Ih,5,(function(e,n){return e.panelId===n.panelId?e:t(l)({},e,{panelId:n.panelId})})),Ih),Mh=(0,c.createContext)(null);function Th(e){var t=(0,c.useContext)(Mh);if(null===t){var n=new Error("<".concat(e," /> is missing a parent <Popover /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,Th),n}return t}Mh.displayName="PopoverContext";var Nh=(0,c.createContext)(null);function Ph(e){var t=(0,c.useContext)(Nh);if(null===t){var n=new Error("<".concat(e," /> is missing a parent <Popover /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,Ph),n}return t}Nh.displayName="PopoverAPIContext";var Oh=(0,c.createContext)(null);function Fh(){return(0,c.useContext)(Oh)}Oh.displayName="PopoverGroupContext";var Bh=(0,c.createContext)(null);function zh(e,t){return nd(t.type,Ah,e,t)}Bh.displayName="PopoverPanelContext";var Wh=cd((function(e,n){var r,i="headlessui-popover-button-".concat(Dd()),o="headlessui-popover-panel-".concat(Dd()),a=(0,c.useRef)(null),s=_d(n,bd((function(e){a.current=e}))),l=(0,c.useReducer)(zh,{popoverState:1,button:null,buttonId:i,panel:null,panelId:o,beforePanelSentinel:(0,c.createRef)(),afterPanelSentinel:(0,c.createRef)()}),d=t(u)(l,2),h=d[0],f=h.popoverState,p=h.button,g=h.panel,v=h.beforePanelSentinel,m=h.afterPanelSentinel,y=d[1],b=rh(null!=(r=a.current)?r:p);(0,c.useEffect)((function(){return y({type:3,buttonId:i})}),[i,y]),(0,c.useEffect)((function(){return y({type:5,panelId:o})}),[o,y]);var _=(0,c.useMemo)((function(){if(!p||!g)return!1;var e=!0,t=!1,n=void 0;try{for(var r,i=document.querySelectorAll("body > *")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;if(Number(null==o?void 0:o.contains(p))^Number(null==o?void 0:o.contains(g)))return!0}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return!1}),[p,g]),k=(0,c.useMemo)((function(){return{buttonId:i,panelId:o,close:function(){return y({type:1})}}}),[i,o,y]),C=Fh(),x=null==C?void 0:C.registerPopover,w=md((function(){var e;return null!=(e=null==C?void 0:C.isFocusWithinPopoverGroup())?e:(null==b?void 0:b.activeElement)&&((null==p?void 0:p.contains(b.activeElement))||(null==g?void 0:g.contains(b.activeElement)))}));(0,c.useEffect)((function(){return null==x?void 0:x(k)}),[x,k]),Ch(null==b?void 0:b.defaultView,"focus",(function(e){var t,n,r,i;0===f&&(w()||!p||!g||null!=(n=null==(t=v.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(i=null==(r=m.current)?void 0:r.contains)&&i.call(r,e.target)||y({type:1}))}),!0),Qd([p,g],(function(e,t){0===f&&(y({type:1}),Hd(t,Wd.Loose)||(e.preventDefault(),null==p||p.focus()))}));var S,E=md((function(e){y({type:1});var t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:p:p;null==t||t.focus()})),D=(0,c.useMemo)((function(){return{close:E,isPortalled:_}}),[E,_]),I=(0,c.useMemo)((function(){return{open:0===f,close:E}}),[f,E]),R=e,L={ref:s};return t(c).createElement(Mh.Provider,{value:l},t(c).createElement(Nh.Provider,{value:D},t(c).createElement(eh,{value:nd(f,(S={},t(lr)(S,0,Xd.Open),t(lr)(S,1,Xd.Closed),S))},sd({ourProps:L,theirProps:R,slot:I,defaultTag:"div",name:"Popover"}))))})),Hh=cd((function(e,n){var r=t(u)(Th("Popover.Button"),2),i=r[0],o=r[1],a=Ph("Popover.Button").isPortalled,s=(0,c.useRef)(null),l="headlessui-focus-sentinel-".concat(Dd()),d=Fh(),h=null==d?void 0:d.closeOthers,f=(0,c.useContext)(Bh),p=null!==f&&f===i.panelId,g=_d(s,n,p?null:function(e){return o({type:2,button:e})}),v=_d(s,n),m=rh(s),y=md((function(e){var t,n,r;if(p){if(1===i.popoverState)return;switch(e.key){case Id.Space:case Id.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),o({type:1}),null==(r=i.button)||r.focus()}}else switch(e.key){case Id.Space:case Id.Enter:e.preventDefault(),e.stopPropagation(),1===i.popoverState&&(null==h||h(i.buttonId)),o({type:0});break;case Id.Escape:if(0!==i.popoverState)return null==h?void 0:h(i.buttonId);if(!s.current||(null==m?void 0:m.activeElement)&&!s.current.contains(m.activeElement))return;e.preventDefault(),e.stopPropagation(),o({type:1})}})),b=md((function(e){p||e.key===Id.Space&&e.preventDefault()})),_=md((function(t){var n,r;Ad(t.currentTarget)||e.disabled||(p?(o({type:1}),null==(n=i.button)||n.focus()):(t.preventDefault(),t.stopPropagation(),1===i.popoverState&&(null==h||h(i.buttonId)),o({type:0}),null==(r=i.button)||r.focus()))})),k=md((function(e){e.preventDefault(),e.stopPropagation()})),C=0===i.popoverState,x=(0,c.useMemo)((function(){return{open:C}}),[C]),w=nh(e,s),S=e,E=p?{ref:v,type:w,onKeyDown:y,onClick:_}:{ref:g,id:i.buttonId,type:w,"aria-expanded":e.disabled?void 0:0===i.popoverState,"aria-controls":i.panel?i.panelId:void 0,onKeyDown:y,onKeyUp:b,onClick:_,onMouseDown:k},D=Eh(),I=md((function(){var e,n=i.panel;n&&nd(D.current,(e={},t(lr)(e,Sh.Forwards,(function(){return Ud(n,Od.First)})),t(lr)(e,Sh.Backwards,(function(){return Ud(n,Od.Last)})),e))}));return t(c).createElement(t(c).Fragment,null,sd({ourProps:E,theirProps:S,slot:x,defaultTag:"button",name:"Popover.Button"}),C&&!p&&a&&t(c).createElement(wh,{id:l,features:xh.Focusable,as:"button",type:"button",onFocus:I}))})),Vh=od.RenderStrategy|od.Static,jh=cd((function(e,n){var r=t(u)(Th("Popover.Overlay"),2),i=r[0].popoverState,o=r[1],a=_d(n),s="headlessui-popover-overlay-".concat(Dd()),l=$d(),d=null!==l?l===Xd.Open:0===i;return sd({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:md((function(e){if(Ad(e.currentTarget))return e.preventDefault();o({type:1})}))},theirProps:e,slot:(0,c.useMemo)((function(){return{open:0===i}}),[i]),defaultTag:"div",features:Vh,visible:d,name:"Popover.Overlay"})})),Kh=od.RenderStrategy|od.Static,Uh=cd((function(e,n){var r=e.focus,i=void 0!==r&&r,o=t(kt)(e,["focus"]),a=t(u)(Th("Popover.Panel"),2),s=a[0],l=a[1],d=Ph("Popover.Panel"),h=d.close,f=d.isPortalled,p="headlessui-focus-sentinel-before-".concat(Dd()),g="headlessui-focus-sentinel-after-".concat(Dd()),v=(0,c.useRef)(null),m=_d(v,n,(function(e){l({type:4,panel:e})})),y=rh(v),b=$d(),_=null!==b?b===Xd.Open:0===s.popoverState,k=md((function(e){var t;switch(e.key){case Id.Escape:if(0!==s.popoverState||!v.current||(null==y?void 0:y.activeElement)&&!v.current.contains(y.activeElement))return;e.preventDefault(),e.stopPropagation(),l({type:1}),null==(t=s.button)||t.focus()}}));(0,c.useEffect)((function(){var t;e.static||1===s.popoverState&&(null==(t=e.unmount)||t)&&l({type:4,panel:null})}),[s.popoverState,e.unmount,e.static,l]),(0,c.useEffect)((function(){if(i&&0===s.popoverState&&v.current){var e=null==y?void 0:y.activeElement;v.current.contains(e)||Ud(v.current,Od.First)}}),[i,v,s.popoverState]);var C=(0,c.useMemo)((function(){return{open:0===s.popoverState,close:h}}),[s,h]),x={ref:m,id:s.panelId,onKeyDown:k,onBlur:i&&0===s.popoverState?function(e){var t,n,r,i,o,a=e.relatedTarget;!a||!v.current||null!=(t=v.current)&&t.contains(a)||(l({type:1}),((null==(r=null==(n=s.beforePanelSentinel.current)?void 0:n.contains)?void 0:r.call(n,a))||(null==(o=null==(i=s.afterPanelSentinel.current)?void 0:i.contains)?void 0:o.call(i,a)))&&a.focus({preventScroll:!0}))}:void 0,tabIndex:-1},w=Eh(),S=md((function(){var e,n=v.current;n&&nd(w.current,(e={},t(lr)(e,Sh.Forwards,(function(){Ud(n,Od.First)})),t(lr)(e,Sh.Backwards,(function(){var e;null==(e=s.button)||e.focus({preventScroll:!0})})),e))})),E=md((function(){var e,n=v.current;n&&nd(w.current,(e={},t(lr)(e,Sh.Forwards,(function(){var e,n,r;if(s.button){var i=zd(),o=i.indexOf(s.button),a=i.slice(0,o+1),l=t(M)(i.slice(o+1)).concat(t(M)(a)),u=!0,c=!1,d=void 0;try{for(var h,f=l.slice()[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;if((null==(n=null==(e=null==p?void 0:p.id)?void 0:e.startsWith)?void 0:n.call(e,"headlessui-focus-sentinel-"))||(null==(r=s.panel)?void 0:r.contains(p))){var g=l.indexOf(p);-1!==g&&l.splice(g,1)}}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}Ud(l,Od.First,!1)}})),t(lr)(e,Sh.Backwards,(function(){return Ud(n,Od.Last)})),e))}));return t(c).createElement(Bh.Provider,{value:s.panelId},_&&f&&t(c).createElement(wh,{id:p,ref:s.beforePanelSentinel,features:xh.Focusable,as:"button",type:"button",onFocus:S}),sd({ourProps:x,theirProps:o,slot:C,defaultTag:"div",features:Kh,visible:_,name:"Popover.Panel"}),_&&f&&t(c).createElement(wh,{id:g,ref:s.afterPanelSentinel,features:xh.Focusable,as:"button",type:"button",onFocus:E}))})),qh=cd((function(e,n){var r=(0,c.useRef)(null),i=_d(r,n),o=t(u)((0,c.useState)([]),2),a=o[0],s=o[1],l=md((function(e){s((function(t){var n=t.indexOf(e);if(-1!==n){var r=t.slice();return r.splice(n,1),r}return t}))})),d=md((function(e){return s((function(n){return t(M)(n).concat([e])})),function(){return l(e)}})),h=md((function(){var e,t=Md(r);if(!t)return!1;var n=t.activeElement;return!(null==(e=r.current)||!e.contains(n))||a.some((function(e){var r,i;return(null==(r=t.getElementById(e.buttonId))?void 0:r.contains(n))||(null==(i=t.getElementById(e.panelId))?void 0:i.contains(n))}))})),f=md((function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=a[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.buttonId!==e&&s.close()}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}})),p=(0,c.useMemo)((function(){return{registerPopover:d,unregisterPopover:l,isFocusWithinPopoverGroup:h,closeOthers:f}}),[d,l,h,f]),g=(0,c.useMemo)((function(){return{}}),[]),v=e,m={ref:i};return t(c).createElement(Oh.Provider,{value:p},sd({ourProps:m,theirProps:v,slot:g,defaultTag:"div",name:"Popover.Group"}))})),Zh=Object.assign(Wh,{Button:Hh,Overlay:jh,Panel:Uh,Group:qh}),Gh=(u=o("56Cfp"),c=o("6AbkI"),(0,(c=o("6AbkI")).createContext)(!1));function Qh(e){var n=(0,c.useContext)(Gh),r=(0,c.useContext)($h),i=rh(e),o=t(u)((0,c.useState)((function(){if(!n&&null!==r||"undefined"==typeof window)return null;var e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;var t=i.createElement("div");return t.setAttribute("id","headlessui-portal-root"),i.body.appendChild(t)})),2),a=o[0],s=o[1];return(0,c.useEffect)((function(){null!==a&&(null!=i&&i.body.contains(a)||null==i||i.body.appendChild(a))}),[a,i]),(0,c.useEffect)((function(){n||null!==r&&s(r.current)}),[r,s,n]),a}var Jh=c.Fragment,Yh=cd((function(e,n){var r=e,i=(0,c.useRef)(null),o=_d(bd((function(e){i.current=e})),n),a=rh(i),l=Qh(i),d=t(u)((0,c.useState)((function(){var e;return"undefined"==typeof window?null:null!=(e=null==a?void 0:a.createElement("div"))?e:null})),1)[0],h=xd(),f=(0,c.useRef)(!1);return gd((function(){if(f.current=!1,l&&d)return l.contains(d)||l.appendChild(d),function(){f.current=!0,qd((function(){var e;!f.current||!l||!d||(l.removeChild(d),l.childNodes.length<=0&&(null==(e=l.parentElement)||e.removeChild(l)))}))}}),[l,d]),h&&l&&d?(0,s.createPortal)(sd({ourProps:{ref:o},theirProps:r,defaultTag:Jh,name:"Portal"}),d):null})),Xh=c.Fragment,$h=(0,c.createContext)(null),ef=cd((function(e,n){var r=e.target,i=t(kt)(e,["target"]),o={ref:_d(n)};return t(c).createElement($h.Provider,{value:r},sd({ourProps:o,theirProps:i,defaultTag:Xh,name:"Popover.Group"}))})),tf=Object.assign(Yh,{Group:ef});lr=o("5T0Qd"),l=o("aJy7o"),u=o("56Cfp"),c=o("6AbkI"),c=o("6AbkI");function nf(){var e=(0,c.useRef)(!1);return gd((function(){return e.current=!0,function(){e.current=!1}}),[]),e}lr=o("5T0Qd"),u=o("56Cfp"),M=o("hFMTy"),M=o("hFMTy");function rf(e){var n={called:!1};return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(!n.called)return n.called=!0,e.apply(void 0,t(M)(i))}}function of(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o;e&&r.length>0&&(o=e.classList).add.apply(o,t(M)(r))}function af(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o;e&&r.length>0&&(o=e.classList).remove.apply(o,t(M)(r))}var sf=function(e){return e.Ended="ended",e.Cancelled="cancelled",e}(sf||{});function lf(e,n,r,i){var o=r?"enter":"leave",a=fd(),s=void 0!==i?rf(i):function(){},l=nd(o,{enter:function(){return n.enter},leave:function(){return n.leave}}),c=nd(o,{enter:function(){return n.enterTo},leave:function(){return n.leaveTo}}),d=nd(o,{enter:function(){return n.enterFrom},leave:function(){return n.leaveFrom}});return af.apply(void 0,[e].concat(t(M)(n.enter),t(M)(n.enterTo),t(M)(n.enterFrom),t(M)(n.leave),t(M)(n.leaveFrom),t(M)(n.leaveTo),t(M)(n.entered))),of.apply(void 0,[e].concat(t(M)(l),t(M)(d))),a.nextFrame((function(){af.apply(void 0,[e].concat(t(M)(d))),of.apply(void 0,[e].concat(t(M)(c))),function(e,n){var r=fd();if(!e)return r.dispose;var i=getComputedStyle(e),o=i.transitionDuration,a=i.transitionDelay,s=t(u)([o,a].map((function(e){var n=t(u)(e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e})),1)[0];return void 0===n?0:n})),2);if(s[0]+s[1]!==0){var l=[];l.push(r.addEventListener(e,"transitionrun",(function(){l.splice(0).forEach((function(e){return e()})),l.push(r.addEventListener(e,"transitionend",(function(){n("ended"),l.splice(0).forEach((function(e){return e()}))}),{once:!0}),r.addEventListener(e,"transitioncancel",(function(){n("cancelled"),l.splice(0).forEach((function(e){return e()}))}),{once:!0}))}),{once:!0}))}else n("ended");r.add((function(){return n("cancelled")})),r.dispose}(e,(function(r){return"ended"===r&&(af.apply(void 0,[e].concat(t(M)(l))),of.apply(void 0,[e].concat(t(M)(n.entered)))),s(r)}))})),a.dispose}function uf(e){var n=e.container,r=e.direction,i=e.classes,o=e.events,a=e.onStart,s=e.onStop,l=nf(),u=pd(),c=vd(r),d=md((function(){return nd(c.current,{enter:function(){return o.current.beforeEnter()},leave:function(){return o.current.beforeLeave()},idle:function(){}})})),h=md((function(){return nd(c.current,{enter:function(){return o.current.afterEnter()},leave:function(){return o.current.afterLeave()},idle:function(){}})}));gd((function(){var e=fd();u.add(e.dispose);var r=n.current;if(r&&"idle"!==c.current&&l.current)return e.dispose(),d(),a.current(c.current),e.add(lf(r,i.current,"enter"===c.current,(function(n){var r;e.dispose(),nd(n,(r={},t(lr)(r,sf.Ended,(function(){h(),s.current(c.current)})),t(lr)(r,sf.Cancelled,(function(){})),r))}))),e.dispose}),[r])}function cf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").filter((function(e){return e.trim().length>1}))}var df=(0,c.createContext)(null);df.displayName="TransitionContext";var hf=function(e){return e.Visible="visible",e.Hidden="hidden",e}(hf||{});var ff=(0,c.createContext)(null);function pf(e){return"children"in e?pf(e.children):e.current.filter((function(e){return"visible"===e.state})).length>0}function gf(e){var n=vd(e),r=(0,c.useRef)([]),i=nf(),o=md((function(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ad.Hidden,s=r.current.findIndex((function(t){return t.id===e}));-1!==s&&(nd(a,(o={},t(lr)(o,ad.Unmount,(function(){r.current.splice(s,1)})),t(lr)(o,ad.Hidden,(function(){r.current[s].state="hidden"})),o)),qd((function(){var e;!pf(r)&&i.current&&(null==(e=n.current)||e.call(n))})))})),a=md((function(e){var t=r.current.find((function(t){return t.id===e}));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({id:e,state:"visible"}),function(){return o(e,ad.Unmount)}}));return(0,c.useMemo)((function(){return{children:r,register:a,unregister:o}}),[a,o,r])}function vf(){}ff.displayName="NestingContext";var mf=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function yf(e){var t,n={},r=!0,i=!1,o=void 0;try{for(var a,s=mf[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n[l]=null!=(t=e[l])?t:vf}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}var bf,_f=od.RenderStrategy,kf=cd((function(e,n){var r=e.beforeEnter,i=e.afterEnter,o=e.beforeLeave,a=e.afterLeave,s=e.enter,l=e.enterFrom,d=e.enterTo,h=e.entered,f=e.leave,p=e.leaveFrom,g=e.leaveTo,v=t(kt)(e,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),m=(0,c.useRef)(null),y=_d(m,n),b=t(u)((0,c.useState)("visible"),2),_=b[0],k=b[1],C=v.unmount?ad.Unmount:ad.Hidden,x=function(){var e=(0,c.useContext)(df);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),w=x.show,S=x.appear,E=x.initial,D=function(){var e=(0,c.useContext)(ff);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),I=D.register,R=D.unregister,L=(0,c.useRef)(null),A=Dd();(0,c.useEffect)((function(){if(A)return I(A)}),[I,A]),(0,c.useEffect)((function(){if(C===ad.Hidden&&A){if(w&&"visible"!==_)return void k("visible");var e;nd(_,(e={},t(lr)(e,"hidden",(function(){return R(A)})),t(lr)(e,"visible",(function(){return I(A)})),e))}}),[_,A,I,R,w,C]);var M=vd({enter:cf(s),enterFrom:cf(l),enterTo:cf(d),entered:cf(h),leave:cf(f),leaveFrom:cf(p),leaveTo:cf(g)}),T=function(e){var t=(0,c.useRef)(yf(e));return(0,c.useEffect)((function(){t.current=yf(e)}),[e]),t}({beforeEnter:r,afterEnter:i,beforeLeave:o,afterLeave:a}),N=xd();(0,c.useEffect)((function(){if(N&&"visible"===_&&null===m.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[m,_,N]);var P=E&&!S,O=!N||P||L.current===w?"idle":w?"enter":"leave",F=(0,c.useRef)(!1),B=gf((function(){F.current||(k("hidden"),R(A))}));uf({container:m,classes:M,events:T,direction:O,onStart:vd((function(){F.current=!0})),onStop:vd((function(e){F.current=!1,"leave"===e&&!pf(B)&&(k("hidden"),R(A))}))}),(0,c.useEffect)((function(){!P||(C===ad.Hidden?L.current=null:L.current=w)}),[w,P,_]);var z,W=v,H={ref:y};return t(c).createElement(ff.Provider,{value:B},t(c).createElement(eh,{value:nd(_,(z={},t(lr)(z,"visible",Xd.Open),t(lr)(z,"hidden",Xd.Closed),z))},sd({ourProps:H,theirProps:W,defaultTag:"div",features:_f,visible:"visible"===_,name:"Transition.Child"})))})),Cf=cd((function(e,n){var r=e.show,i=e.appear,o=void 0!==i&&i,a=e.unmount,s=t(kt)(e,["show","appear","unmount"]),d=(0,c.useRef)(null),h=_d(d,n);xd();var f,p=$d();if(void 0===r&&null!==p&&(r=nd(p,(f={},t(lr)(f,Xd.Open,!0),t(lr)(f,Xd.Closed,!1),f))),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var g=t(u)((0,c.useState)(r?"visible":"hidden"),2),v=g[0],m=g[1],y=gf((function(){m("hidden")})),b=t(u)((0,c.useState)(!0),2),_=b[0],k=b[1],C=(0,c.useRef)([r]);gd((function(){!1!==_&&C.current[C.current.length-1]!==r&&(C.current.push(r),k(!1))}),[C,r]);var x=(0,c.useMemo)((function(){return{show:r,appear:o,initial:_}}),[r,o,_]);(0,c.useEffect)((function(){if(r)m("visible");else if(pf(y)){var e=d.current;if(!e)return;var t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&m("hidden")}else m("hidden")}),[r,y]);var w={unmount:a};return t(c).createElement(ff.Provider,{value:y},t(c).createElement(df.Provider,{value:x},sd({ourProps:t(l)({},w,{as:c.Fragment,children:t(c).createElement(kf,t(l)({ref:h},w,s))}),theirProps:{},defaultTag:c.Fragment,features:_f,visible:"visible"===v,name:"Transition"})))})),xf=cd((function(e,n){var r=null!==(0,c.useContext)(df),i=null!==$d();return t(c).createElement(t(c).Fragment,null,!r&&i?t(c).createElement(Cf,t(l)({ref:n},e)):t(c).createElement(kf,t(l)({ref:n},e)))})),wf=Object.assign(Cf,{Child:xf,Root:Cf}),Sf=(c=o("6AbkI"),a=o("gYOhc"),c=o("6AbkI"),l=o("aJy7o"),u=o("56Cfp"),a=o("gYOhc"),c=o("6AbkI"),a=o("gYOhc"),{});e(Sf,"key",(function(){return bf}),(function(e){return bf=e})),bf="key_a5941f";var Ef,Df,If=function(e){return(0,a.jsx)("span",{className:t(Sf).key,children:e.children})},Rf={};e(Rf,"container",(function(){return Ef}),(function(e){return Ef=e})),e(Rf,"help",(function(){return Df}),(function(e){return Df=e})),Ef="container_a337d0",Df="help_a337d0";l=o("aJy7o"),u=o("56Cfp"),a=o("gYOhc"),c=o("6AbkI"),c=o("6AbkI");var Lf,Af="undefined"!=typeof Element,Mf="function"==typeof Map,Tf="function"==typeof Set,Nf="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Pf(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i,o;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Pf(e[r],t[r]))return!1;return!0}if(Mf&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Pf(r.value[1],t.get(r.value[0])))return!1;return!0}if(Tf&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Nf&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Af&&e instanceof Element)return!1;for(r=n;0!=r--;)if(("_owner"!==i[r]&&"__v"!==i[r]&&"__o"!==i[r]||!e.$$typeof)&&!Pf(e[i[r]],t[i[r]]))return!1;return!0}return e!=e&&t!=t}Lf=function(e,t){try{return Pf(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}};c=o("6AbkI");var Of,Ff,Bf,zf,Wf,Hf=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},Vf="undefined"!=typeof window&&window.document&&window.document.createElement?c.useLayoutEffect:c.useEffect,jf=[],Kf=function(e,n,r){void 0===r&&(r={});var i=c.useRef(null),o={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||jf},a=c.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=a[0],u=a[1],d=c.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);s.flushSync((function(){u({styles:Hf(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Hf(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),h=c.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[d,{name:"applyStyles",enabled:!1}])};return t(Lf)(i.current,e)?i.current||e:(i.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,d]),f=c.useRef();return Vf((function(){f.current&&f.current.setOptions(h)}),[h]),Vf((function(){if(null!=e&&null!=n){var t=(r.createPopper||Iu)(e,n,h);return f.current=t,function(){t.destroy(),f.current=null}}}),[e,n,r.createPopper]),{state:f.current?f.current.state:null,styles:l.styles,attributes:l.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},Uf={};e(Uf,"container",(function(){return Of}),(function(e){return Of=e})),e(Uf,"enter",(function(){return Ff}),(function(e){return Ff=e})),e(Uf,"leave",(function(){return Bf}),(function(e){return Bf=e})),e(Uf,"hide",(function(){return zf}),(function(e){return zf=e})),e(Uf,"show",(function(){return Wf}),(function(e){return Wf=e})),Of="container_2abbe2",Ff="enter_2abbe2",Bf="leave_2abbe2",zf="hide_2abbe2",Wf="show_2abbe2";var qf,Zf,Gf=function(e){var n=(0,c.useRef)(null),r=t(u)((0,c.useState)(null),2),i=r[0],o=r[1],s=Kf(e.reference,i,{placement:"top"}),d=s.styles,h=s.attributes;return(0,a.jsx)(tf,{children:(0,a.jsx)("div",t(l)({className:t(Uf).container,ref:n,style:d.popper},h.popper,{children:(0,a.jsx)(wf,{show:e.open,enter:t(Uf).enter,enterFrom:t(Uf).hide,enterTo:t(Uf).show,leave:t(Uf).leave,leaveFrom:t(Uf).show,leaveTo:t(Uf).hide,as:c.Fragment,beforeEnter:function(){return o(n.current)},afterEnter:e.afterEnter,afterLeave:function(){return o(null)},children:e.children})}))})},Qf=(c=o("6AbkI"),function(e){var t=e.reference,n=(0,c.useCallback)((function(){var e,n=null!==(e=null==t?void 0:t.querySelector("button"))&&void 0!==e?e:null;if(null===n)throw Error("No button to open Popover");n.click()}),[t]);return zc({keys:e.keys,callback:n}),null}),Jf=(a=o("gYOhc"),{});e(Jf,"container",(function(){return qf}),(function(e){return qf=e})),e(Jf,"hr",(function(){return Zf}),(function(e){return Zf=e})),qf="container_dc1884",Zf="hr_dc1884";var Yf,Xf=function(){return(0,a.jsx)("div",{className:t(Jf).container,children:(0,a.jsx)("hr",{className:t(Jf).hr})})},$f=(a=o("gYOhc"),{});e($f,"help",(function(){return Yf}),(function(e){return Yf=e})),Yf="help_ae4ced";var ep,tp,np,rp,ip,op=function(e){var n=e.help;return(0,a.jsx)("div",{className:t($f).help,children:n.content})},ap=(a=o("gYOhc"),a=o("gYOhc"),a=o("gYOhc"),function(e){switch(e){case"command":case"meta":return"⌘";case"ctrl":return"⌃";case"alt":case"option":return"⌥";case"shift":return"⇧";case"mod":return Ge()?"⌘":"⌃";default:return e.toUpperCase()}}),sp=function(e){return(0,a.jsx)("span",{children:e.keys.split("+").map(ap).join(" ")})},lp={};e(lp,"button",(function(){return ep}),(function(e){return ep=e})),e(lp,"active",(function(){return tp}),(function(e){return tp=e})),e(lp,"focus",(function(){return np}),(function(e){return np=e})),e(lp,"label",(function(){return rp}),(function(e){return rp=e})),e(lp,"shortcut",(function(){return ip}),(function(e){return ip=e})),ep="button_6fce24",tp="active_6fce24",np="focus_6fce24",rp="label_6fce24",ip="shortcut_6fce24";var up,cp=function(e){var n=e.action;return(0,a.jsx)(kh.Item,{children:function(e){var r=e.active;return(0,a.jsxs)("button",{className:[t(lp).button,r?t(lp).focus:"",n.active?t(lp).active:""].join(" "),onClick:n.action,children:[(0,a.jsx)("span",{className:t(lp).label,children:n.label}),n.shortcut&&(0,a.jsx)("span",{className:t(lp).shortcut,children:(0,a.jsx)(sp,{keys:n.shortcut})})]})}})},dp=(a=o("gYOhc"),a=o("gYOhc"),{});e(dp,"heading",(function(){return up}),(function(e){return up=e})),up="heading_da14d0";var hp,fp=function(e){var n=e.heading;return(0,a.jsx)("div",{className:t(dp).heading,children:n.text})},pp={};e(pp,"items",(function(){return hp}),(function(e){return hp=e})),hp="items_9136fb";var gp,vp=function(e){var n=e.group;return(0,a.jsxs)("div",{className:t(pp).container,children:[(0,a.jsx)(fp,{heading:n.heading}),(0,a.jsx)("div",{className:t(pp).items,children:n.actions.map((function(e,n){return(0,a.jsx)("div",{className:t(pp).item,children:(0,a.jsx)(cp,{action:e})},n)}))})]})},mp=(a=o("gYOhc"),function(e){var n=e.link;return(0,a.jsx)(kh.Item,{children:function(e){var r=e.active;return(0,a.jsx)("a",{href:n.url,className:[t(lp).button,r?t(lp).focus:""].join(" "),target:n.target,children:(0,a.jsx)("span",{className:t(lp).label,children:n.label})})}})}),yp=function(e){var t=e.item;switch(t.type){case"divider":return(0,a.jsx)(Xf,{});case"heading":return(0,a.jsx)(fp,{heading:t});case"help":return(0,a.jsx)(op,{help:t});case"action":return(0,a.jsx)(cp,{action:t});case"link":return(0,a.jsx)(mp,{link:t});case"group":return(0,a.jsx)(vp,{group:t})}},bp={};e(bp,"list",(function(){return gp}),(function(e){return gp=e})),gp="list_f7dc0e";var _p,kp,Cp,xp,wp,Sp,Ep,Dp=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(If,{children:"↑"}),(0,a.jsx)("span",{children:" "}),(0,a.jsx)(If,{children:"↓"}),(0,a.jsx)("span",{children:" to navigate, "}),(0,a.jsx)(If,{children:"↵"}),(0,a.jsx)("span",{children:" to select"})]})},Ip=function(e){var n=t(u)((0,c.useState)(null),2),r=n[0],i=n[1];return(0,a.jsxs)(a.Fragment,{children:[void 0!==e.shortcut&&(0,a.jsx)(Qf,{keys:e.shortcut,reference:r}),(0,a.jsx)("div",{ref:i,children:(0,a.jsx)(kh.Button,t(l)({as:Pp,ref:e.buttonRef,selected:e.open},e.button))}),(0,a.jsx)(Gf,{open:e.open,reference:r,children:(0,a.jsxs)(kh.Items,{static:!0,className:[t(Rf).container,t(bp).list].join(" "),children:[e.items.map((function(e,t){return(0,a.jsx)(yp,{item:e},t)})),(0,a.jsx)(Xf,{}),(0,a.jsx)(op,{help:{content:(0,a.jsx)(Dp,{})}})]})})]})},Rp=(0,c.forwardRef)((function(e,n){return(0,a.jsx)(kh,{children:function(r){var i=r.open;return(0,a.jsx)(Ip,t(l)({},e,{open:i,buttonRef:n}))}})})),Lp={};e(Lp,"container",(function(){return _p}),(function(e){return _p=e})),e(Lp,"button",(function(){return kp}),(function(e){return kp=e})),e(Lp,"error",(function(){return Cp}),(function(e){return Cp=e})),e(Lp,"icon",(function(){return xp}),(function(e){return xp=e})),e(Lp,"selected",(function(){return wp}),(function(e){return wp=e})),e(Lp,"primary",(function(){return Sp}),(function(e){return Sp=e})),e(Lp,"more",(function(){return Ep}),(function(e){return Ep=e})),_p="container_cacb6b",kp="button_cacb6b",Cp="error_cacb6b",xp="icon_cacb6b",wp="selected_cacb6b",Sp="primary_cacb6b",Ep="more_cacb6b";var Ap,Mp,Tp,Np,Pp=(0,c.forwardRef)((function(e,n){return(0,a.jsxs)("div",{className:[t(Lp).container].join(" "),children:[(0,a.jsxs)("button",{className:[t(Lp).button,t(Lp).primary,e.selected?t(Lp).selected:"",e.error?t(Lp).error:""].join(" "),onClick:e.onClick,ref:n,children:[(0,a.jsx)("span",{className:t(Lp).icon,children:(0,a.jsx)(e.Icon,{size:24})}),e.shortcut&&(0,a.jsx)(sp,{keys:e.shortcut})]}),e.more&&(0,a.jsx)("div",{className:t(Lp).more,children:(0,a.jsx)(Rp,{items:e.more,button:{Icon:$c}})})]})})),Op=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(If,{children:"⇥"}),(0,a.jsx)("span",{children:" to navigate, "}),(0,a.jsx)(If,{children:"↵"}),(0,a.jsx)("span",{children:" to select"})]})},Fp=function(e){var n=t(u)((0,c.useState)(null),2),r=n[0],i=n[1];return(0,a.jsxs)(a.Fragment,{children:[void 0!==e.shortcut&&(0,a.jsx)(Qf,{keys:e.shortcut,reference:r}),(0,a.jsx)("div",{ref:i,children:(0,a.jsx)(Zh.Button,t(l)({ref:e.buttonRef,as:Pp,selected:e.open},e.button))}),(0,a.jsx)(Gf,{open:e.open,reference:r,afterEnter:e.afterEnter,children:(0,a.jsxs)(Zh.Panel,{className:t(Rf).container,children:[e.children,(0,a.jsxs)("div",{className:t(Rf).help,children:[(0,a.jsx)(Xf,{}),(0,a.jsx)(op,{help:{content:(0,a.jsx)(Op,{})}})]})]})})]})},Bp=(0,c.forwardRef)((function(e,n){return(0,a.jsx)(Zh,{children:function(r){var i=r.open;return(0,a.jsx)(Fp,t(l)({},e,{buttonRef:n,open:i}))}})})),zp=(l=o("aJy7o"),a=o("gYOhc"),u=o("56Cfp"),a=o("gYOhc"),a=o("gYOhc"),{});e(zp,"container",(function(){return Ap}),(function(e){return Ap=e})),e(zp,"selected",(function(){return Mp}),(function(e){return Mp=e})),e(zp,"x",(function(){return Tp}),(function(e){return Tp=e})),e(zp,"caret",(function(){return Np}),(function(e){return Np=e})),Ap="container_90c826",Mp="selected_90c826",Tp="x_90c826",Np="caret_90c826";var Wp,Hp=function(e){var n=Ze[e.name],r=n.colors;return(0,a.jsx)(jc,{content:n.name,singleton:e.singleton,children:(0,a.jsxs)("button",{className:[t(zp).container,e.name===e.prefs.theme?t(zp).selected:""].join(" "),onClick:function(){return e.prefs.setTheme(e.name)},style:{background:r.bg.hex()},children:[(0,a.jsx)("span",{className:t(zp).text,style:{color:r.text.hex()},children:"Aa"}),(0,a.jsx)("span",{className:t(zp).caret,style:{background:r.caret.hex()}})]})})},Vp={};e(Vp,"container",(function(){return Wp}),(function(e){return Wp=e})),Wp="container_6cff81";var jp,Kp=function(e){var n=t(u)(Oc(),2),r=n[0],i=n[1];return(0,a.jsxs)("div",{className:t(Vp).container,children:[(0,a.jsx)(Vc,{singleton:r}),qe.map((function(t){return(0,a.jsx)("div",{children:(0,a.jsx)(Hp,{singleton:i,name:t,prefs:e.prefs})},t)}))]})},Up={};e(Up,"container",(function(){return jp}),(function(e){return jp=e})),jp="container_dd705f";a=o("gYOhc"),l=o("aJy7o"),a=o("gYOhc");var qp,Zp,Gp,Qp,Jp={};e(Jp,"fill",(function(){return qp}),(function(e){return qp=e})),e(Jp,"container",(function(){return Zp}),(function(e){return Zp=e})),e(Jp,"select",(function(){return Gp}),(function(e){return Gp=e})),e(Jp,"arrow",(function(){return Qp}),(function(e){return Qp=e})),qp="fill_fc4cbb",Zp="container_fc4cbb",Gp="select_fc4cbb",Qp="arrow_fc4cbb";var Yp,Xp=function(e,t){var n;return null===(n=e.options.find((function(e){return e.value===t})))||void 0===n?void 0:n.id},$p=function(e){return function(t){if(void 0!==e.setValue){var n=t.target.value,r=e.options.find((function(e){return e.id===n}));if(!r)throw Error('Option not found: "'.concat(n,'"'));e.setValue(r.value)}}},eg=function(e){var n=Xp(e,e.value),r=Xp(e,e.defaultValue);return(0,a.jsxs)("div",{className:[t(Jp).container,t(Jp).fill,e.className].join(" "),children:[(0,a.jsx)("select",t(l)({},e.native,{className:t(Jp).select,disabled:e.disabled,autoFocus:e.autoFocus,defaultValue:r,ref:e.forwardedRef,value:n,onChange:$p(e),children:e.options.map((function(e){return(0,a.jsx)("option",{value:e.id,disabled:e.disabled,children:e.label},e.id)}))})),(0,a.jsx)($c,{size:16,className:t(Jp).arrow})]})},tg=(l=o("aJy7o"),a=o("gYOhc"),{});e(tg,"slider",(function(){return Yp}),(function(e){return Yp=e})),Yp="slider_156755";var ng,rg,ig,og=function(e){return(0,a.jsx)("input",t(l)({},e.native,{type:"range",className:t(tg).slider,min:e.min,max:e.max,value:e.value,onChange:function(t){e.setValue(t.target.valueAsNumber)}}))},ag={};e(ag,"container",(function(){return ng}),(function(e){return ng=e})),e(ag,"select",(function(){return rg}),(function(e){return rg=e})),e(ag,"slider",(function(){return ig}),(function(e){return ig=e})),ng="container_c58219",rg="select_c58219",ig="slider_c58219";var sg,lg,ug,cg,dg,hg,fg=function(e){return(0,a.jsxs)("div",{className:t(ag).container,children:[(0,a.jsx)("div",{className:t(ag).select,children:(0,a.jsx)(eg,{value:e.prefs.size,setValue:function(t){return e.prefs.setSize(t)},options:E.map((function(e){return{id:e,label:e,value:e}})),native:{"aria-label":"Editor size select"}})}),(0,a.jsx)("div",{className:t(ag).slider,children:(0,a.jsx)(og,{native:{"aria-label":"Editor size slider"},min:0,max:E.length-1,value:E.indexOf(e.prefs.size),setValue:function(t){var n=E[t];e.prefs.setSize(n)}})})]})},pg=function(e){return(0,a.jsx)("div",{tabIndex:0,ref:e.focusRef,"aria-label":"Dummy focus anchor. Press tab to navigate."})},gg=function(e){return(0,a.jsxs)("div",{className:t(Up).container,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(pg,t(l)({},e)),(0,a.jsx)(fp,{heading:{text:"Editor size"}})]}),(0,a.jsx)(fg,{prefs:e.prefs}),(0,a.jsx)(fp,{heading:{text:"Theme"}}),(0,a.jsx)(Kp,{prefs:e.prefs})]})},vg=function(e){var t=(0,c.useRef)(null);return(0,a.jsx)(jc,{content:"Preferences…",singleton:e.singleton,children:(0,a.jsx)(Bp,{button:{Icon:ed,shortcut:td.prefs},afterEnter:function(){var e=t.current;if(null===e)throw Error("No element to focus");e.focus()},shortcut:td.prefs,children:(0,a.jsx)(gg,{prefs:e.prefs,focusRef:t})})})},mg=(M=o("hFMTy"),a=o("gYOhc"),c=o("6AbkI"),function(e){return function(t){return{action:function(){e.setPreviewTemplate(t)},label:al[t].name,active:e.previewTemplate===t}}}),yg=function(e){return[{type:"group",heading:{text:"Preview Template"},actions:ol.map(mg(e))}]},bg=function(e){return t(M)((n=e.prefs,[{type:"group",heading:{text:"Preview Layout"},actions:[{action:function(){return n.setPreviewSplit(!0)},label:"Split",active:!0===n.previewSplit},{action:function(){return n.setPreviewSplit(!1)},label:"Full",active:!1===n.previewSplit}]}])).concat(t(M)(yg(e.prefs)));var n},_g=function(e){var t=function(e){var t=e.editor,n=e.prefs,r=n.setPreviewVisible,i=n.previewVisible,o=n.previewSplit;return{withMouse:(0,c.useCallback)((function(){r((function(e){return!e}))}),[r]),withKeyboard:(0,c.useCallback)((function(){r(!i),!0!==o&&!1!==i&&window.setTimeout((function(){return t.focus()}),0)}),[o,i,r,t])}}(e);return zc({keys:td.preview,callback:t.withKeyboard}),(0,a.jsx)(jc,{content:"Toggle Preview",singleton:e.singleton,children:(0,a.jsx)(Pp,{onClick:t.withMouse,Icon:Xc,shortcut:td.preview,more:bg(e),selected:e.prefs.previewVisible})})},kg={};e(kg,"buffer",(function(){return sg}),(function(e){return sg=e})),e(kg,"container",(function(){return lg}),(function(e){return lg=e})),e(kg,"show",(function(){return ug}),(function(e){return ug=e})),e(kg,"body",(function(){return cg}),(function(e){return cg=e})),e(kg,"divider",(function(){return dg}),(function(e){return dg=e})),e(kg,"grow",(function(){return hg}),(function(e){return hg=e})),sg="buffer_a4c53f",lg="container_a4c53f",ug="show_a4c53f",cg="body_a4c53f",dg="divider_a4c53f",hg="grow_a4c53f";a=o("gYOhc"),c=o("6AbkI");function Cg(e){return(0,Kc.GenIcon)({tag:"svg",attr:{version:"1.1",viewBox:"0 0 34 32"},child:[{tag:"path",attr:{d:"M18.752 19.442c0.042 0.042 0.125 0.105 0.188 0.105h1.109c0.063 0 0.146-0.063 0.188-0.105l0.293-0.314c0.042-0.042 0.063-0.084 0.063-0.125l0.314-1.067c0.021-0.105 0-0.209-0.063-0.272l-0.23-0.188c-0.042-0.042-0.125-0.021-0.188-0.021h-1.004l-0.063-0.063c-0.042 0-0.084-0.021-0.126 0.021l-0.398 0.251c-0.042 0-0.063 0.105-0.084 0.146l-0.335 1.025c-0.042 0.105-0.021 0.23 0.063 0.314l0.272 0.293zM18.919 24.966l-0.084 0.021h-0.251l1.507-4.415c0.042-0.146-0.021-0.314-0.167-0.356l-0.084-0.021h-2.532c-0.105 0.021-0.188 0.105-0.209 0.209l-0.146 0.523c-0.042 0.146 0.063 0.272 0.209 0.314l0.063-0.021h0.377l-1.528 4.373c-0.042 0.146 0.021 0.335 0.167 0.398l0.084 0.063h2.344c0.125 0 0.23-0.105 0.272-0.23l0.146-0.502c0.063-0.147-0.021-0.314-0.167-0.356v0zM30.031 20.844l-0.398-0.523v-0.021c-0.063-0.063-0.125-0.125-0.209-0.125h-1.507c-0.084 0-0.146 0.084-0.209 0.125l-0.419 0.502h-0.649l-0.439-0.502v-0.021c-0.042-0.063-0.126-0.105-0.209-0.105h-0.837l4.227-4.227-4.729-4.687 4.227-4.352v-1.883l-0.586-0.753h-8.558l-0.691 0.732v0.607l-2.365-2.385-1.611 1.569-0.502-0.523h-8.454l-0.67 0.774v1.967l0.628 0.607h0.628v5.461l-2.929 2.929 2.929 2.93v6.696l1.088 0.607h2.427l1.904-1.988 4.52 4.52 3.034-3.034c0.021 0.084 0.084 0.105 0.188 0.146l0.084-0.042h1.967c0.126 0 0.23-0.021 0.251-0.125l0.146-0.418c0.042-0.146-0.021-0.272-0.167-0.314l-0.084 0.021h-0.084l0.712-2.239 0.481-0.481h1.046l-1.046 3.327c-0.042 0.146 0.042 0.23 0.188 0.293l0.084-0.042h1.904c0.105 0 0.209-0.021 0.251-0.125l0.167-0.377c0.063-0.146-0.021-0.272-0.146-0.335-0.021-0.021-0.063 0-0.105 0h-0.084l0.879-2.72h1.276l-1.067 3.327c-0.042 0.146 0.042 0.23 0.188 0.272l0.084-0.063h2.093c0.105 0 0.209-0.021 0.251-0.125l0.167-0.418c0.063-0.146-0.021-0.272-0.167-0.314-0.021-0.021-0.063 0.021-0.105 0.021h-0.146l1.172-3.871c0.042-0.105 0.021-0.23-0.021-0.293v0zM16.68 3.623l2.365 2.365v0.984l0.711 0.858h0.335l-6.068 5.859v-5.859h0.691l0.565-0.879v-1.862l-0.042-0.063 1.444-1.402zM4.167 16.010l2.532-2.532v5.064l-2.532-2.532zM12.307 24.025l12.22-12.555 4.478 4.499-4.227 4.227h-0.021c-0.063 0.021-0.105 0.063-0.146 0.105l-0.439 0.502h-0.607l-0.46-0.502c-0.042-0.063-0.126-0.125-0.209-0.125h-1.841c-0.125 0-0.23 0.084-0.272 0.209l-0.167 0.523c-0.042 0.146 0.021 0.272 0.167 0.335h0.314l-1.339 3.955-3.16 3.181-4.29-4.352z"}}]})(e)}var xg,wg,Sg,Eg,Dg=function(e){var t=e.prefs.setVim,n=(0,c.useCallback)((function(){return t((function(e){return!e}))}),[t]);return zc({keys:td.vim,callback:n}),(0,a.jsx)(jc,{content:"Toggle Vim mode",singleton:e.singleton,children:(0,a.jsx)(Pp,{onClick:n,Icon:Cg,selected:e.prefs.vim,shortcut:td.vim})})},Ig=function(e){return function(t){"Escape"===t.key&&(e.focus(),t.stopPropagation())}},Rg=function(e){e.file;var n=e.editor,r=e.prefs,i=e.prefs.size,o=(0,c.useRef)(null),s=t(u)(Oc(),2),l=s[0],d=s[1];!function(e){var t=(0,c.useCallback)((function(){var t=e.current;if(null===t)throw Error("Toolbar ref is not attached");var n=t.querySelector("button");if(null===n)throw Error("Toolbar doesn't have any button");n.focus()}),[e]);zc({keys:td.toolbar,callback:t})}(o);var h=(0,a.jsxs)("div",{className:t(kg).body,style:{maxWidth:R({size:i})},ref:o,onKeyDown:Ig(n),children:[(0,a.jsx)(Vc,{singleton:l}),(0,a.jsx)(_g,{singleton:d,prefs:r,editor:n}),(0,a.jsx)(Dg,{singleton:d,prefs:r}),(0,a.jsx)("div",{className:t(kg).grow}),(0,a.jsx)(vg,{singleton:d,prefs:r})]});return(0,a.jsx)("div",{className:[t(kg).buffer,e.show?t(kg).show:""].join(" "),children:(0,a.jsx)("div",{className:t(kg).container,children:h})})},Lg=(l=o("aJy7o"),u=o("56Cfp"),function(){var e=t(u)(zs({defaultValue:!1,storageKey:"preview-visible"}),2),n=e[0],r=e[1],i=t(u)(zs({defaultValue:!0,storageKey:"preview-split"}),2);return{previewVisible:n,setPreviewVisible:r,previewSplit:i[0],setPreviewSplit:i[1]}}),Ag=(u=o("56Cfp"),u=o("56Cfp"),function(){var e=t(u)(zs({storageKey:"size",defaultValue:"L"}),2);return{size:e[0],setSize:e[1]}}),Mg=(u=o("56Cfp"),function(){var e=t(u)(zs({storageKey:"vim",defaultValue:!1}),2);return{vim:e[0],setVim:e[1]}}),Tg=function(){return t(l)({},{theme:(e=t(u)(zs({storageKey:"theme",defaultValue:"bushido"}),2))[0],setTheme:e[1]},Lg(),sl(),Mg(),Ag());var e},Ng=(a=o("gYOhc"),function(e){var t,n,r,i=Ze[e];return":root {\n\t\t".concat((t=i,n=t.colors,r=[],Object.keys(n).forEach((function(e){var t=n[e];r.push("--".concat(e,"-color: ").concat(t.hex(),";"));var i="".concat(t.red(),", ").concat(t.green(),", ").concat(t.blue());r.push("--".concat(e,"-color-rgb: ").concat(i,";"))})),r.join("\n")),"\n\t\t").concat(function(e){var t=e.scheme;return"\n--shadow-opacity: ".concat("light"===t?"0.05":"0.2",";\n--border-inset: 0 0 0 1px ").concat("light"===t?"white inset":"black",";\n")}(i),"\n\t}")}),Pg=function(e){return(0,a.jsx)("style",{children:Ng(e.theme)})},Og={};e(Og,"app",(function(){return xg}),(function(e){return xg=e})),e(Og,"body",(function(){return wg}),(function(e){return wg=e})),e(Og,"toolbar",(function(){return Sg}),(function(e){return Sg=e})),e(Og,"muted",(function(){return Eg}),(function(e){return Eg=e})),xg="app_9d169f",wg="body_9d169f",Sg="toolbar_9d169f",Eg="muted_9d169f";a=o("gYOhc");var Fg,Bg={};e(Bg,"container",(function(){return Fg}),(function(e){return Fg=e})),Fg="container_c8ece8";var zg=function(){return(0,a.jsx)("div",{className:t(Bg).container,children:(0,a.jsx)("p",{className:t(Bg).body,children:"Drop file here to open"})})},Wg=(u=o("56Cfp"),_t=o("4GLgu"),c=o("6AbkI"),_t=o("4GLgu"),St=o("fZTNQ"),Lt=o("hgtn2"),Ja=o("7ZYu7"),At=o("aV5UR"),function(e){"use strict";t(Lt)(r,e);var n=t(At)(r);function r(){return t(St)(this,r),n.apply(this,arguments)}return r}(t(Ja)(Error))),Hg={editorNull:new Wg("Editor is not ready"),dropType:new Wg("Dropped content is not a file"),fileFolder:new Wg("Folder is not supported yet"),recentNull:new Wg("No recent file. This is coding error."),permission:new Wg("Permission is not granted")},Vg=function(){var e=t(yt)(t(_t).mark((function e(n,r){return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.queryPermission({mode:r});case 2:if("granted"!==e.sent){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,n.requestPermission({mode:r});case 7:if("granted"!==e.sent){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jg=function(){var e=t(yt)(t(_t).mark((function e(n){var r;return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vg(n,"read");case 2:if(!1!==e.sent){e.next=5;break}throw Hg.permission;case 5:return e.next=7,n.getFile();case 7:return(r=e.sent).handle=n,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();_t=o("4GLgu");o("jU8VS");y=o("kqL91");var Kg,Ug=function(){var e=t(yt)(t(_t).mark((function e(){var n;return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.confirm(["There are unsaved changes that will be lost if you continue.","Are you sure you want to continue?"].join("\n")),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qg=function(){var e=t(yt)(t(_t).mark((function e(n){var r,i,o,a,s;return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.editor,o=n.fileModel,null!==i){e.next=4;break}throw Hg.editorNull;case 4:if(null===(r=i.getModel())||void 0===r||r.dispose(),null!==o){e.next=9;break}e.t0="",e.next=12;break;case 9:return e.next=11,o.text();case 11:e.t0=e.sent;case 12:a=e.t0,s=y.editor.createModel(a,"markdown"),i.setModel(s),setTimeout((function(){return i.focus()}),0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zg=function(){var e=t(yt)(t(_t).mark((function e(n){return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==n.fileDirty){e.next=6;break}return e.next=3,Ug();case 3:if(!1!==e.sent){e.next=6;break}return e.abrupt("return");case 6:return n.setFileModel(n.fileModel),n.setFileDirty(!1),e.next=10,qg(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gg=function(){var e=t(yt)(t(_t).mark((function e(n){var r,i,o;return t(_t).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(r=n.dataTransfer.items[0]).getAsFileSystemHandle){e.next=12;break}return e.next=4,r.getAsFileSystemHandle();case 4:if(null!==(i=e.sent)){e.next=7;break}throw Hg.dropType;case 7:if(i instanceof FileSystemFileHandle){e.next=9;break}throw Hg.fileFolder;case 9:return e.abrupt("return",jg(i));case 12:if(null!==(o=r.getAsFile())){e.next=15;break}throw Hg.dropType;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qg=function(e){var n=(0,c.useRef)(0),r=t(u)((0,c.useState)(!1),2),i=r[0],o=r[1];return{handlers:{onDrop:function(){var r=t(yt)(t(_t).mark((function r(i){var a;return t(_t).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),o(!1),n.current=0,t.next=5,Gg(i);case 5:a=t.sent,Zg({editor:e.editor.value,fileDirty:e.file.dirty,setFileDirty:e.file.setDirty,fileModel:a,setFileModel:e.file.setModel});case 7:case"end":return t.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),onDragEnter:function(e){e.preventDefault(),0===n.current&&o(!0),n.current=n.current+1},onDragLeave:function(e){1===n.current&&o(!1),n.current=n.current-1},onDragOver:function(e){e.preventDefault()}},dragging:i}};a=o("gYOhc"),T=o("84NKZ");Kg=o("3CMd0")();var Jg;c=o("6AbkI");var Yg,Xg=(Yg=c)&&"object"==typeof Yg&&"default"in Yg?Yg.default:Yg;function $g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ev=!("undefined"==typeof window||!window.document||!window.document.createElement);Jg=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var i,o=[];function a(){i=e(o.map((function(e){return e.props}))),s.canUseDOM?t(i):n&&(i=n(i))}var s=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.peek=function(){return i},s.rewind=function(){if(s.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=i;return i=void 0,o=[],e};var l=s.prototype;return l.UNSAFE_componentWillMount=function(){o.push(this),a()},l.componentDidUpdate=function(){a()},l.componentWillUnmount=function(){var e=o.indexOf(this);o.splice(e,1),a()},l.render=function(){return Xg.createElement(r,this.props)},s}(c.PureComponent);return $g(s,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),$g(s,"canUseDOM",ev),s}};c=o("6AbkI");var tv,nv,rv,iv,ov=o("vdCOF"),av="bodyAttributes",sv="htmlAttributes",lv="titleAttributes",uv={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},cv=(Object.keys(uv).map((function(e){return uv[e]})),"charset"),dv="cssText",hv="href",fv="http-equiv",pv="innerHTML",gv="itemprop",vv="name",mv="property",yv="rel",bv="src",_v="target",kv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Cv="defaultTitle",xv="defer",wv="encodeSpecialCharacters",Sv="onChangeClientState",Ev="titleTemplate",Dv=Object.keys(kv).reduce((function(e,t){return e[kv[t]]=t,e}),{}),Iv=[uv.NOSCRIPT,uv.SCRIPT,uv.STYLE],Rv="data-react-helmet",Lv="function"==typeof Symbol&&"symbol"===t(T)(Symbol.iterator)?function(e){return void 0===e?"undefined":t(T)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":t(T)(e)},Av=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Mv=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Pv=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ov=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Fv=function(e){var t=Vv(e,uv.TITLE),n=Vv(e,Ev);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=Vv(e,Cv);return t||r||void 0},Bv=function(e){return Vv(e,Sv)||function(){}},zv=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Tv({},e,t)}),{})},Wv=function(e,t){return t.filter((function(e){return void 0!==e[uv.BASE]})).map((function(e){return e[uv.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},Hv=function(e,n,r){var i={};return r.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&Zv("Helmet: "+e+' should be of type "Array". Instead found type "'+Lv(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var o={};r.filter((function(e){for(var t=void 0,r=Object.keys(e),a=0;a<r.length;a++){var s=r[a],l=s.toLowerCase();-1===n.indexOf(l)||t===yv&&"canonical"===e[t].toLowerCase()||l===yv&&"stylesheet"===e[l].toLowerCase()||(t=l),-1===n.indexOf(s)||s!==pv&&s!==dv&&s!==gv||(t=s)}if(!t||!e[t])return!1;var u=e[t].toLowerCase();return i[t]||(i[t]={}),o[t]||(o[t]={}),!i[t][u]&&(o[t][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(o),s=0;s<a.length;s++){var l=a[s],u=t(ov)({},i[l],o[l]);i[l]=u}return e}),[]).reverse()},Vv=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},jv=(tv=Date.now(),function(e){var t=Date.now();t-tv>16?(tv=t,e(t)):setTimeout((function(){jv(e)}),0)}),Kv=function(e){return clearTimeout(e)},Uv="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||jv:n.requestAnimationFrame||jv,qv="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Kv:n.cancelAnimationFrame||Kv,Zv=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},Gv=null,Qv=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.onChangeClientState,u=e.scriptTags,c=e.styleTags,d=e.title,h=e.titleAttributes;Xv(uv.BODY,r),Xv(uv.HTML,i),Yv(d,h);var f={baseTag:$v(uv.BASE,n),linkTags:$v(uv.LINK,o),metaTags:$v(uv.META,a),noscriptTags:$v(uv.NOSCRIPT,s),scriptTags:$v(uv.SCRIPT,u),styleTags:$v(uv.STYLE,c)},p={},g={};Object.keys(f).forEach((function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(g[e]=f[e].oldTags)})),t&&t(),l(e,p,g)},Jv=function(e){return Array.isArray(e)?e.join(""):e},Yv=function(e,t){void 0!==e&&document.title!==e&&(document.title=Jv(e)),Xv(uv.TITLE,t)},Xv=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(Rv),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s++){var l=a[s],u=t[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),-1===i.indexOf(l)&&i.push(l);var c=o.indexOf(l);-1!==c&&o.splice(c,1)}for(var d=o.length-1;d>=0;d--)n.removeAttribute(o[d]);i.length===o.length?n.removeAttribute(Rv):n.getAttribute(Rv)!==a.join(",")&&n.setAttribute(Rv,a.join(","))}},$v=function(e,t){var n=document.head||document.querySelector(uv.HEAD),r=n.querySelectorAll(e+"["+"data-react-helmet]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===pv)n.innerHTML=t.innerHTML;else if(r===dv)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s=void 0===t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(Rv,"true"),i.some((function(e,t){return a=t,n.isEqualNode(e)}))?i.splice(a,1):o.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:o}},em=function(e){return Object.keys(e).reduce((function(t,n){var r=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},tm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[kv[n]||n]=e[n],t}),t)},nm=function(e,n,r){switch(e){case uv.TITLE:return{toComponent:function(){return e=n.title,r=n.titleAttributes,(i={key:e})["data-react-helmet"]=!0,o=tm(r,i),[t(c).createElement(uv.TITLE,o,e)];var e,r,i,o},toString:function(){return function(e,t,n,r){var i=em(n),o=Jv(t);return i?"<"+e+' data-react-helmet="true" '+i+">"+Ov(o,r)+"</"+e+">":"<"+e+' data-react-helmet="true">'+Ov(o,r)+"</"+e+">"}(e,n.title,n.titleAttributes,r)}};case av:case sv:return{toComponent:function(){return tm(n)},toString:function(){return em(n)}};default:return{toComponent:function(){return function(e,n){return n.map((function(n,r){var i,o=((i={key:r})["data-react-helmet"]=!0,i);return Object.keys(n).forEach((function(e){var t=kv[e]||e;if(t===pv||t===dv){var r=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:r}}else o[t]=n[e]})),t(c).createElement(e,o)}))}(e,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===pv||e===dv)})).reduce((function(e,t){var i=void 0===r[t]?t:t+'="'+Ov(r[t],n)+'"';return e?e+" "+i:i}),""),o=r.innerHTML||r.cssText||"",a=-1===Iv.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+i+(a?"/>":">"+o+"</"+e+">")}),"")}(e,n,r)}}}},rm=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.scriptTags,u=e.styleTags,c=e.title,d=void 0===c?"":c,h=e.titleAttributes;return{base:nm(uv.BASE,t,r),bodyAttributes:nm(av,n,r),htmlAttributes:nm(sv,i,r),link:nm(uv.LINK,o,r),meta:nm(uv.META,a,r),noscript:nm(uv.NOSCRIPT,s,r),script:nm(uv.SCRIPT,l,r),style:nm(uv.STYLE,u,r),title:nm(uv.TITLE,{title:d,titleAttributes:h},r)}},im=t(Jg)((function(e){return{baseTag:Wv([hv,_v],e),bodyAttributes:zv(av,e),defer:Vv(e,xv),encode:Vv(e,wv),htmlAttributes:zv(sv,e),linkTags:Hv(uv.LINK,[yv,hv],e),metaTags:Hv(uv.META,[vv,cv,fv,mv,gv],e),noscriptTags:Hv(uv.NOSCRIPT,[pv],e),onChangeClientState:Bv(e),scriptTags:Hv(uv.SCRIPT,[bv,pv],e),styleTags:Hv(uv.STYLE,[dv],e),title:Fv(e),titleAttributes:zv(lv,e)}}),(function(e){Gv&&qv(Gv),e.defer?Gv=Uv((function(){Qv(e,(function(){Gv=null}))})):(Qv(e),Gv=null)}),rm)((function(){return null})),om=(nv=im,iv=rv=function(e){function n(){return Av(this,n),Pv(this,e.apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":t(T)(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),n.prototype.shouldComponentUpdate=function(e){return!t(Lf)(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case uv.SCRIPT:case uv.NOSCRIPT:return{innerHTML:t};case uv.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return Tv({},r,((t={})[n.type]=[].concat(r[n.type]||[],[Tv({},i,this.mapNestedChildrenToProps(n,o))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,o=e.newChildProps,a=e.nestedChildren;switch(r.type){case uv.TITLE:return Tv({},i,((t={})[r.type]=a,t.titleAttributes=Tv({},o),t));case uv.BODY:return Tv({},i,{bodyAttributes:Tv({},o)});case uv.HTML:return Tv({},i,{htmlAttributes:Tv({},o)})}return Tv({},i,((n={})[r.type]=Tv({},o),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Tv({},t);return Object.keys(e).forEach((function(t){var r;n=Tv({},n,((r={})[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,n){var r=this,i={};return t(c).Children.forEach(e,(function(e){if(e&&e.props){var t=e.props,o=t.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Dv[n]||n]=e[n],t}),t)}(Nv(t,["children"]));switch(r.warnOnInvalidChildren(e,o),e.type){case uv.LINK:case uv.META:case uv.NOSCRIPT:case uv.SCRIPT:case uv.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:a,nestedChildren:o});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:a,nestedChildren:o})}}})),n=this.mapArrayTypeChildrenToProps(i,n)},n.prototype.render=function(){var e=this.props,n=e.children,r=Nv(e,["children"]),i=Tv({},r);return n&&(i=this.mapChildrenToProps(n,i)),t(c).createElement(nv,i)},Mv(n,null,[{key:"canUseDOM",set:function(e){nv.canUseDOM=e}}]),n}(t(c).Component),rv.propTypes={base:t(Kg).object,bodyAttributes:t(Kg).object,children:t(Kg).oneOfType([t(Kg).arrayOf(t(Kg).node),t(Kg).node]),defaultTitle:t(Kg).string,defer:t(Kg).bool,encodeSpecialCharacters:t(Kg).bool,htmlAttributes:t(Kg).object,link:t(Kg).arrayOf(t(Kg).object),meta:t(Kg).arrayOf(t(Kg).object),noscript:t(Kg).arrayOf(t(Kg).object),onChangeClientState:t(Kg).func,script:t(Kg).arrayOf(t(Kg).object),style:t(Kg).arrayOf(t(Kg).object),title:t(Kg).string,titleAttributes:t(Kg).object,titleTemplate:t(Kg).string},rv.defaultProps={defer:!0,encodeSpecialCharacters:!0},rv.peek=nv.peek,rv.rewind=function(){var e=nv.rewind();return e||(e=rm({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},iv);om.renderStatic=om.rewind;var am=function(e){return(0,a.jsx)(om,{children:(0,a.jsx)("title",{children:(t=e.file,i=t.dirty?"* ":"",o=null!==(r=null===(n=t.model)||void 0===n?void 0:n.name)&&void 0!==r?r:"Untitled","".concat(i).concat(o," - Samuwrite"))})});var t,n,r,i,o},sm=(u=o("56Cfp"),c=o("6AbkI"),function(e){var n=e.editor.value,r=t(u)((0,c.useState)(!1),2),i=r[0],o=r[1],a=t(u)((0,c.useState)(!0),2),s=a[0],l=a[1];return(0,c.useEffect)((function(){if(null!==n){var e=[n.onDidChangeModelContent((function(){l(!1)})),n.onDidScrollChange((function(e){e.scrollTopChanged&&l(!1)}))];return function(){return e.forEach((function(e){return e.dispose()}))}}}),[n]),(0,c.useEffect)((function(){if(null!==n){var e=[n.onMouseDown((function(){o(!0)})),n.onMouseUp((function(){o(!1)}))];return function(){return e.forEach((function(e){return e.dispose()}))}}}),[n]),{handlers:{onMouseOver:function(){l(!0)},onFocus:function(){l(!0)}},mute:i,show:s}}),lm=document.getElementById("app");if(null===lm)throw Error("`#app` is null");s.render((0,a.jsx)((function(){var e,n={value:(e=t(u)((0,c.useState)(null),2))[0],set:e[1]},r=v(),i=Tg(),o=sm({editor:n}),s=Qg({editor:n,file:r});return(0,a.jsxs)("div",t(l)({className:t(Og).app},s.handlers,{children:[(0,a.jsx)(am,{file:r}),(0,a.jsx)(Pg,{theme:i.theme}),null!==n.value&&(0,a.jsx)("div",t(l)({className:[t(Og).toolbar,o.mute?t(Og).muted:""].join(" ")},o.handlers,{children:(0,a.jsx)(Rg,{show:o.show,editor:n.value,file:r,prefs:i})})),(0,a.jsx)("div",{className:t(Og).body,children:(0,a.jsx)(hl,{editor:n,file:r,prefs:i})}),s.dragging&&(0,a.jsx)(zg,{})]}))}),{}),lm)}();